<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 12.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Creating Combined Curve's Catalog</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>Mechanical Modeler</h1>
    </td>
    <td valign="top">
      <h2></h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Creating Combined Curve's Catalog</h3>
      <em>Defining a New StartUp in a catalog&nbsp;</em></td>
  </tr>
  <tr>
    <td class="use" colspan="2">Use Case</td>
  </tr>
  <tr>
    <td colspan="3"><a href="CAAMmrCombinedCurveSamplesOverview.htm">Creating a
      New Geometrical Feature: The Combined Curve</a> &gt; <b>Creating Combined
      Curve's Catalog</b></td>
    <td valign="top"></td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p> This
      use case explains how to generate a Catalog file including the Combined
      Curve Feature's Initial Definition: its StartUp.
      <ul>
        <li><strong><a href="#Learn">What You Will Learn With This Use Case</a></strong></li>
        <li><strong><a href="#UseCase">The CAAMmrCreateCombCrvCatalog Use Case</a></strong>
          <ul>
            <li><a href="#What">What Does CAAMmrCreateCombCrvCatalog Do</a></li>
            <li><a href="#How">How to Create the 
			CAAMmrCombinedCurveCatalog.CATfct Catalog</a></li>
            <li><a href="#Where">Where to Find the CAAMmrCombinedCurveCatalog 
			OSM file</a></li>
          </ul>
        </li>
        <li><strong><a href="#Step">Step-by-Step</a></strong></li>
        <li><strong><a href="#InShort">In Short</a></strong></li>
        <li><strong><a href="#References">References</a></strong></li>
      </ul>
    </td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="Learn"></a>What You Will Learn With This Use Case</h3>
<p>This use case is intended to help you generate the <b>Catalog file</b>
containing the <b>Combined Curve Feature StartUp</b>.</p>

<!---------------------------------comment------------------------------------->

<!---------------------------------comment------------------------------------->

<h3><a name="UseCase"></a>The CAAMmrCreateCombCrvCatalog Use Case</h3>
<p>CAAMmrCreateCombCrvCatalog is a use case of the CAAMechanicalModeler.edu
framework that illustrates MechanicalModeler framework capabilities.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="What"></a>What Does CAAMmrCreateCombCrvCatalog Do</h4>
<p>The goal of this use case is to generate the Catalog file containing the
Combined Curve Feature's StartUp. As described in the technical article entitled
&quot;Creating a New StartUp from a Mechanical Feature&quot; [<a href="#References">1</a>], the first
thing is
to define the new StartUp:</p>
<ol>
  <li>Choosing the derived mechanical StartUp</li>
  <p>The Combined Curve is a wireframe geometrical object, so we have chosen to
  derive the CombinedCurve StartUp from the <b>GeometricalElement3D</b>
  mechanical StartUp.&nbsp;Derive from the GSMGeom StartUp can be also
  possible, but it is not possible to derive from MechanicalFormFeature and
  MechanicalContextualFeature since the Combined Curve is not a solid feature.&nbsp;</p>
  <p>The hieararchy of StartUp is the following:</p>
  <table border="0">
    <tr>
      <td><img border="0" src="images/CAAMmrCombinedCurveStartUps.jpg"></td>
    </tr>
  </table>
  <p>In so doing, you will automatically benefit from all standard behaviors
  already implemented for all geometrical features and more generally for all
  mechanical features. Refer to the article entitled &quot;Integrating a New
  Mechanical Feature in V5&quot; [<a href="#References">2</a>] for details about
  the standard behavior of a feature deriving from the GeometricalElement3D
  StartUp and the interfaces to implement to be fully integrated in V5.&nbsp;</p>
  <li>Defining the attributes of the new feature</li>
</ol>
<blockquote>
<p>Now that you have met the parents of the Combined Curve Feature, you still
have to define its own Attributes. Those Attributes will be added to those
inherited from its ancestors.</p>
<p>Since a Combined Curve is build using two curves and two directions, it is
straightforward to define <b>four new input Attributes</b>: &quot;Curve1&quot;,
&quot;Direction1&quot;, &quot;Curve2&quot; and &quot;Direction2&quot;.</p>
<p>These Attributes will be point to four other Features. This means they are of
type &quot;tk_specobject&quot;. From an update point of view, the input
Attributes have to be evaluated before building the Combined Curve. That's why
they are IN Attributes ( &quot;sp_IN&quot; type ) [<a href="#References">3</a>]</p>
</blockquote>
<p>Once the Combined Curve Feature's Inheritance and Attributes have been
defined, you are ready to generate the <b>Combined Curve Catalog file</b> that
will contain the Combine Feature's initial definition: The Combined Curve
Feature &quot;<b>StartUp</b>&quot;.</p>
<p>Catalogs are particular files in which StartUp are created, enhanced with new
Attributes and stored. These StartUps are then instantiated into run time
instances.</p>
<p>Here is a figure representing what the Combined Curve Catalog File will
&quot;look like&quot;:</p>
<table>
<caption><i><a name="Fig.1">Fig.1</a>: Extract of the CAAMmrCombinedCurveCatalog.CATfct file</i></caption>
  <tr>
    <td><img border="0" src="images/CAAMmrCombinedCurveStartUp.jpg" width="226" height="136"></td>
    <td>You can see the Combined Curve Feature StartUp - named
      &quot;CombinedCurve&quot; - and its four input Attributes, all
      included in the <i>CAAMmrCombinedCurveCatalog </i>catalog file. This file
      is located in the CNEXT/resources/graphic directory of the
      CAAMechanicalModeler.edu framework.</td>
  </tr>
</table>
<p>This <i>CAAMmrCombinedCurveCatalog </i>file will be created by a batch, the CAAMmrCreateCombCrvCatalog
batch. Refer to the &quot;<a href="#How">How to launch theCAAMmrCreateCombCrvCatalog
Code</a>&quot; section for details.&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="How"></a>How to Create the CAAMmrCombinedCurveCatalog.CATfct 
Catalog</h4>


<p>This use case is part of the &quot;<a href="CAAMmrCombinedCurveSamplesOverview.htm">Creating
a New Geometrical Feature: The Combined Curve</a>&quot; use case.</p>
<p>To create the CAAMmrCombinedCurveCatalog.CATfct catalog, you will need to set up the run time environment 
and then execute the <b>CATfctEditorAssisant</b> tool as indicated.</p>
<table class="code" id="table14">
	<tr>
		<td>
		<pre>$ mkrun -c sh
$ cd <em>your_workspace_root</em>
$ # Make sure that no previous catalog exists in the run-time view, including in the concatenation
$ rm <em>OS_directory</em>/resources/graphic/CAAMmrCombinedCurveCatalog.CATfct

$ # Create empty catalog in the run-time view and empty osm (the absolute path for the catalog is MANDATORY)
$ <strong>CATfctEditorAssistant -create-new-catalog -catalog-name</strong> CAAMmrCombinedCurveCatalog.CATfct 
<strong>-with-client-id</strong> SAMPLES <strong>-into-directory</strong> $PWD/<em>OS_Directory</em>/resources/graphic

$ # Upgrade the empty catalog with the InputData osm. Note that the upgraded catalog will be output in the current directory
$ <strong>CATfctEditorAssistant -update-catalog -catalog-name</strong> CAAMmrCombinedCurveCatalog.CATfct 
<strong>-with-client-id</strong> SAMPLES <strong>-with-osm</strong> $PWD/CAAMmrCombinedCurveCatalog.osm
 <strong>-into-directory</strong> $PWD
		
$ # Remove the empty catalog and osm
$ rm <em>OS_directory</em>/resources/graphic/CAAMmrCombinedCurveCatalog.CATfct 
$ rm <em>OS_directory</em>/resources/graphic/CAAMmrCombinedCurveCatalog.osm

$ exit # the mkrun shell
</pre>
		</td>
	</tr>
</table>
<p><b>Notes</b>: </p>
<p>CATfctEditorAssistant looks for the catalog and outputs it in two different 
locations:</p>
<ul>
	<li>On input, the catalog argument is stripped of its directory and looked 
	up in the run-time view. At your workspace level, it is the 
<code><i>workspace_root</i>/<i>OS_directory</i>/resources/graphic</code> directory. 
	</li>
	<li>On output, the catalog is written at the location specified by the 
	catalog argument</li>
</ul>
<p>The place to store catalogs in your workspace is 
<code><i>workspace_root</i>/CNext/resources/graphic</code>. Any catalog found in 
this directory will be automatically copied to the run-time view 
<code><i>workspace_root</i>/<i>OS_directory</i>/resources/graphic </code>by the 
mkrtv command. </p>
 
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Where"></a>Where to Find the CAAMmrCombinedCurveCatalog OSM</h4>

<p>The <code>CAAMmrCombinedCurveCatalog.osm</code> file is located in the InputData directory of 
the <code>CAAMechanicalModeler.edu</code> framework:</p>
<p><code>InstallRootFolder\CAADoc\CAAMechanicalModeler.edu\InputData</code></p>
<p>where <code>InstallRootDirectory</code>  [<a href="#References">5</a>] is the directory where the CAA CD-ROM
is installed.</p>


<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="Step"></a>Step-by-Step</h3>

<p>There are two parts in the <code>CAAMmrCombinedCurveCatalog</code> OSM:</p>
<ol>
  <li><a href="#Step1">OSM prolog</a></li>
  <li><a href="#Step2">The Combined Curve Catalog StartUp</a></li>
</ol>
<p>We will now comment each of those sections by looking at the code.</p>

<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="Step1"></a>OSM Prolog</h3>
<p>The OSM prolog defines the catalog (<code>CAAMmrCombinedCurveCatalog.CATfct</code>) and 
its root container (<code>CATFeatCont</code>):</p>
<table class="code">
  <tr>
    <td>
      <pre>document `CAAMmrCombinedCurveCatalog.CATfct` {
	container CATFeatCont #root {
...</pre>
    </td>
  </tr>
</table>

<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->


<h3><a name="Step2"></a>The CombinedCurve StartUp</h3>
<p>The CombinedCurve StartUp is derived from the GeometricalElement3D 
(GeometricalElement3D#7@`MechMod.feat`):</p>
<table class="code">
  <tr>
    <td>
      <pre>...
feature CombinedCurve GeometricalElement3D#7@`MechMod.feat` #startup {
	specobject Curve1 #in
	specobject Direction1 #in
	specobject Curve2 #in
	specobject Direction2 #in
         }
...</pre>
    </td>
  </tr>
</table>
<p align="left">The CombinedCurve feature has four attributes: Curve1, Direction1, 
Curve2 and Direction2. They are all of the feature type and the IN quality.</p>


<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<hr>

<h3><a name="InShort"></a>In Short</h3>
<p>This use case has demonstrated how to create and define the Combined Curve
Feature's StartUp in a Catalog. This StartUp will later be used to <b>instantiate</b>
Combined Curve Instances through a factory interface [<a href="#References">4</a>].</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="References"></a>References</h3>
<table width="100%" height="87">
  <tr>
    <td valign="top" height="18">[1]</td>
    <td height="18"><a href="../CAAMmrTechArticles/CAAMmrCreatingNewFeat.htm">Creating
      a New StartUp Deriving from a Mechanical StartUp&nbsp;</a></td>
  </tr>
  <tr>
    <td valign="top" height="17">[2]</td>
    <td height="17"><a href="../CAAMmrTechArticles/CAAMmrFeatureIntegration.htm">Integrating a New
  Mechanical Feature in V5</a></td>
  </tr>
  <tr>
    <td valign="top" height="18">[3]</td>
    <td height="18"><a href="../CAAOsmQuickRefs/CAAOsmHome.htm">Feature
      Modeler Overview</a></td>
  </tr>
  <tr>
    <td valign="top" height="18">[4]</td>
    <td height="18"><a href="CAAMmrCombinedCurveFactory.htm">Creating Combined
      Curve's Factory Interface</a></td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2" height="18">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [Mar 2000]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top">Version: <strong>2</strong> [Jan 2003]</td>
    <td valign="top">Document updated</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

</body>

