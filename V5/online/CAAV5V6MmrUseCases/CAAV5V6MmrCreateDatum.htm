<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 12.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Managing Create Datum Mode</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>Mechanical Modeler</h1>
    </td>
    <td valign="top">
      <h2></h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Managing Create Datum Mode</h3>
      <em>Using CATIMmiPartInfrastructurePreferencesAtt</em></td>
  </tr>
  <tr>
    <td class="use" colspan="2">Use Case</td>
  </tr>
</table>

<hr>
<!-- -------------------------------comment---------------------------------- -->
<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>This article discusses the <strong>CAAV5V6MmrCreateDatumMode</strong> use case. It 
		is a copy of the CAAMmrCreateDatumMode&nbsp; use case[<a href="#References">4</a>], 
		rewritten in order to be V5/V6 compatible. It turns out that there are 
		no differences between the two use cases. Nevertheless, we have still 
		created the new CAAV5V6MmrCreateDatumMode use case for consistency 
		reasons, all the Mechanical Modeler use cases have been duplicated in 
		the CAAV5V6MechanicalModeler.edu framework.&nbsp; 
    
      <p>The CAAV5V6MmrCreateDatumMode use case shows how to use the  
		<i>CATIMmiPartInfrastructurePreferencesAtt</i> interface to control 
		yourself the datum mode [<a href="#References">1</a>] when creating a 
		mechanical feature. 
		 
      <ul>
        <li><a href="#Learn"><strong>What You Will Learn With This Use Case</strong></a></li>
        <li><a href="#UseCase"><strong>The CAAMmrCreateDatumMode Use Case</strong></a>
          <ul>
            <li><a href="#What">What Does CAAV5V6MmrCreateDatumMode&nbsp; Do</a></li>
            <li><a href="#How">How to Launch CAAV5V6MmrCreateDatumMode </a></li>
            <li><a href="#Where">Where to Find the CAAMmrCreateDatumMode Code</a></li>
          </ul>
        <li><a href="#Step"><strong>Step-by-Step</strong></a></li>
        <li><a href="#InShort"><strong>In Short</strong></a></li>
        <li><a href="#References"><strong>References</strong></a></li>
      </ul>

<hr>
<!-- -------------------------------comment---------------------------------- -->
<h3><a name="Learn"></a>What You Will Learn With This Use Case</h3>
<p>This use case, an interactive command, is intended to show you how to use the
<i>CATIMmiPartInfrastructurePreferencesAtt</i> to manage the CreateDatum mode</p>
<ul>
	<li>To change or Retrieve the current mode</li>
	<li>To be informed when the current mode is modified by another command</li>
</ul>
<p align="right">[<a href="#Top">Top</a>]</p>
<!-- -------------------------------comment---------------------------------- -->
<h3><a name="UseCase"></a>The CAAMmrCreateDatumMode Use Case</h3>
<p>CAAV5V6MmrCreateDatumMode&nbsp; is a use case of the CAAV5V6MechanicalModeler.edu framework that illustrates Mechanical 
Modeler capabilities.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!-- -------------------------------comment---------------------------------- -->
<h4><a name="What"></a>What Does CAAV5V6MmrCreateDatumMode&nbsp; Do</h4>
<p>The use case is functionaly similar to the CreateDatum Setting command, that 
you can retrieve in Generative Shape Design application
<img border="0" src="../CAAMmrTechArticles/images/I_Isolated.jpg" width="22" height="22">. </p>
<p>The scenario to reach the command is the following:</p>
<ul>
	<li><b>Launch</b> CATIA</li>
	<li>Start , Shape , <b>Generative Shape Design </b></li>
	<li><b>Create</b> a new <b>Part</b></li>
	<li>Retrieve the &quot;<b>Use Create Datum Mode</b>&quot; toolbar (<a href="#Addin Access">Addin 
	Access</a>)</li>
	<li>Launch the <b>CAAV5V6MmrCreateDatumMode </b> &nbsp;Command&nbsp; [<a name="Fig.1">Fig.1</a>]</li>
</ul>
<blockquote>
	<table border="0" id="table2">
	

		<tr>
			<td>
			<img border="0" src="../CAAMmrUseCases/images/CAAMmrCreateDatumModeCmd.png" width="38" height="65"></td>
		</tr>
	</table>
</blockquote>
<ul>
	<li>The following dialog box is opened</li>
</ul>
<blockquote>
	<table border="0" id="table3">
	<caption><a name="Fig.2">Fig.2</a> CAAV5V6MmrCreateDatumMode&nbsp; Dialog Box</caption>
		<tr>
			<td>
			<img border="0" src="../CAAMmrUseCases/images/CAAMmrCreateDatumModeDlg.png"></td>
		</tr>
	</table>
	<ul>
		<li><b>First line:</b> On the right top, you have the current value of 
		the datum mode</li>
		<li><b>Second line</b>: a combo to select the new mode, and a push 
		button (<b>Apply</b>) to modify the current mode. Push Apply button 
		modify the editor just above.</li>
	</ul>
</blockquote>
<ul>
	<li>Close the dialog box to end the command</li>
</ul>
<p>Now some scenarios to understand the meaning of each type of datum mode.</p>
<ul>
	<li>Retrieve the CreateDatum Setting command- check that the icon is like 
	that:
	<img border="0" src="../CAAMmrTechArticles/images/I_Isolated.jpg" width="22" height="22"></li>
	<li>Create three points</li>
	<li>Open the <b>CAAV5V6MmrCreateDatumMode </b> &nbsp;Dialog box</li>
	<li>Choose the &quot;<b>NoDatumCreation</b>&quot; mode<ul>
		<li>The icon of CreateDatum Setting is still :
		<img border="0" src="../CAAMmrTechArticles/images/I_Isolated.jpg" width="22" height="22"></li>
	</ul>
	</li>
	<li>Create a line&nbsp; - the line is an associative feature - Modify the 
	position of one point, it will imply a line's modification.<ul>
		<li>After the line creation, the icon of CreateDatum Setting is still :
		<img border="0" src="../CAAMmrTechArticles/images/I_Isolated.jpg" width="22" height="22"></li>
	</ul>
	</li>
	<li>Choose the &quot;<b>DatumCreationTemporary</b>&quot; mode, and Push the Apply 
	button<ul>
		<li>The icon of CreateDatum Setting is now :
		<a href="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png">
		<img border="0" src="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png"></a></li>
	</ul>
	</li>
	<li>Create a line&nbsp; - the line is no more an associative feature - 
	Modify the position of one point, the line is not modified<ul>
	<li>After the line creation, the icon of CreateDatum Setting is now :
	<img border="0" src="../CAAMmrTechArticles/images/I_Isolated.jpg" width="22" height="22"> 
	- and the Current state in the dialog is <b>NoDatumCreation</b></li>
</ul>
	</li>
	<li>Choose the &quot;<b>DatumCreationPermanent</b>&quot; mode, and Push the Apply 
	button<ul>
	<li>The icon of CreateDatum Setting is now :
		<a href="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png">
		<img border="0" src="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png"></a></li>
</ul>
	</li>
	<li>Create a line&nbsp; - the line is no more an associative feature - 
	Modify the position of one point, the line is not modified<ul>
	<li>After the line creation, the icon of CreateDatum Setting is still now :
		<a href="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png">
		<img border="0" src="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png"></a> - and 
	the Current state in the dialog is still<b> DatumCreationPermanent</b></li>
</ul>
	</li>
	<li>Push the CreateDatum Setting button, the icon is now
	<img border="0" src="../CAAMmrTechArticles/images/I_Isolated.jpg" width="22" height="22"><ul>
	<li>In the dialog box, the name of the current mode is <b>NoDatumCreation</b></li>
</ul>
	</li>
	<li>Push the CreateDatum Setting button, the icon is now
		<a href="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png">
		<img border="0" src="../CAAMmrUseCases/images/CAAMmrCreateDatumModeIcon.png"></a><ul>
	<li>In the dialog box, the name of the current mode is <b>DatumCreationTemporary</b></li>
</ul>
	</li>
</ul>
<p>This scenario shows that the datum mode is kept by a setting (<b>data model</b>), 
and&nbsp; whatever can get or set the value kept by the data model. In case of 
modification, the model sends an event, and whatever has set callback can be 
informed of the model's modification. </p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!-- -------------------------------comment---------------------------------- -->
<h4><a name="How"></a>How to Launch CAAV5V6MmrCreateDatumMode </h4>
<p>To launch CAAV5V6MmrCreateDatumMode , you will need to set up the build time 
environment, then compile CAAV5V6MmrCreateDatumMode&nbsp; along with its prerequisites, 
set up the run time environment, and then execute the use case .</p>
<p>See the <a href="#What">What Does CAAV5V6MmrCreateDatumMode&nbsp; Do</a> Section for 
the scenario. </p>
<p><b><a name="Addin Access">Addin Access</a></b></p>
<p>Before launching CATIA, Remove the #CAA#&nbsp; in the CAAV5V6MechanicalModeler.edu.dico in front of the following line: </p>
<table class="code" id="table4">
	<tr>
		<td>
		<pre>...
#CAA# CAAV5V6MmrSettingsAddIn      CATIWorkbenchAddin              libCAAV5V6MmrSettingsAddIn
#CAA# CAAV5V6MmrSettingsAddIn      CATIShapeDesignWorkshopAddin    libCAAV5V6MmrSettingsAddIn
...</pre>
		</td>
	</tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<!-- -------------------------------comment---------------------------------- -->
<h4><a name="Where"></a>Where to Find the CAAV5V6MmrCreateDatumMode&nbsp; Code</h4>
<p>The CAAV5V6MmrCreateDatumMode&nbsp; use case is made of several classes located in two 
modules:</p>
<ul>
	<li>CAAV5V6MmrUseCreateDatumMode.m module of the CAAV5V6MechanicalModeler.edu framework</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; It contains the <b>
CAAV5V6MmrCreateDatumMode </b> 
&nbsp;Dialog box [<a href="#Fig.2">Fig.2</a>] definition CAAMmrDatumWindowCmd.cpp/CAAMmrDatumWindowCmd.h</p>
<ul>
	<li>CAAV5V6MmrSettingsAddIn.m module of the CAAV5V6MechanicalModeler.edu framework</li>
</ul>
<blockquote>
	<p>It contains the addin of the<b> Generative Shape Design</b> Workbench<b> 
	-</b> This addin contains the definition of the &quot;<b>Use Create Datum Mode</b>&quot; 
	[<a href="#Fig.1">Fig.1</a>] toolbar </p>
	<p>This part is not described in the article. Refer to the reference article
	<a href="#">Creating an Add-in</a> [<a href="#References">2</a>]</p>
</blockquote>
<p>These two modules are located inside </p>
<table>
  <tr>
    <td><code>InstallRootDirectory\</code>CAAV5V6MechanicalModeler<code>.edu\ </code></td>
  </tr>
</table>
<p>where <code>InstallRootDirectory</code>  [<a href="#References">3</a>] is the directory where the CAA CD-ROM
is installed.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!-- -------------------------------comment---------------------------------- -->
<h3><a name="Step"></a>Step-by-Step</h3>
<p>There are five logical steps in CAAV5V6MmrCreateDatumMode :</p>
<ol>
  <li>Retrieving the Component Managing the Datum Mode</li>
  <li>Adding Callback to be Informed of Datum Mode Modification</li>
  <li>Refreshing the Dialog Box</li>
  <li>Modify the Current Datum Mode</li>
  <li>Removing Callback</li>
</ol>

For the detail of the these steps, you can refer to the original &quot;Managing 
		Create Datum Mode&quot; article  [<a href="#References">4</a>]
		.  
<p align="right">[<a href="#Top">Top</a>]</p>
<!-- -------------------------------comment---------------------------------- -->


<h3><a name="InShort"></a>In Short</h3>
<p>The  
		<i>CATIMmiPartInfrastructurePreferencesAtt</i> interface enables you to 
retrieve the current datum mode and to modify it.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!-- -------------------------------comment---------------------------------- -->
<h3><a name="References"></a>References</h3>
<table width="100%">
  <tr>
    <td valign="top">[1]</td>
    <td>
	<a href="../CAAMmrTechArticles/CAAMmrContentsSpecCont2.htm">The Contents of the Specification Container - Geometrical Feature</a></td>
  </tr>
  <tr>
    <td valign="top">[2]</td>
    <td>
	<a href="../CAAAfrUseCases/CAAAfrSampleAddin.htm">
	Creating an Add-in</a></td>
  </tr>
  <tr>
       <td valign="top">[3]</td>
       <td>
       <a href="../CAADocUseCases/CAADocRunSample.htm">
       Building and Launching a CAA V5 Use Case</a></td>
  </tr>
   <tr>
    <td valign="top">[4]</td>
    <td><a href="../CAAMmrUseCases/CAAMmrCreateDatum.htm">
    V5 reference Use Case : Managing Create Datum Mode </a></td>
  </tr>

  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!-- -------------------------------comment---------------------------------- -->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [Dec 2012]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!-- -------------------------------comment---------------------------------- -->
<p><i>Copyright © 2012, Dassault Syst&#232;mes. All rights reserved.</i></p>


</body>

</html>
