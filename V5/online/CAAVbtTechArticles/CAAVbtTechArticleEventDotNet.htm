<html>

 <head>
 <meta http-equiv="Content-Language" content="en-us">
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="GENERATOR" content="Microsoft FrontPage 6.0">
 <meta name="ProgId" content="FrontPage.Editor.Document">
 <link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
 <title>Getting Started with Event Listeners</title>
 </head>

 <body>

 <table width="100%">
   <tr>
     <td valign="top">
     <h1>RADE</h1>
     </td>
     <td valign="top">
     <h2>Event Listener</h2>
     </td>
     <td rowspan="2" align="right" valign="top">
     <h3><a name="Top"></a>Getting Started with Event Listeners</h3>
     <p><em>The basic of Event Listeners</em></td>
   </tr>
   <tr>
     <td class="tech" colspan="2">Technical Article</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <table class="abstract">
   <tr>
     <td>
     <h3>Abstract</h3>
     <p>This article explains what is necessary to do before creating an Event 
     Listener. </p>
     <p>An event listener is a class implementing an Event interface. The Event 
     Listener generated by the wizard will be registered in ENOVIA server by a 
     plug-in module. Plug-in modules are librairies containing a Plug-in class 
     used to registered Event listeners at ENOVIA Server start-up. </p>
     <ul>
       <li><a href="#CreateWorkspace">Creating a Workspace With a UNIX 
       Connection</a></li>
       <li><a href="#NTPrereq">Defining NT Prerequisites Workspaces</a></li>
       <li><a href="#NewFramework">Creating a Framework</a></li>
       <li><a href="#Plugin">Creating a Plug-in Module in the Framework</a></li>
       <li><a href="#EventListener">Creating an Event Listener</a></li>
       <li><a href="#UNIXPrerequisite">Defining UNIX Prerequisites Workspaces</a></li>
       <li><a href="#Build">Building the Workspace</a></li>
       <li><a href="#RuntimeView">Creating the Runtime View</a></li>
     </ul>
     </td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="CreateWorkspace"></a>Creating a Workspace With a UNIX Connection</h3>
 <p>Use the <code><font color="#008040">File/New CAA V5 Workspace ...</font></code> 
 menu. The <code><font color="#008040">New Workspace Confirmation</font></code> 
 dialog box opens to give you some general information. When you click <code>
 <font color="#008040">OK</font></code> to close the dialog box, the <code>
 <font color="#008040">New CAA V5 Workspace</font></code> dialog box appears:</p>
 <p><img border="0" src="images/CAAVbtEvent1NET.gif"></p>
 <p>Enter the required information in the three fields displayed then click on
 <code><font color="#008040">Next&gt;</font></code> button to go on with the 
 workspace creation.</p>
 <p>The <code><font color="#008040">Initializing tools...</font></code> dialog 
 box opens to inform you that the command is running. When <code>
 <font color="#008040">...Command done without errors</font></code> displayed, 
 click <code><font color="#008040">Close</font></code>.</p>
 <p><img border="0" src="images/CAAVbtEvent10NET.gif"></p>
 <p>Select <code><font color="#008040">Define Prerequisite Workspace</font></code> 
 and click <code><font color="#008040">Finish</font></code>.</p>
 <p><img border="0" src="images/CAAVbtEvent11NET.gif"></p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="NTPrereq"></a>Defining NT prerequisites workspaces</h3>
 <ol>
   <li>In the <code><font color="#008040">Prerequisites</font></code> dialog 
   box, click <code><font color="#008040">Access prerequisites from their origin 
   location</font></code>.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent2NET.gif"></p>
 <ol start="2">
   <li>If you have not ENOVIA prerequisites on your NT machine, you should 
   transfer it. Click <code><font color="#008040">Create ENOVIA prerequisites on 
   NT...</font></code>.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <p><img border="0" src="images/CAAVbtEvent3.gif" width="586" height="289"></p>
 <ol start="3">
   <li>Enter the UNIX directory which is the directory of your ENOVIA 
   installlation.</li>
   <li>Enter a Windows directory which is the directory to transfer the 
   prerequisites.</li>
   <li>Enter your UNIX password and click <code><font color="#008040">OK</font></code>.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent4.gif" width="624" height="476"></p>
 <ol start="6">
   <li>Click <code><font color="#008040">Add</font></code> to enter the 
   directory which contains the ENOVIA prerequisities on Windows.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="NewFramework"></a>Creating a Framework</h3>
 <ol>
   <li>Use the <code><font color="#008040">File/Add CAAV5 Project/New Framework 
   ...</font></code> menu.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent5NET.gif"></p>
 <ol start="2">
   <li>Enter the name of a new Framework and click <code><font color="#008040">
   OK</font></code> to validate.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Plugin"></a>Creating a plug-in module in the Framework</h3>
 <ol>
   <li>Use the <code><font color="#008040">File/Add CAAV5 Item/ENOVIA Resource/Plugin...</font></code> 
   menu.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent6NET.gif" width="520" height="434"></p>
 <ol start="2">
   <li>Enter the name of your new Plug-in Module.</li>
 </ol>
 <p>File modified :</p>
 <ul>
   <li>&nbsp;<code>..\EventFramework\IdentityCard\IdentityCard.h</code></li>
   <li><code>&nbsp;..\EventFramework\CNext\code\dictionary\EventFramework.dico</code></li>
 </ul>
 <p>Files created :</p>
 <ul>
   <li><code>&nbsp;..\EventFramework\CNext\resources\msgcatalog\PluginList.CATRsc</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\Imakefile.mk</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\src\ENOVPluginNewPlugin.cpp</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\src\ENOVPluginNewPluginListener.cpp</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\LocalInterfaces\ENOVPluginNewPlugin.h</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\LocalInterfaces\ENOVPluginNewPluginListener.h</code></li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="EventListener"></a>Creating an Event Listener</h3>
 <ol>
   <li>Use the <code><font color="#008040">File/Add CAAV5 Item/ENOVIA 
   Resource/Event Listener...</font></code> menu.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent7.gif" width="519" height="366"></p>
 <p>This panel displays existing ENOVIA packages of objects, the objects defined 
 in the packages and the event interfaces supported by those objects : the 
 interfaces called by the event fired by the object.</p>
 <ol start="2">
   <li>Select an ENOVIA package and a modeler object.</li>
   <li>After that, you can choose an event. The name of the Event Listener is 
   automatically informed.</li>
   <li>Click <code><font color="#008040">OK</font></code>.</li>
 </ol>
 <p>Files modified:</p>
 <ul>
   <li><code>&nbsp;..\EventFramework\NewPlugin\src\ENOVPluginNewPluginListener.cpp</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\LocalInterfaces\ENOVPluginNewPluginListener.h</code></li>
   <li><code>..\EventFramework\CNext\code\dictionary\EventFramework.dico</code></li>
 </ul>
 <p>Files created:</p>
 <ul>
   <li><code>..\EventFramework\NewPlugin\src\VPMProductClassListener.cpp</code></li>
   <li><code>.\EventFramework\NewPlugin\LocalInterfaces\VPMProductClassListener.h</code></li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="UNIXPrerequisite"></a>Define UNIX prerequisites workspaces</h3>
 <ol>
   <li>Use the <code><font color="#008040">CAAV5 Workspace/Locate Prerequisite 
   Workspaces ...</font></code> menu:</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent8.gif" width="624" height="476"></p>
 <ol start="2">
   <li>Check <code><font color="#008040">On</font></code> <code>
   <font color="#008040">UNIX</font></code> and click <code>
   <font color="#008040">Add...</font></code> to inform the UNIX prerequisite.</li>
   <li>Click <code><font color="#008040">OK</font></code>.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Build"></a>Building the Workspace</h3>
 <ol>
   <li>Use the <code><font color="#008040">Build/mkmk ...</font></code> menu.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent9.gif" width="532" height="468"></p>
 <ol start="2">
   <li>Check <code><font color="#008040">On UNIX</font></code> and click <code>
   <font color="#008040">OK</font></code> to launch the build on UNIX machine.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="RuntimeView"></a>Creating the Runtime View</h3>
 <ol>
   <li>Use the <code><font color="#008040">CAAV5 Workspace/Create\Update 
   RuntimeView ...</font></code> menu.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent10.gif" width="302" height="287"></p>
 <ol start="2">
   <li>Check <code><font color="#008040">On UNIX</font></code> and click <code>
   <font color="#008040">OK</font></code> to create the Runtime View on UNIX.</li>
 </ol>
 <p>To take into account this Event Listener in your ENOVIA Server, run<font FACE="Tms Rmn"></p>
 <pre>          <code> </code><font face="Verdana" size="2"><code>  ./enoviastart -env <i>%EnvName%</i> -direnv <i>%EnvDir%</i> -object &quot;-senv <i> WorkspaceEnv</i> -sdirenv <i>%EventWorkspace%</i>&quot; </code></font></pre>
 </font>
 <p><font size="2">The file <i>%EventWorkspace%\WorkspaceEnv</i> is generated 
 after Define Prerequisite Workspace ... command and the environment variable 
 VPM_PLUGIN_OBJECTS_LIST is set at the end of file.</font></p>
 <p align="right"><font size="2">[<a href="#Top">Top</a>]</font></p>
 <font FACE="Tms Rmn"><hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="References"><font size="2"></font></a><font size="2">References</font></h3>
 </font>
 <table width="100%">
   <tr>
     <code>
     <td valign="top"><font face="Verdana" size="2">[1]</font></td>
     <td><font face="Verdana" size="2">
     <a href="../CAAVbtQuickRefs/CAAVBTMsDevDotNet.htm">Customizing 
     Microsoft Visual Studio .NET</a></font></td>
     </code>
   </tr>
   <tr>
     <td valign="top"><font size="2">[2]</font></td>
     <td><a href="../CAAVbtQuickRefs/CAAVBTMsDevUse2DotNet.htm">
     <font size="2">Working with Microsoft Visual Studio .Net</font></a></td>
   </tr>
   <font FACE="Tms Rmn">
   <tr>
     <td valign="top" colspan="2">
     <p align="right">[<a href="#Top">Top</a>]</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------------------------------------------------->
 <h3><a name="History"></a></font><font size="2">History</font></h3>
 <table width="100%">
   <tr>
     <td valign="top"><font size="2">Version: <strong>1</strong> [May 2001]</font></td>
     <td valign="top"><font size="2">Document created</font></td>
   </tr>
   <tr>
     <td valign="top" align="right" colspan="2"><font size="2">[<a href="#Top">Top</a>]</font></td>
   </tr>
 </table>
 <font FACE="Tms Rmn"><hr>
 <!---------------------------------comment------------------------------------->
 <p><i>Copyright © 2005, Dassault Systèmes. All rights reserved.</i></p>
 </font>

 </body>

</html>
