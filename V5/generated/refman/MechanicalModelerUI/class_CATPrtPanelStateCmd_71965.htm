<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
 <meta http-equiv="Content-Language" content="en-us"> 
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
 <meta name="Generator" content="CppGene v1.1">
 <meta http-equiv="Expires" content="Tue, 04 Dec 1993 21:29:02 GMT">
 <title>MechanicalModelerUI Class CATPrtPanelStateCmd</title>
<link rel="Stylesheet" type="text/css" href="../../../caav5.css">
</head>
<body>
<pre><a href="../main.htm">All Frameworks</a>  <a href="../tree.htm">Class Hierarchy</a>  <a href="../MechanicalModelerUI.htm">This Framework</a>  <a href="class_CATMmuViewServices_67288.htm">Previous</a>  <a href="class_CATPrtUpdateCom_45248.htm">Next</a>  <a href="../HomeIdx.htm">Indexes</a></pre>
<hr>
<h1>MechanicalModelerUI Class CATPrtPanelStateCmd</h1>
<pre>
<a href="../System/interface_IUnknown_14460.htm">System.IUnknown</a>
  |
  +---<a href="../System/interface_IDispatch_17333.htm">System.IDispatch</a>
    |
    +---<a href="../System/class_CATBaseUnknown_40786.htm">System.CATBaseUnknown</a>
      |
      +---<a href="../System/class_CATEventSubscriber_67510.htm">System.CATEventSubscriber</a>
        |
        +---<a href="../System/class_CATCommand_20100.htm">System.CATCommand</a>
          |
          +---<a href="../DialogEngine/class_CATDialogAgent_39138.htm">DialogEngine.CATDialogAgent</a>
            |
            +---<a href="../DialogEngine/class_CATStateCommand_45648.htm">DialogEngine.CATStateCommand</a>
              |
              +---<a href="../MechanicalModelerUI/class_CATMMUIStateCommand_70460.htm">MechanicalModelerUI.CATMMUIStateCommand</a>
                |
                +---<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm">MechanicalModelerUI.CATMMUIPanelStateCmd</a>
                  |
                  +---CATPrtPanelStateCmd
 </pre>
<p><b>Usage: you can derive this class.</b></p>
<hr>
<p>
 public class <b>CATPrtPanelStateCmd</b>
</p>
<p>
<b><i> Basic class for creation and edition commands with a dialog box in Part Design context.</i></b><br>

 <b>Role</b>: Derives this class to implement your command.
 <br>
 <br>The data members to create are:
 <ul>
 <li><a href="../MechanicalModelerUI/class_CATMMUIStateCommand_70460.htm#_MyFeature">CATMMUIStateCommand._MyFeature</a> : The feature modified or created during the command. This   data will be returned by the 
<a href="../MechanicalModelerUI/class_CATMMUIStateCommand_70460.htm#GiveMyFeature">CATMMUIStateCommand.GiveMyFeature</a> method.</li> <li>A dialog box to display parameters of the feature. The recommended styles for this dialog box are:
 <ul>
  <li><tt>CATDlgWndBtnOKCancel</tt>: OK and Cancel Buttons
  <li><tt>CATDlgWndBtnOKCancelPreview</tt>: Ok, Cancel and Preview Buttons
 </ul></li>
</ul>

 The main methods to override are:
 <ul>
 <li>
<a href="#BuildGraph">BuildGraph</a> : Constructs the state chart</li> <li>
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GiveMyPanel">CATMMUIPanelStateCmd.GiveMyPanel</a> : it returns the dialog box created by your command. </li> <li>
<a href="#OkAction">OkAction</a> : to customize the actions on the OK click button events.</li> <li>
<a href="#PreviewAction">PreviewAction</a> : to customize the actions on the Preview click button events.</li> <li>
<a href="#CancelAction">CancelAction</a> : to customize the actions on the Cancel or the Close click button events.</li> </ul>
</p>
<hr>
 <h2>Constructor and Destructor Index</h2> <br>
<dl>
 <dt> o 
    <a href="#CATPrtPanelStateCmd(CATString&amp;,CATDlgEngBehavior,CATCommandMode,int,CATPathElement*,CATPathElement*)"><b>CATPrtPanelStateCmd</b></a>(CATString&amp;,CATDlgEngBehavior,CATCommandMode,int,CATPathElement*,CATPathElement*)
<dd>  Constructs a panel state command.
 <dt> o 
    <a href="#~CATPrtPanelStateCmd()"><b>~CATPrtPanelStateCmd</b></a>()
<dd> </dl>
 <h2>Method Index</h2> <br>
<dl>
 <dt> o 
    <a href="#BuildGraph()"><b>BuildGraph</b></a>()
<dd>  Builds the command state chart.
 <dt> o 
    <a href="#Cancel(CATCommand*,CATNotification*)"><b>Cancel</b></a>(CATCommand*,CATNotification*)
<dd>  Cancels the command.
 <dt> o 
    <a href="#CancelAction(void*)"><b>CancelAction</b></a>(void*)
<dd>  Deals with Cancel or Close button click events.
 <dt> o 
    <a href="#OkAction(void*)"><b>OkAction</b></a>(void*)
<dd>  Deals with Ok button click event.
 <dt> o 
    <a href="#PreviewAction(void*)"><b>PreviewAction</b></a>(void*)
<dd>  Deals with Preview button click event.
 <dt> o 
    <a href="#UpdateKOAction(void*)"><b>UpdateKOAction</b></a>(void*)
<dd>  Deals a wrong update after OK.
 <dt> o 
    <a href="#UpdateOKAction(void*)"><b>UpdateOKAction</b></a>(void*)
<dd>  Deals a good update after OK.
</dl>
<dl>
</dl>
<dl>
</dl>
 <h2>Constructor and Destructor</h2> <br>
<a name="CATPrtPanelStateCmd"></a><a name="CATPrtPanelStateCmd(CATString&amp;,CATDlgEngBehavior,CATCommandMode,int,CATPathElement*,CATPathElement*)"></a> <dt> o <b>CATPrtPanelStateCmd</b>

<dt>  <table><tr><td>  public <a href="../DNBSystem/struct__0.htm"></a>  <b>CATPrtPanelStateCmd</b>(<td> const <a href="../System/class_CATString_16797.htm">CATString&amp;</a> <td><tt>iName</tt>,<tr><td></td><td><a href="../DialogEngine/typedef_CATDlgEngBehavior_57861.htm">CATDlgEngBehavior</a> <td><tt>iBehavior</tt><td><tt>= NULL</tt>,<tr><td></td><td><a href="../System/enum_CATCommandMode_39008.htm">CATCommandMode</a> <td><tt>iFocusMode</tt><td><tt>= CATCommandModeExclusive</tt>,<tr><td></td><td>int <td><tt>iCommandMode</tt><td><tt>= 0</tt>,<tr><td></td><td> const <a href="../VisualizationBase/class_CATPathElement_39932.htm">CATPathElement*</a> <td><tt>iWorkingPath</tt><td><tt>= 0</tt>,<tr><td></td><td> const <a href="../VisualizationBase/class_CATPathElement_39932.htm">CATPathElement*</a> <td><tt>iActiveObjectPath</tt><td><tt>= 0</tt>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Constructs a panel state command.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iName</tt>
   <dd> The identifier of the command. 
 </dd>
    <dt><tt> iBehavior</tt>
   <dd> The recommended style is <tt>CATDlgEngOneShot</tt>
 </dd>
    <dt><tt> iFocusMode</tt>
   <dd>   The focus mode.
   <br><b>Legal values</b>: With the default mode 
   <tt>CATCommandModeExclusive</tt>, the command takes the focus and 
   cancels the other commands. This mode is mandatory if the command 
   modifies the model.
   <br>The other possible mode is <tt>CATCommandModeShared</tt>: the command
   only deactivates the active command and takes the focus. The previous
   command will resume when the current command ends.
   <br>The <tt>CATCommandModeUndefined</tt> mode is forbidden with a main 
   state command since it needs to take the focus.
 </dd>
    <dt><tt> iCommandMode</tt>
   <dd> <b>Legal values</b>:
 <ul>
 <li>1: Default value, the command is in creation mode</li>
 <li>0:The command is in edition mode</li>
 </ul>
 </dd>
    <dt><tt> iWorkingPath</tt>
   <dd> Sets the default value.
 </dd>
    <dt><tt> iActiveObjectPath</tt>
   <dd> Sets the default value.</dd>
</dl>
</dl>
</dl>
<a name="~CATPrtPanelStateCmd"></a><a name="~CATPrtPanelStateCmd()"></a> <dt> o <b>~CATPrtPanelStateCmd</b>

<dt>  <table><tr><td>  public virtual <a href="../DNBSystem/struct__0.htm"></a>  <b>~CATPrtPanelStateCmd</b>(<td>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
</dl>
 <h2>Methods</h2> <br>
<a name="BuildGraph"></a><a name="BuildGraph()"></a> <dt> o <b>BuildGraph</b>

<dt>  <table><tr><td>  public virtual void  <b>BuildGraph</b>(<td>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Builds the command state chart.
 <br><b>Role:</b> This method constructs the state chart with states, agents and transitions.
 <br>To associate the dialog box with a state, create this state by:
 <ul>
 <li>
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GetInitialPanelState">CATMMUIPanelStateCmd.GetInitialPanelState</a>, if the state is the initial state</li> <li>
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#AddPanelState">CATMMUIPanelStateCmd.AddPanelState</a>, otherwise</li> </ul>
 Caution: your state chart must have only one state associated with the dialog box returned
 by the 
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GiveMyPanel">CATMMUIPanelStateCmd.GiveMyPanel</a> .  <br><br>From this specific state, named <tt>PanelState</tt> for example, 
 some transitions are automatically defined:
 <ol>
 <li>From the <tt>PanelState</tt> state to the <tt>Update</tt> state:</li>
 <br>The <tt>Update</tt> state is defined by the <tt>CATMMUIStateCommand</tt> class. 
 <ul>
 <li>Condition: The end user pushes the Ok Button</li>
 <li>Action Method: 
<a href="#OkAction">OkAction</a> </li> </ul>
 <li>From the <tt>PanelState</tt> state to the <tt>Cancel</tt> state:</li>
 <br>The <tt>Cancel</tt> state is defined by the <tt>CATStateCommand</tt> class.
 <ul>
 <li>Condition: if the end user pushes the Cancel or the Close Buttons</li>
 <li>Action Method: 
<a href="#CancelAction">CancelAction</a> </li> </ul>
 <li>From the <tt>PanelState</tt> state to the <tt>PanelState</tt> state:</li>
 <ul>
 <li>Condition: if the end user pushes the Preview Button</li>
 <li>Action Method: 
<a href="#PreviewAction">PreviewAction</a> </li> </ul>
 <li>From <tt>Update</tt> state to the <tt>PanelState</tt> state</li>
 <ul>
 <li>Condition: The update applied to the feature
  returned by the 
<a href="../MechanicalModelerUI/class_CATMMUIStateCommand_70460.htm#GiveMyFeature">CATMMUIStateCommand.GiveMyFeature</a> method is wrong</li> <li>Action Method: 
<a href="#UpdateKOAction">UpdateKOAction</a> </li> </ul>
 <li>From <tt>Update</tt> state to the <tt>NULL</tt> state:</li>
 <ul>
 <li>Condition: The update applied to the feature
  returned by the 
<a href="../MechanicalModelerUI/class_CATMMUIStateCommand_70460.htm#GiveMyFeature">CATMMUIStateCommand.GiveMyFeature</a> method is OK</li> <li>Action Method: 
<a href="#UpdateOKAction">UpdateOKAction</a> </li> </ul> 
 </ol>
 
<dl>
  <dt> <b>See also:</b> 
  <dd> <a href="../DialogEngine/class_CATStateCommand_45648.htm#BuildGraph">CATStateCommand.BuildGraph</a>
</dl>
</dl>
<a name="Cancel"></a><a name="Cancel(CATCommand*,CATNotification*)"></a> <dt> o <b>Cancel</b>

<dt>  <table><tr><td>  public virtual <a href="../System/enum_CATStatusChangeRC_56131.htm">CATStatusChangeRC</a>  <b>Cancel</b>(<td><a href="../System/class_CATCommand_20100.htm">CATCommand*</a> <td><tt>iCmd</tt>,<tr><td></td><td><a href="../System/class_CATNotification_47117.htm">CATNotification*</a> <td><tt>iNotif</tt>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Cancels the command.
 <br><b>Role:</b>Called when the command selector gives the focus to an exclusive command,
 or if this command completes. In this latter case, the focus is given to 
 the default command (usually Select). 
 You should not take care of the command destruction. This is done
 by the dialog state command engine.
 <br>If you override this method, call at the end the current method.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iCmd</tt>
   <dd>   The command that requests to cancel the current one
 </dd>
    <dt><tt> iNotif</tt>
   <dd>   The notification sent</dd>
</dl>
</dl>
</dl>
<a name="CancelAction"></a><a name="CancelAction(void*)"></a> <dt> o <b>CancelAction</b>

<dt>  <table><tr><td>  public virtual <a href="../System/typedef_CATBoolean_20142.htm">CATBoolean</a>  <b>CancelAction</b>(<td>void* <td><tt>iUseless</tt>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Deals with Cancel or Close button click events.
 <br><b>Role:</b>Action method sets on a transaction between the state created
 by the 
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GetInitialPanelState">CATMMUIPanelStateCmd.GetInitialPanelState</a> and the <tt>Cancel</tt> state (defined in the 
<a href="../DialogEngine/class_CATStateCommand_45648.htm">CATStateCommand</a> class).  <br>Override this function to customize the actions on the Cancel or Close button click events, and at the end
 of the method, call the current method.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iUseless</tt>
   <dd>   There is no data as argument of this 
   <tt>ActionMethod</tt> method. 
</dd>
</dl>
</dl>
</dl>
<a name="OkAction"></a><a name="OkAction(void*)"></a> <dt> o <b>OkAction</b>

<dt>  <table><tr><td>  public virtual <a href="../System/typedef_CATBoolean_20142.htm">CATBoolean</a>  <b>OkAction</b>(<td>void* <td><tt>iUseless</tt>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Deals with Ok button click event.
 <br><b>Role:</b>Action method sets on the transaction between the state created
 by the 
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GetInitialPanelState">CATMMUIPanelStateCmd.GetInitialPanelState</a> and an internal <tt>Update</tt> state.  <br>Override this function to customize the actions on the OK button click event, and at the end
 of the method, call the current method.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iUseless</tt>
   <dd>   There is no data as argument of the 
   <tt>ActionMethod</tt> methods. 
</dd>
</dl>
</dl>
</dl>
<a name="PreviewAction"></a><a name="PreviewAction(void*)"></a> <dt> o <b>PreviewAction</b>

<dt>  <table><tr><td>  public virtual <a href="../System/typedef_CATBoolean_20142.htm">CATBoolean</a>  <b>PreviewAction</b>(<td>void* <td><tt>iUseless</tt>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Deals with Preview button click event.
 <br><b>Role:</b>Action method sets on the loop transaction between the state created
 by the 
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GetInitialPanelState">CATMMUIPanelStateCmd.GetInitialPanelState</a>.  <br>Override this function to customize the actions on the Preview button click event, and at the end
 of the method, call the  current method.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iUseless</tt>
   <dd>   There is no data as argument of this 
   <tt>ActionMethod</tt> method. 
</dd>
</dl>
</dl>
</dl>
<a name="UpdateKOAction"></a><a name="UpdateKOAction(void*)"></a> <dt> o <b>UpdateKOAction</b>

<dt>  <table><tr><td>  public virtual <a href="../System/typedef_CATBoolean_20142.htm">CATBoolean</a>  <b>UpdateKOAction</b>(<td>void* <td><tt>iUseless</tt>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Deals a wrong update after OK. 
 <br><b>Role:</b>When the end user has pushed the Ok Button, the state chart goes to
 the internal <tt>Update</tt> state. At this moment two possible cases. The update called on
 the feature  returned by 
 
<a href="../MechanicalModelerUI/class_CATMMUIStateCommand_70460.htm#GiveMyFeature">CATMMUIStateCommand.GiveMyFeature</a> method is: <ol>
 <li>OK: The state chart goes to the NULL state, the command is ended. The action method sets
 on this transition is <tt>UpdateOKAction</tt></li>
 <li>KO: The state chart returns to the 
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GetInitialPanelState">CATMMUIPanelStateCmd.GetInitialPanelState</a> state. The action method sets on this transition is <tt>UpdateKOAction</tt></li>
 </ol>
 <br>Override this function to customize the actions when the update is KO and at the end
 of the method, call the  current method.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iUseless</tt>
   <dd>   There is no data as argument of this
   <tt>ActionMethod</tt> method. 
</dd>
</dl>
</dl>
</dl>
<a name="UpdateOKAction"></a><a name="UpdateOKAction(void*)"></a> <dt> o <b>UpdateOKAction</b>

<dt>  <table><tr><td>  public virtual <a href="../System/typedef_CATBoolean_20142.htm">CATBoolean</a>  <b>UpdateOKAction</b>(<td>void* <td><tt>iUseless</tt>)<a href="../DNBSystem/struct__0.htm"></a>  </table></dt>
<dl>
  <dd>
 Deals a good update after OK. 
 <br><b>Role:</b>When the end user has pushed the Ok Button, the state chart goes to
 the internal <tt>Update</tt> state. At this moment two possible cases. The update called on
 the feature returned by 
 
<a href="../MechanicalModelerUI/class_CATMMUIStateCommand_70460.htm#GiveMyFeature">CATMMUIStateCommand.GiveMyFeature</a> method is: <ol>
 <li>OK: The state chart goes to the NULL state, the command is ended. The action method sets
 on this transition is <tt>UpdateOKAction</tt></li>
 <li>KO: The state chart returns to the 
<a href="../MechanicalModelerUI/class_CATMMUIPanelStateCmd_76642.htm#GetInitialPanelState">CATMMUIPanelStateCmd.GetInitialPanelState</a> state. The action method sets on this transition is <tt>UpdateKOAction</tt></li>
 </ol>
 <br>Override this function to customize the actions when the update is OK and at the end
 of the method, call the current method.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iUseless</tt>
   <dd>   There is no data as argument of this
   <tt>ActionMethod</tt> method. 
</dd>
</dl>
</dl>
</dl>
<hr>
 This object is included in the file: <b>CATPrtPanelStateCmd.h</b><br>
If needed, your Imakefile.mk should include the module: <b>CATMechanicalModelerUI</b>

</body>
<hr><p><i>
Copyright &#169; 2003, Dassault Syst&#232;mes. All rights reserved.</i></p>
</html>
