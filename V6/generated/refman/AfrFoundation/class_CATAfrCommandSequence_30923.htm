<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
 <meta http-equiv="Content-Language" content="en-us"> 
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
 <meta name="Generator" content="CppGene v1.1">
 <meta http-equiv="Expires" content="Tue, 04 Dec 1993 21:29:02 GMT">
 <title>AfrFoundation Class CATAfrCommandSequence</title>
<link rel="Stylesheet" type="text/css" href="../../../caav5.css">
<link href="../_index/cdg.css" rel="stylesheet" type="text/css"> 
<script type="text/javascript">var PubDirExist = false; var ProDirExist = false; var PrivDirExist = false;</script> 
<script type="text/javascript" src="../_index/cdg.js"></script> 
<script language="Javascript" id="jsLinkjs" type="text/javascript" src="../_index/jslink.js"></script> 
<script language="Javascript" id="jsFwLinkjs" type="text/javascript" src="jsFwLink.js"></script> 
<script language="Javascript" id="jsTreejs" type="text/javascript" src="../_index/jsTree.js"></script>  
</head>
<body>
<div class="menu1" id="menuViewPPP" > 
 	<a href="javascript:writeIndex('IPublic')" name="viewPPP" id="PublicView"  class="ongletPub" > Public View</a> 
 	<a href="javascript:writeIndex('IProtected')" name="viewPPP" id="ProtectedView" class="ongletPro"  > Protected View</a>  
 	<a href="javascript:writeIndex('IPrivate')" name="viewPPP" id="PrivateView" class="ongletPriv" > Private View</a> 
 </div> 
 <div id="indexView" class="menu1">	 
 <a name="multiview" class="onglet" rel="../_index/main.htm" href="../_index/main.htm">All Frameworks</a>   
 <a name="multiview" class="onglet"  rel="../_index/tree.htm" href="../_index/tree.htm">Class Hierarchy</a>   
 <a name="multiview" class="onglet"  rel="../AfrFoundation.htm" href="../AfrFoundation.htm">This Framework</a>
<a name="multiview" class="onglet"  rel="../_index/HomeIdx.htm" href="../_index/HomeIdx.htm">Indexes</a>  
 <a id="multiviewP" class="onglet" href="javascript:openLinkNP(getCurrentObjectName(),getCurrentType(),'0')"  >Previous</a>  
 	<a id="multiviewN" class="onglet" href="javascript:openLinkNP(getCurrentObjectName(),getCurrentType(),'1')"  >Next</a> 
 </div> 
<script type="text/javascript" > 
 	function getCurrentLevel() { 
 return "";	} 
	function getCurrentFw() { 
	return "AfrFoundation";	}
		function getCurrentObjectName() { 
 	return "CATAfrCommandSequence"; } 
	function getCurrentType() { 
 	return "class"; }  
 function writeClassCharacteristic() { 
 	    var objtype = getCurrentType(); 
 	    var objname = getCurrentObjectName(); 
 	    var objdsCh = getDsCharacteristic(objname, objtype); 
 	    if (objdsCh!=null) document.write(objdsCh); 
 	} 
 function callInit() { 
 		if (PubDirExist == true || ProDirExist == true || PrivDirExist == true) {  
 			var parent = document.getElementById("indexView"); 
 			if (parent && (ProDirExist == true || PrivDirExist == true) ) { 
 			var elem = document.getElementById("multiviewP"); 
 			if(elem) parent.removeChild(elem); 
 			elem = document.getElementById("multiviewN"); 
 			if(elem) parent.removeChild(elem); }
 			initData(); 
 		} else { 
 			var elem; 
 			var parent = document.getElementById("menuViewPPP"); 
 			if (parent) { 
 				elem = document.getElementById("PublicView"); 
 				parent.removeChild(elem); 
 				elem = document.getElementById("ProtectedView"); 
 				parent.removeChild(elem); 
 				elem = document.getElementById("PrivateView"); 
 				parent.removeChild(elem); 
 			} 
 if (locateObject(getCurrentObjectName(), getCurrentType(), '0')==0) { 
 				elem = document.getElementById("multiviewP"); 
 				if (elem) { elem.removeAttribute("href"); elem.removeAttribute("onclick"); } 
 			} 
 			if (locateObject(getCurrentObjectName(), getCurrentType(), '1')==0) { 
 				elem = document.getElementById("multiviewN"); 
 				if (elem) { elem.removeAttribute("href"); elem.removeAttribute("onclick"); } 
 			} 
 }	 
 	} 
 	window.onload = callInit; 
  </script> 
 
<h1>AfrFoundation <script type="text/javascript" > writeClassCharacteristic(); </script> CATAfrCommandSequence</h1>
<script type="text/javascript" > 
 generatedFatherClass('class_CATAfrCommandSequence_30923','CATAfrCommandSequence','0');</script>
<p><b>Usage: you must use this class as is. You should never derive it.</b></p>
<hr>
<p>
 public class <b>CATAfrCommandSequence</b>
</p>
<p>
<b><i> Class representing a command sequence.</i></b><br>


 <br><b>Role</b>: A sequence is a list of couples {command header identifier, argument list}.
 The sequence execution begins with the execution of the command pointed by the first command header
 and it ends with the execution of the command pointed by the last command header.
 <p>
 Kinds of Sequences.
 <ul>
   <li>
   Wizard
   <br>A task is predefined and consists in a fixed sequence of commands. Each command in the sequence:
   <ol>
     <li>reads its input parameters
     <li>runs
     <li>sets its output parameters
     <li>continues the sequence.
     It does not need to access the sequence structure in order to pass its outputs as the inputs of the following command, or to start the following command.
     <li>
   </ol>
   Cycle
   <br>While running, a command decides to start a command sequence that ends with its re-starting (PLM Update case):
   The main command detects a problem and proposes a solution to the user. The main command (C1) does not master this problem solving but knows the command (C2) or command sequence that does. C1 will dynamically build and start the following sequence:
   <ol>
     <li>C1 sets the right information for C2 to start C1 again;
     <li>C1 start C2;
     <li>C2 runs and starts C1 (though C2 does not know C1);
     <li>C1 runs again, evaluates the progression to the solution and takes appropriate actions.
   </ol>
   Dynamic sequence
   <br>During a sequence, each command may modify the remaining sequence:
   <ul>
     <li>Change any command header id in the sequence.
     <li>Change any parameter of any command in the sequence.
   </ul>
 </ul></p>
<hr>
 <h2>Constructor and Destructor Index</h2> <br>
<dl>
 <dt> o 
    <a href="#~CATAfrCommandSequence()"><b>~CATAfrCommandSequence</b></a>()
<dd> </dl>
 <h2>Method Index</h2> <br>
<dl>
 <dt> o 
    <a href="#Append(CATAfrCommandHeaderStartInfo&amp;)"><b>Append</b></a>(CATAfrCommandHeaderStartInfo&amp;)
<dd>  Add a command information to the list.
 <dt> o 
    <a href="#CATDeclareCBEvent(SEQUENCE_ENDED)"><b>CATDeclareCBEvent</b></a>(SEQUENCE_ENDED)
<dd>  Event sent when the sequence ends.
 <dt> o 
    <a href="#Continue()"><b>Continue</b></a>()
<dd>  Continue the command sequence.
 <dt> o 
    <a href="#Create()"><b>Create</b></a>()
<dd>  Create a command sequence.
 <dt> o 
    <a href="#GetCommandHeaderStartInfo(int,CATAfrCommandHeaderStartInfo&amp;)"><b>GetCommandHeaderStartInfo</b></a>(int,CATAfrCommandHeaderStartInfo&amp;)
<dd>  Access to a command information.
 <dt> o 
    <a href="#GetSequence(CATAfrCommandSequence*&amp;)"><b>GetSequence</b></a>(CATAfrCommandSequence*&amp;)
<dd>  Access to the command sequence.
 <dt> o 
    <a href="#GetSize(int&amp;)"><b>GetSize</b></a>(int&amp;)
<dd>  Give the size of the list.
 <dt> o 
    <a href="#RemovePosition(int)"><b>RemovePosition</b></a>(int)
<dd>  Remove a command information.
 <dt> o 
    <a href="#Start()"><b>Start</b></a>()
<dd>  Start the command sequence.
</dl>
<dl>
</dl>
<dl>
</dl>
 <h2>Constructor and Destructor</h2> <br>
<a name="~CATAfrCommandSequence"></a><a name="~CATAfrCommandSequence()"></a> <dt> o <b>~CATAfrCommandSequence</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('','')</script>  <b>~CATAfrCommandSequence</b>(<td>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
</dl>
 <h2>Methods</h2> <br>
<a name="Append"></a><a name="Append(CATAfrCommandHeaderStartInfo&amp;)"></a> <dt> o <b>Append</b>

<dt>  <table><tr><td>  public <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>Append</b>(<td> const <script type="text/javascript"> activateLink('CATAfrCommandHeaderStartInfo','CATAfrCommandHeaderStartInfo&amp;')</script> <td><tt>iStartInfo</tt>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Add a command information to the list.
 <br<b>Role:</b>Adds a command information object at the end of the list.
 <br>There is no way to add in the middle of the list.
 
<dl>
  <dt> <b>Returns:</b> 
  <dd>    always S_OK.
</dl>
</dl>
<a name="CATDeclareCBEvent"></a><a name="CATDeclareCBEvent(SEQUENCE_ENDED)"></a> <dt> o <b>CATDeclareCBEvent</b>

<dt>  <table><tr><td>  public <script type="text/javascript"> activateLink('','')</script>  <b>CATDeclareCBEvent</b>(<td><script type="text/javascript"> activateLink('SEQUENCE_ENDED','SEQUENCE_ENDED')</script> <td><tt></tt>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Event sent when the sequence ends.
 <br><b>Role:</b><br>this event is sent by the sequence when it ends, normally or not.
 It may be useful to end the object that started the sequence.
 <br>Sample of use:
 <pre>
 ::AddCallback(this,
               pSequence,
	             CATAfrCommandSequence::SEQUENCE_ENDED(),
	             (CATSubscriberMethod)&MyClass::MyCBMethod,
	             NULL);
 </pre>
</dl>
<a name="Continue"></a><a name="Continue()"></a> <dt> o <b>Continue</b>

<dt>  <table><tr><td>  public static <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>Continue</b>(<td>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Continue the command sequence.
 <br<b>Role:</b>Continue the current sequence by starting the next command in the sequence.
 <br>The preceding command is removed from the sequence AND RequestDelayedDestruction is called on it to stop it.
 <br>Each command in the sequence must call Continue, even the last one,
 else the sequence will never step to the next command of the sequence.
 If this service fails (see causes below) the sequence is deleted.
 <br> The output and input-output parameters of the preceding command are matched with the input and input-output parameters of the next command:
 if identifiers are equal and value types are the same, the value of the output is copied to the input, even if the input already has a value.
 
<dl>
  <dt> <b>Returns:</b> 
  <dd>    S_OK if continuation succeeds, E_FAIL if no sequence was found or the command header was not found or the command header did not start any command.
</dl>
</dl>
<a name="Create"></a><a name="Create()"></a> <dt> o <b>Create</b>

<dt>  <table><tr><td>  public static <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>Create</b>(<td>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Create a command sequence.
 <br<b>Role:</b>Calls the constructor to create the current sequence.
 <br>Do not directly call the constructor, the sequence would be unusable.
 <br>Only one sequence may be running. Calling this method a second time before the first sequence ends
 will not create a sequence and will return an error code.
 
<dl>
  <dt> <b>Returns:</b> 
  <dd>    S_OK if creation succeeds, E_FAIL if no sequence could be created.
</dl>
</dl>
<a name="GetCommandHeaderStartInfo"></a><a name="GetCommandHeaderStartInfo(int,CATAfrCommandHeaderStartInfo&amp;)"></a> <dt> o <b>GetCommandHeaderStartInfo</b>

<dt>  <table><tr><td>  public <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>GetCommandHeaderStartInfo</b>(<td> const <script type="text/javascript"> activateLink('int','int')</script> <td><tt>iIndex</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATAfrCommandHeaderStartInfo','CATAfrCommandHeaderStartInfo&amp;')</script> <td><tt>oStartInfo</tt>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Access to a command information.
 <br<b>Role:</b>Returns the information about a command of the sequence.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iIndex</tt>
   <dd>  The number of the object to get in the list.
 </dd>
    <dt><tt> oStartInfo</tt>
   <dd>  The command information object.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>    S_OK if info was found, E_INVALIDARG if index is out of bounds.
</dl>
</dl>
<a name="GetSequence"></a><a name="GetSequence(CATAfrCommandSequence*&amp;)"></a> <dt> o <b>GetSequence</b>

<dt>  <table><tr><td>  public static <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>GetSequence</b>(<td><script type="text/javascript"> activateLink('CATAfrCommandSequence','CATAfrCommandSequence*&amp;')</script> <td><tt>oCurrentSequence</tt>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Access to the command sequence.
 <br<b>Role:</b>Returns the running sequence.
 <br>The running sequence may be queried from anywhere while it is running.
 <br>The returned sequence is modifyable by using other methods of this class.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> oCurrentSequence</tt>
   <dd>  The sequence.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>    S_OK if continuation succeeds, E_FAIL if no sequence was found.
</dl>
</dl>
<a name="GetSize"></a><a name="GetSize(int&amp;)"></a> <dt> o <b>GetSize</b>

<dt>  <table><tr><td>  public <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>GetSize</b>(<td><script type="text/javascript"> activateLink('int','int&amp;')</script> <td><tt>oSize</tt>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Give the size of the list.
 <br<b>Role:</b>Returns the number of objects in the list.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> oSize</tt>
   <dd>  The size.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>    always S_OK.
</dl>
</dl>
<a name="RemovePosition"></a><a name="RemovePosition(int)"></a> <dt> o <b>RemovePosition</b>

<dt>  <table><tr><td>  public <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>RemovePosition</b>(<td> const <script type="text/javascript"> activateLink('int','int')</script> <td><tt>iIndex</tt>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Remove a command information.
 <br<b>Role:</b>Deletes the information about a command of the sequence.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iIndex</tt>
   <dd>  The number of the object to remove from the list.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>    S_OK if remove was done, E_INVALIDARG if index is out of bounds.
</dl>
</dl>
<a name="Start"></a><a name="Start()"></a> <dt> o <b>Start</b>

<dt>  <table><tr><td>  public static <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>Start</b>(<td>)<script type="text/javascript"> activateLink('','')</script>  </table></dt>
<dl>
  <dd>
 Start the command sequence.
 <br<b>Role:</b>Starts the current sequence by starting the first command in the sequence.
 If this service fails (see causes below) the sequence is deleted.
 
<dl>
  <dt> <b>Returns:</b> 
  <dd>    S_OK if start succeeds, E_FAIL if no sequence was found or the command header was not found or the command header did not start any command.
</dl>
</dl>
<hr>
 This object is included in the file: <b>CATAfrCommandSequence.h</b><br>
If needed, your Imakefile.mk should include the module: <b>CATAfrFoundation</b>
<hr/><p><i>
Copyright &#169; 1999-2015, Dassault Syst&#232;mes. All rights reserved.
</i></p>
</body>

</html>

