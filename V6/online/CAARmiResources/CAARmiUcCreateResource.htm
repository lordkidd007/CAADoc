<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>Creating a Resource Reference</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top">Creating a Resource Reference</a></h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This article describes an example of use of Framework DELPPRResourceItf.
		
		This example is authoring the Functional Resource model and navigates in 
		it.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAARmiCreateResource Use Case</a>
				<ul>
					<li><a href="#What">What Does CAARmiCreateResource Do</a></li>
					<li><a href="#How">How to Launch CAARmiCreateResource</a></li>
					<li><a href="#Where">Where to Find the CAARmiCreateResource 
						Code</a></li>
				</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>In this use case, you will learn how to create a resource reference.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAARmiCreateResource Use Case</h2>
<p>CAARmiCreateResource is a use case of the CAAPPRResourceItf.edu framework that 
illustrates DELPPRResourceItf framework capabilities.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAARmiCreateResource Do</h3>
<p>The use case:</p>
<ul>
	<li>creates a root resource reference of type &quot;OrganizationalRef&quot; 
		retrieved from the dictionnary.</li>
	<li>holds it into the Bag aimed at holding PLM components in session.</li>
	<li>It then clears the Bag.</li>
</ul>
<!--Process Binding with <a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf', 'interface', 'DELIPPRProcessAuth', 'InsertPredecessor');return false;">InsertPredecessor</a>:<br/>
-->
<p>Resource Reference are created through the use of
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRResourceItf', 'interface', 'DELIPPRResourceAuth', 'CreateResource');return false;">CreateResource</a> that returns a
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'interface', 'CATIPLMNavReference');return false;">CATIPLMNavReference</a> that should be a
<a href="#" onclick="javascript:CAAlink('CPP', 'ProductStructureInterfaces', 'interface', 'CATIPLMProducts');return false;">CATIPLMProducts</a>:</p>
<p><strong>Use case objects</strong>: <code>CAARmiCreateResource</code></p>
<p><strong>Expected Result:</strong><br />
The result is a return code, its value is:</p>
<ul>
	<li>0 on successful completion</li>
	<li>1 if execution failed.</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Launch CAARmiCreateResource</h3>
<p>To launch CAARmiCreateResource, you will need to set up the build time environment, 
then compile CAARmiCreateResource along with its prerequisites, set up the run time 
environment, and then execute the use case [<a href="#References">1</a>].</p>
<p><strong>Additional instructions:</strong><br />
<code>mkrun -c "CAARmiCreateResource Repository Server User Password SecurityCtx 
Environment"</code></p>
<p>where:</p>
<!--
          <pre>
        Repository    : The name of the repository (or provider)
                    Server        : The name and port of the server
                    User          : The user identifier
                    Password      : The user password
                    SecurityCtx   : A string representing the security context (Role.Organization.Project)
                    Environment   : A PLM Environment containing a modeler customization
          </pre>
-->
<table class="fill">
	<tr>
		<th>Parameter</th>
		<th>description</th>
	</tr>
	<tr>
		<td>Repository</td>
		<td>The name of the repository (or provider)</td>
	</tr>
	<tr>
		<td>Server</td>
		<td>The name and port of the server</td>
	</tr>
	<tr>
		<td>User</td>
		<td>The user identifier</td>
	</tr>
	<tr>
		<td>Password</td>
		<td>The user password</td>
	</tr>
	<tr>
		<td>SecurityCtx</td>
		<td>A string representing the security context (Role.Organization.Project)</td>
	</tr>
	<tr>
		<td>Environment</td>
		<td>A PLM Environment containing a modeler customization</td>
	</tr>
</table>
<p><strong>Example</strong>:</p>
<p><code>mkrun -c "CAARmiCreateResource PLM1 ve4al10dsy:8090 uxodtipt Ovb2pcds VPMADMIN.ADMIN.DEFAULT 
VPM"</code></p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Where"></a>Where to Find the CAARmiCreateResource Code.</h3>
<p>The CAARmiCreateResource use case is made of a file located in the CAARmiCreateResource.m 
module of the CAAPPRResourceItf.edu framework:</p>
<p><code>InstallRootFolder\CAADoc\CAAPPRResourceItf.edu\CAARmiCreateResource.m</code></p>
<p>where <code>InstallRootFolder</code> [<a href="#References">1</a>] is the folder 
where the API CD-ROM is installed.</p>
<p>Main files:</p>
<pre class="code">CAAPPRResourceItf.edu/CAARmiCreateResource.m/src/CAARmiCreateResource.cpp
CAAPPRResourceItf.edu/ProtectedInterfaces/CAARmiSessionServices.h
CAAPPRResourceItf.edu/ProtectedInterfaces/CAARmiReleaseServices.h
CAAPPRResourceItf.edu/CAARmiServices.m/src/CAARmiSessionServices.cpp
CAAPPRResourceItf.edu/CAARmiServices.m/src/CAARmiReleaseServices.cpp
CAAPLMClientAdapter.edu/PublicInterfaces/CAAAdpCreateCloseSession.h</pre>

<p>CAA files:</p>
<pre class="code"><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRResourceItf');return false;">DELPPRResourceItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRResourceItf', 'interface', 'DELIPPRResourceAuthAccess');return false;">/PublicInterfaces/DELIPPRResourceAuthAccess.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRResourceItf');return false;">DELPPRResourceItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRResourceItf', 'interface', 'DELIPPRResourceAuth');return false;">/PublicInterfaces/DELIPPRResourceAuth.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'interface', 'CATIPLMNavReference');return false;">/PublicInterfaces/CATIPLMNavReference.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'KnowledgeInterfaces');return false;">KnowledgeInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'KnowledgeInterfaces', 'interface', 'CATITypeDictionary');return false;">/PublicInterfaces/CATITypeDictionary.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'ObjectModelerBase');return false;">ObjectModelerBase</a><a href="#" onclick="javascript:CAAlink('CPP', 'ObjectModelerBase', 'class', 'CATOmbLifeCycleRootsBag');return false;">/PublicInterfaces/CATOmbLifeCycleRootsBag.h</a></pre>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Step"></a>Step-by-Step</h2>
<p>There are four logical steps in CAARmiCreateResource:</p>

	<ol>
		<li><a href="#Step1">Getting the DELIPPRResourceAuth Interface</a></li>
		<li><a href="#Step2">Getting the CATITypeDictionary Interface</a></li>
		<li><a href="#Step3">Creating the Root Resource Reference (CreateAssembly)</a></li>
		<li><a href="#Step4">Inserting the Reference into the Bag</a></li>
	</ol>

<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step1"></a>Getting the DELIPPRResourceAuth Interface</h3>
<pre class="code">
 DELIPPRResourceAuth_var hPPRResourceAuth;
rc = ::GetPPRResourceAuth(hPPRResourceAuth);</pre>
<p>The DELIPPRResourceAuth interface is retrived thanks to the DELPPRResourceAuthAccess.h::GetPPRResourceAuth(.) 
service function, it will be later used to create Resources.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step2"></a>Getting the CATITypeDictionary Interface</h3>
<pre class="code">
CATITypeDictionary_var hTypeDic = CATGlobalFunctions::GetTypeDictionary();
CATIType_var hResourceType;
rc = hTypeDic-&gt;FindTypeInPackage("OrganizationalRef", "PLMResourceTypePackage", hResourceType);</pre>
<p>The CATITypeDictionary interface is retrieved and used to instanciate the desired 
resource types to create (OrganizationalRef).</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step3"></a>Creating the Root Resource Reference (CreateAssembly)</h3>
<pre class="code">
 CATIPLMNavReference * piNavRefOnRootResource = NULL;
rc = hPPRResourceAuth-&gt;CreateResource(hResourceType, (void **)&amp;piNavRefOnRootResource);</pre>
<p>The DELIPPRResourceAuth::CreateResource(..) method, is providing you with a CATIPLMNavReference 
handling the desired resource.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step4"></a>Inserting the Reference into the Bag</h3>
<pre class="code">CATOmbLifeCycleRootsBag Bag;
rc = Bag.InsertRoot(hNavRefOnRootResource);</pre>
<p>The Root Resource should is stored into the bag.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>PLM Resources may be created using CAA API.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Aug 2010]</td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
