<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta http-equiv="Content-Language" content="en-us" />
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<link rel="stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css"/>
	<script type="text/javascript" src="../CAADocJavaScript/DSDocTocToc.js">/* */</script>
	<script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js">/* */</script>
	<script type="text/javascript" src="../CAADocJavaScript/submit.js">/* */</script>
	<title>List Answer Comments</title>
</head>

<body onload="createToc();highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
			<h1><a name="Top"></a>List Answer Comments</h1>
		</td>
	</tr>
</table>

<table class="abstract">
	<tr><td><div id="toc"></div></td></tr>
</table>

<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<h2><a name="Role"></a>Role</h2>
<p>Returns a list of the comments belonging to a answer of a iQuestion. Returns also deleted comments (see moderation_status in response).</p>

<script type="text/javascript">insertLinkToTop();</script>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<h2><a name="Request"></a>Request</h2>

<table class="fill">
	<tr><th>&nbsp;Method&nbsp;</th><th>&nbsp;Path&nbsp;</th></tr>
	<tr>
		<td>GET</td>
		<td>api/answer/listcomments</td>
	</tr>
</table>

<h3><a name="Parameters"></a>Parameters</h3>
<p>The GET parameters (see <a href="CAA3DSwymTaAboutWS.htm#GET">GET Method</a>) are:</p>
<table class="fill">
	<tr>
		<th>&nbsp;Name&nbsp;</th>
		<th>&nbsp;Require&nbsp;</th>
		<th>&nbsp;Value&nbsp;</th>
		<th>&nbsp;Description&nbsp;</th>
	</tr>
	<tr>
		<td>answer_id</td>
		<td>yes</td>
		<td>A positive number.</td>
		<td>Identifier of the answer to list comments from.</td>
	</tr>
</table>

<script type="text/javascript">insertLinkToTop();</script>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<h2><a name="Response"></a>Response</h2>

<p>The response is a standard 3DSwYm JSON (see <a href="CAA3DSwymTaAboutWS.htm#JSON">JSON as Output</a>) where the key result is an array. Each element of the array is a JSON composed as follows:</p>

<table class="fill">
	<tr>
		<th>&nbsp;Key&nbsp;</th>
		<th>&nbsp;Description&nbsp;</th>
		<th>&nbsp;Value&nbsp;</th>
		<th>&nbsp;Applicability&nbsp;</th>
	</tr>
	<tr>
		<td>_acl</td>
		<td>Access Control List (ACL) of the comment for the current user.</td>
		<td>
			<p>The value is a JSON composed as follows:</p>

			<table class="fill">
				<tr>
					<th>&nbsp;Key&nbsp;</th>
					<th>&nbsp;Description&nbsp;</th>
					<th>&nbsp;Value&nbsp;</th>
					<th>&nbsp;Applicability&nbsp;</th>
				</tr>
				<tr>
					<td>delete</td>
					<td>Access Control List (ACL) for answer deletion</td>
					<td>
						<p>The value is a JSON composed as follows:</p>

						<table class="fill">
							<tr>
								<th>&nbsp;Key&nbsp;</th>
								<th>&nbsp;Description&nbsp;</th>
								<th>&nbsp;Value&nbsp;</th>
								<th>&nbsp;Applicability&nbsp;</th>
							</tr>
							<tr>
								<td>access</td>
								<td>Accessibility for the current user.</td>
								<td>
									 A boolean: <ul> <li>true: current user can access.</li> <li>false: current user cannot access.</li> </ul> 
								</td>
								<td>yes</td>
							</tr>
							<tr>
								<td>groupIdentifier</td>
								<td></td>
								<td></td>
								<td>no</td>
							</tr>
						</table>
					</td>
					<td>yes</td>
				</tr>
				<tr>
					<td>update</td>
					<td>Access Control List (ACL) for answer update</td>
					<td>
						<p>The value is a JSON composed as follows:</p>

						<table class="fill">
							<tr>
								<th>&nbsp;Key&nbsp;</th>
								<th>&nbsp;Description&nbsp;</th>
								<th>&nbsp;Value&nbsp;</th>
								<th>&nbsp;Applicability&nbsp;</th>
							</tr>
							<tr>
								<td>access</td>
								<td>Accessibility for the current user.</td>
								<td>
									 A boolean: <ul> <li>true: current user can access.</li> <li>false: current user cannot access.</li> </ul> 
								</td>
								<td>yes</td>
							</tr>
							<tr>
								<td>groupIdentifier</td>
								<td></td>
								<td></td>
								<td>no</td>
							</tr>
						</table>
					</td>
					<td>yes</td>
				</tr>
			</table>
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>accept_tou</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>account_disabled</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>address</td>
		<td>Street part of the comment author address.</td>
		<td>
			A string or an empty string if information not shared.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>city</td>
		<td>City part of the comment author address.</td>
		<td>
			A string. An empty string if information is not shared.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>clean_comment</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>comment</td>
		<td>Text of the comment.</td>
		<td>
			A string. Format is HTML-like (see <a href="CAA3DSwymTaAboutWS.htm#HTMLFormatting">Format HTML-like</a>).
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>company</td>
		<td>Company of the comment author address.</td>
		<td>
			A string. An empty string if information is not shared.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>country</td>
		<td>Country part of the comment author address.</td>
		<td>
			A string.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>country_code</td>
		<td>Alpha-2 country code (see http://www.iso.org/iso/country_codes_glossary ).</td>
		<td>
			A two characters string.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>crdate</td>
		<td>Comment creation date.</td>
		<td>
			A date (see <a href="CAA3DSwymTaAboutWS.htm#DateFormatting">Date Format</a>).
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>custom_infos</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>delete</td>
		<td>The deletion status of the comment.</td>
		<td>
			 A boolean: <ul> <li>0: not deleted. </li> <li>1: deleted. </li> </ul> 
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>documents_ids</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>ds_user</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>email</td>
		<td>E-mail of the comment author.</td>
		<td>
			A e-mail string. Ex: john.doe@ds.com. An empty string if information is not shared.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>first_name</td>
		<td>First name of the comment author.</td>
		<td>
			A string. An empty string if information is not shared.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>forced_site_id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>hash_key</td>
		<td>Crypted identifier of the comment author.</td>
		<td>
			A hash key.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>hidden</td>
		<td>Visibility of the comment.</td>
		<td>
			 A boolean: <ul> <li>1: hidden.</li> <li>0: not hidden.</li> </ul> 
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>is_service_account</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>job_title</td>
		<td>job title of the comment author.</td>
		<td>
			A string. An empty string if information is not shared.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>last_name</td>
		<td>Last name of the comment author.</td>
		<td>
			A string.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>login</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>moderation_date</td>
		<td>Moderation date</td>
		<td>
			A date (see <a href="CAA3DSwymTaAboutWS.htm#DateFormatting">Date Format</a>).
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>moderation_status</td>
		<td>Status of the edition of the commen.</td>
		<td>
			 A string. Possible values are: <ul> <li>no_moderation: comment has not been changed.</li> <li>updated: updated by a community owner or a platform administrator.</li> <li>deleted: deleted by a community owner or a platform administrator.</li> <li>updated_by_author: updated by the author of the content.</li> <li>deleted_by_author: deleted by the author of the content.</li> </ul> 
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>moderation_userid</td>
		<td> User identifier of a person that has either: <ul> <li>deleted the comment (moderator or owner).</li> <li>edited the comment (moderator). If the comment owner has edited or no deletion has occurred on the comment, null identifier (0) is returned.</li> </ul> </td>
		<td>
			A positive number.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>nickname</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>passport_head_id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>passport_site_id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>passport_update</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>picture_filename</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>picture_processed</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>picture_update</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>qna_answer_id</td>
		<td>Answer identifier.</td>
		<td>
			A positive number.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>qna_crdate</td>
		<td>Answer creation date.</td>
		<td>
			A date (see <a href="CAA3DSwymTaAboutWS.htm#DateFormatting">Date Format</a>).
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td><b>qna_id</b></td>
		<td>Answer identifier.</td>
		<td>
			A positive number.
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>qna_update</td>
		<td>Answer update date.</td>
		<td>
			A date (see <a href="CAA3DSwymTaAboutWS.htm#DateFormatting">Date Format</a>).
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>show_help_screen</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>site_country</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>site_id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>state</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>su</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>tel</td>
		<td>Telephone number of the comment author.</td>
		<td>
			 A phone number. An empty string if information is not shared. 
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>template_id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>tenant_id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>update</td>
		<td>Comment update date</td>
		<td>
			 A date (see <a href="CAA3DSwymTaAboutWS.htm#DateFormatting">Date Format</a>). 
		</td>
		<td>yes</td>
	</tr>
	<tr>
		<td>user_id</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>user_title</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>userdata_update</td>
		<td></td>
		<td></td>
		<td>no</td>
	</tr>
	<tr>
		<td>zip</td>
		<td>Zip code part of the comment author address.</td>
		<td>
			 An empty string if information is not shared. 
		</td>
		<td>yes</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<h2><a name="Example"></a>Example</h2>
<p>Example of trace file</p>

<pre class="code">
##CLIENT REQUEST
##------------------------------------------------------------
[GET] https://pod46-231-150-165.3dexperience.3ds.com/api/answer/listcomments/answer_id/6
  [HEADER] X-SWYM (CSRF token): 1a9a0fc7

##SERVER RESPONSE [200] OK
##--------------------

#RESPONSE HEADER : 
#--------------------
HTTP/1.1 200 OK
Date: Fri, 28 Nov 2014 08:18:55 GMT
Server: Apache/2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/1.0.1e-fips PHP/5.3.15
X-Powered-By: PHP/5.3.15
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Pragma: no-cache
Cache-Control: no-cache
X-H: 1,0,1,1,3,3,8,1
Content-Length: 1488
Content-Type: application/json
Vary: Accept-Encoding,User-Agent
Keep-Alive: timeout=5, max=90
Connection: Keep-Alive

#RESPONSE BODY
#--------------------
{
  "monitoring": {"last_exec_time": 0.10097599029541},
  "nb_result": "1",
  "request_id": null,
  "result": [{
    "_acl": {
      "delete": {
        "access": true,
        "groupIdentifier": "CONTENT_OWNER"
      },
      "update": {
        "access": true,
        "groupIdentifier": "CONTENT_OWNER"
      }
    },
    "accept_share_info": "1",
    "accept_tou": "0",
    "account_disabled": "0",
    "address": "",
    "city": "Velizy",
    "clean_comment": "comment-question-answer-comment-add",
    "comment": "comment-question-answer-comment-add",
    "company": "DS",
    "country": "France",
    "country_code": "",
    "crdate": "2014-11-28 05:55:59",
    "custom_infos": "",
    "delete": "0",
    "documents_ids": [],
    "ds_user": "1",
    "email": "enoviacloud@3ds.com",
    "emplid": "",
    "first_name": "Enovia",
    "forced_site_id": null,
    "hash_key": "dcd588dabacdcc177245633707ad4368",
    "hidden": "0",
    "id": "3",
    "is_service_account": "0",
    "job_title": "",
    "last_name": "Enovia_Cloud",
    "login": "enovia_cloud",
    "moderation_date": "2014-11-28 08:18:54",
    "moderation_status": "updated_by_author",
    "moderation_userid": "",
    "nickname": "Enovia Enovia_Cloud",
    "passport_head_id": "ds_internal",
    "passport_site_id": "ds_internal",
    "passport_update": "2014-11-28 08:18:39",
    "picture_filename": "",
    "picture_processed": "0",
    "picture_update": "0000-00-00 00:00:00",
    "qna_answer_id": "6",
    "qna_crdate": "2014-11-28 08:18:53",
    "qna_id": "3",
    "qna_update": "2014-11-28 08:18:54",
    "show_help_screen": "1",
    "site_country": "",
    "site_id": "ds_internal",
    "state": null,
    "su": "0",
    "tel": "",
    "template_id": null,
    "tenant_id": null,
    "update": "2014-11-28 08:18:39",
    "user_id": "2",
    "user_title": "0",
    "userdata_update": "2014-11-28 08:18:39",
    "zip": "78140"
  }]
}
</pre>

<script type="text/javascript">insertCopyright();</script>
</body>
</html>

