<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 12.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js"></script>
<script type="text/javascript" src="../CAADocJavaScript/submit.js"></script>
<title>Publishing PLM Entities in Multiple Briefcases with Optimization</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Publishing PLM Entities in Multiple Briefcases with 
		Optimization</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This use case illustrates the steps involved to publish a set of PLM 
		entities inside multiple briefcase files with Optimization, using the PLM 
		Channel. A PLM Channel is an exchange context created between two specific 
		repositories in order to allow data exchange and ownership transfers. Refer 
		the Technical article [<a href="#References">1</a>] for the details of PLM 
		Channel creation and Data Exchange.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAASrmPublishExchange2 Use Case</a>
			<ul>
				<li><a href="#What">What Does CAASrmPublishExchange2 Do</a></li>
				<li><a href="#How">How to Launch CAASrmPublishExchange2</a></li>
				<li><a href="#Where">Where to Find the CAASrmPublishExchange2 Code</a>
				</li>
			</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>The UC teaches an end-user fundamentally to optimally publish a set of PLM entities. 
By &quot;optimally&quot; we imply, the publish takes into account an acknowledgement file, 
of the last synchronization at the target site. It also illustrates the steps involved 
to set the Multiple Briefcase option and the path at which the BC files will be 
generated.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAASrmPublishExchange2 Use Case</h2>
<p><code>CAASrmPublishExchange2 </code>is a use case of the <code>CAASRMExposedServices.edu</code> 
framework that illustrates <code>PLMSRMExposedServices</code> framework capabilities.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAASrmPublishExchange2 Do</h3>
<p>The UC illustrates the steps involved to publish a set of PLM entities
<strong>optimally</strong>.</p>
<p>The UC initially sets the Acknowledgement file path, an output of the last synchronization 
that happened at the target site. It is this acknowledgement file which optimizes 
the publish operation.</p>
<p>It then sets the path at which the report of this publish operation will be generated.</p>
<p>It then sets the count of the number of components output in a single Briefcase 
file, as an output of the Publish operation.</p>
<p>It also sets the briefcase file path, a location at which the published briefcases 
files will be output.</p>
<p>Finally it invokes the publish operation.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Launch CAASrmPublishExchange2</h3>
<p>To launch <code>CAASrmPublishExchange2</code>, you will need to set up the build 
time environment, then compile <code>CAASrmPublishExchange2 </code>along with its 
prerequisites, set up the run time environment, and then execute the use case [<a href="#References">2</a>].</p>
<p>To launch the use case execute the command:</p>
<p><code>mkrun -c &quot;</code><code><em>CAASrmPublishExchange2 Repository Server User 
Password SecurityCtx date OwnershipTransfer -InputData InputDataFilePath 
-ReportPath ReportFilePath -PLMChannelID ChannelIDFilePath -Optimize AcknowledgementFilePath 
-MultiBC CountOfCompsPerBC -OutputData BriefcaseFilePath</em><strong>&quot;</strong></code></p>
<p>where:</p>
<table class="border1">
	<tr>
		<th>Repository</th>
		<td>
		<script type="text/javascript">insertRepository();</script>
		</td>
	</tr>
	<tr>
		<th>Server</th>
		<td>The server as <em>Host::port_number/RootURI</em></td>
	</tr>
	<tr>
		<th>User</th>
		<td>The user name</td>
	</tr>
	<tr>
		<th>Password</th>
		<td>The user password to authenticate the user</td>
	</tr>
	<tr>
		<th>SecurityCtx</th>
		<td>A string representing the security context (Role.Organization.Project). 
		Choose Role as Designer</td>
	</tr>
	<tr>
		<th>date</th>
		<td>A string defining if the Product representations should be filtered 
		depending on the current local date or not. If YES then all Product Representations 
		modified before the current local date are excluded from the list of PLM 
		Entities to publish</td>
	</tr>
	<tr>
		<th>OwnershipTransfer</th>
		<td>A string used to transfer or not the site ownership of the published 
		entities.<br>
		If TRUE then the site ownership of the PLM Entities are transferred</td>
	</tr>
	<tr>
		<th>-InputData</th>
		<td>
		<p>indicates the next argument is the path of the file which has the PLM 
		entity description</p>
		</td>
	</tr>
	<tr>
		<th>InputDataFilePath*</th>
		<td>the path at which the Input data file is located. This file will have 
		a line entry in the sequence specified below corresponding to each PLM entity<br>
		-IDSet : indicates the arguments that follow are the IDSet attribute-value 
		for a PLM entity <br>
		IDAttributeName1 : ID Attribute name for the PLM Reference to be publish<br>
		value1 : Attr value for the PLM Reference to be publish<br>
		N Attr-value sets : which define the IDSet for the PLM entities to be published 
		through the PLM Channel<br>
		PLMType : A PLMType String</td>
	</tr>
	<tr>
		<th>-ReportPath</th>
		<td>indicates the next argument is the path of the Report File</td>
	</tr>
	<tr>
		<th>ReportFilePath</th>
		<td>the path at which the Report file will be output</td>
	</tr>
	<tr>
		<th>-PLMChannelID</th>
		<td>indicates the next argument is the path of the text file which has the 
		Channel Identification in it</td>
	</tr>
	<tr>
		<th>ChannelIDFilePath</th>
		<td>The path of the text file containing the identification of the PLM Channel<br>
		This channel identification will be used for publishing the PLM entities 
		through PLM Channel</td>
	</tr>
	<tr>
		<th>-MultiBC</th>
		<td>indicates the next argument is the count of the published entities inside 
		a single briefcase file</td>
	</tr>
	<tr>
		<th>CountOfCompsPerBC</th>
		<td>The number of published entities to be contained inside a single Briefcase 
		file</td>
	</tr>
	<tr>
		<th>-OutputData</th>
		<td>indicates the next argument is the path at which the briefcase file 
		(containing the published entities) will be output</td>
	</tr>
	<tr>
		<th>BriefcaseFilePath</th>
		<td>The path of the file where to write the Briefcase file generated by 
		this use case. The path must not already exist and its extension must be 
		&quot;.PLMBriefcase&quot;<br>
		Example: &quot;C:\Temp\BriefcaseFilePath.PLMBriefcase&quot;</td>
	</tr>
	<tr>
		<th>-Optimize</th>
		<td>indicates the next argument is the path of the acknowledgement file 
		generated at the target site during sync</td>
	</tr>
	<tr>
		<th>AcknowledgementFilePath</th>
		<td>The path of the file where the Acknowledge file exists, an input to 
		realize optimization during publish<br>
		The path must exist at remote site and its&nbsp;&nbsp; extension must be &quot;.PLMBriefcase&quot;.<br>
		Example: &quot;C:\Temp\BriefcaseFilePath.PLMBriefcase&quot;</td>
	</tr>
	
	
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<p>*Sample contents of InputDataFilePath: VPMRepReference;-IdSet;PLM_ExternalID;CAASrmPLMChannel_RepRef1;V_version;---;</p>
<p>One row dedicated to each PLM entity. The file ends at the end of the last 
row (no newline character at the end)</p>
<h3><a name="Where"></a>Where to Find the CAASrmPublishExchange2 Code</h3>
<p>The <code>CAASrmPublishExchange2</code> use case is made of a <strong>main</strong> 
routine in the source file <strong>CAASrmPublishExchange2.cpp</strong> which exists 
at the location:</p>
<p><code>InstallRootFolder\CAADoc\CAASRMExposedServices.edu\CAASrmPublishExchange2.m\</code></p>
<p>where <code>InstallRootFolder</code> [<a href="#References">2</a>] is the folder 
where the API CD-ROM is installed.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Step"></a>Step-by-Step</h2>
<ul>
	<li><a href="#Prolog">Prolog</a> </li>
	<li><a href="#Retrieve handle to interface - 1">Retrieve the handle to the Class 
	exposing the services managing the PLM Channel</a></li>
	<li><a href="#Set the acknow path">Set the Acknowledgement File Path</a></li>
	<li><a href="#Set the count of comps per BC">Set the count of Components per 
	Briefcase and the Briefcase path</a></li>
	<li><a href="#Set the report file path">Set the Report Path</a></li>
	<li><a href="#Publish the plm entity">Publish the PLM entities</a></li>
	<li><a href="#Epilog">Epilog</a></li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prolog"></a>Prolog</h3>
<p>The <code>CAASrmPublishExchange2 </code>use case begins by creating a session 
and connecting to the Input Repository with an appropriate role. The use case &quot;Creating 
a Basic PLM Batch&quot; [<a href="#References">8</a>] deals with Opening and Closing 
a PLM Session.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Retrieve handle to interface - 1"></a>Retrieve the handle to the Class 
exposing the services managing the PLM Channel</h3>
<p>We retrieve the class pointer which exposes the services managing the PLM Channel.</p>
<pre class="code"><strong>CATPLMExchangeChannelServices* pExchangeChannelServices = new CATPLMExchangeChannelServices()</strong>;</pre>
<p>The <em>CATPLMExchangeChannelServices</em> class is instantiated the standard 
way, with a call to the new operator.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Set the acknow path"></a>Set the Acknowledgement File Path</h3>
<p>We next set the path at which the acknowledgement file exists, an acknowledgement 
of the synchronization that happened at the target site. This acknowledgement file 
is a key input for the optimization of the publish operation at the source site.</p>
<pre class="code">rc =  <strong>pExchangeChannelServices-&gt;SetAcknowledgementPathForPublishOptimization(</strong>strAcknowledgeFilePath)<strong>;</strong></pre>
<p>The <code>SetAcknowledgePathForPublishOptimization</code>() call of the <em>CATIPLMExchangeChannelServices</em> 
class sets the path at which the acknowledgement file exists.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Set the count of comps per BC"></a>Set the count of the Components 
per Briefcase and the Briefcase Path</h3>
<p>We next set the path at which the published briefcases are created. We also set 
the count of the number of components per briefcase. </p>
<pre class="code">rc = <strong>pExchangeChannelServices-&gt;SetMultipleBriefcaseParametersForPublish</strong>(BCCount,BriefcaseFilePath);</pre>
<p>The <code>SetMultipleBriefcaseParametersForPublish</code>() call of the <em>CATPLMExchangeChannelServices</em> 
class sets this information.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Set the report file path"></a>Set the Report File Path</h3>
<p>We set the location at which the Report file is generated, as a result of the 
Publish or Synchronize operation.</p>
<pre class="code">rc =  <strong>pExchangeChannelServices-&gt;SetReportFilePath</strong>(strReportFilePath);</pre>
<p>The call to <code>SetReportFilePath</code>() of the CATIPLMExchangeChannelServices 
sets the Report path.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Publish the plm entity"></a>Publish the PLM entities</h3>
<p>We finally publish a list of PLM entities. The publish happens optimally thanks 
to an earlier setting of an acknowledgement file, that output by the last synchronization 
at the target site. The publish also outputs a set of Briefcase files, yet again, 
determined by a setting in an earlier step.</p>
<pre class="code">rc = <strong>pExchangeChannelServices-&gt;PublishExchange</strong>(ichannelID, iObjectsIds, idate, itransferOwnership, strBCFileCompletePath);</pre>
<p>The <code>PublishExchange</code>() call of the <em>CATPLMExchangeChannelServices</em> 
class publishes the PLM entities intended for transfer to a distant site. The input 
arguments are:</p>
<ul>
	<li>
	<p><code>iChannelID</code>, a <em>CATString</em> type, the unique PLM Channel 
	Identification between the local and the distant site for data transfer.</p>
	</li>
	<li>
	<p><code>iObjectIds</code>, a <em>CATListPtrCATIAdpPLMIdentificator</em> type, 
	a list of PLM Identificators for transfer.</p>
	</li>
	<li>
	<p><code>idate</code>, a <em>CATTime</em> type, to filter the components for 
	publish. All components prior to this date are excluded from publish.</p>
	</li>
	<li>
	<p><code>itransferOwnership</code>, a <em>CATBoolean</em> type, to determine 
	if ownership transfer to the distant site is intended.</p>
	</li>
	<li>
	<p><code>strBCFileCompletePath</code>, a <em>CATUnicodeString</em> type, represents 
	the path at which to generate the Briefcase. The file must have a PLMBriefcase 
	extension.</p>
	</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Epilog"></a>Epilog</h3>
<p>The <code>CAASrmPublishExchange2 </code>use case ends by simply closing the PLM 
session. Since all use cases necessarily conclude by closing the PLM session, we 
have a dedicated article on this topic namely &quot;Creating a Basic PLM Batch&quot; [<a href="#References">3</a>].</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>The UC illustrates the steps involved to publish a set of PLM entities, optimally, 
using a PLM Channel. By &quot;optimally&quot; it implies, the publish operation takes into 
account an acknowledgement file input to it, which contains a list of PLM entities 
synchronized last at the target site.&nbsp; A PLM Channel is an exchange context 
created between two specific repositories in order to allow data exchange and ownership 
transfers.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td><a href="CAASrmTaSupplyChain.htm">Exchanging Data Using PLM Channel</a></td>
	</tr>
	<tr>
		<td>[2]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
	<tr>
		<td>[3]</td>
		<td>
		<a href="../CAAPlmServerAccess/CAAAdpUcBasicBatch.htm">
		Creating a Basic PLM Batch</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [May 2011]</td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
