<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 12.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js"></script>
<script type="text/javascript" src="../CAADocJavaScript/submit.js"></script>
<title>Torus</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1>Creating a Torus</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>A torus is a
		surface of revolution generated by revolving a circle or a circle arc in 
		the three dimensional 
		space about an axis coplanar with the circle. A torus has two radii: the minor radius which is the radius of the circle or circle arc to be rotated, 
		and the major radius  which is the distance from 
		the center of the circle being rotated to its axis of rotation. </p>
		<p>The magnitude of major radius relative to the magnitude of 
		the minor radius determines the type of the torus. </p>
		<ul>
										<li><a href="#OpeToBeUsed">API to be Used</a></li>
										<li><a href="#UseCaseDescription">Use Case Description</a></li>
										<li><a href="#References">References</a></li>
		</ul>
	
		
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="OpeToBeUsed">APIs to be Used</a></h2>
<p style="height: 10px">To create a torus or a piece of torus, use one of the CATGeoFactory::CreateTorus 
methods in the GeometricObjects framework. Depending on the relative magnitudes 
of the major and minor radii, the surface can self-intersect or not. If the 
surface self-intersects, you must specify which portion is to be kept and use 
the method dedicated to self-intersecting torii.</p>
<h2><a name="UseCaseDescription">Use Case Description</a></h2>
<p>The CAAGMModelTorusCreation.m module in CAAGMModelInterfaces.edu 
illustrates how to create a torus. This use case creates the input data required 
for the torus creation. If you are not already 
familiar with geometric modeler use cases, go to
<a href="../CAACgmModel/CAACgmUcGMUseCases.htm">About Geometric Modeler Uses Cases</a>. </p>
<h3>Case 1: The surface does not self-intersect</h3>
<p>With the code below:</p>
<TABLE class="code">
    <TR>
        <TD>
        <pre>
CATMathAxis  axis;
CATMathDirection D1(1.,0.,0.);
CATMathDirection D2(0.,1.,0.);
CATMathDirection D3(0.,0.,1.);
CATMathPoint  mathpoint(5.,15.,50.);
axis.Set(mathpoint,D1,D2,D3); 
double startAngleMaj = -0.2*CAT2PI; // - 72 deg
double endAngleMaj = +0.1*CAT2PI;   // 36 deg
double startAngleMin = -0.4*CAT2PI; // -144 deg
double endAngleMin = +0.35*CAT2PI;  // 126 deg
double radius(25.);

// ----------------------------------------------
// 3 -Create a torus
// ----------------------------------------------
//
// case 1 : the surface does not self-intersect
double radiusMin(20.);
cout &lt;&lt; "Case 1: Torus creation" &lt;&lt; endl;
CATTorus * pTorus =  piGeomFactory->CreateTorus(axis,radius,
startAngleMaj, endAngleMaj, radiusMin, startAngleMin, endAngleMin);  
if (!pTorus) return 1;</pre>
        </TD>
    </TR>
</TABLE>
<p>you get this result:</p>
<table cellspacing="6" class="style2">
  <caption><a name="Fig.1">Fig.1</a> Torus</caption>
  <tr>
	 <td>
	<img alt="Major start and end angles of a torus" src="images/CGM_torus_0.png" width="250" height="220">
	</td>
	 <td>
	<img alt="Minor start and end angles of a torus" src="images/CGM_torus_2.png" width="250" height="220">
	</td>
	  </tr>
	  <tr>
     	<td>
	Major start angle: -72 deg <br>
	Major end angle: + 36 deg
	<br>
	Right-hand rule defines positive angles<br>
	First direction of the torus axis is the<br>
	angle reference</td>
		<td>
	Minor start angle: -144 deg <br>
	Minor end angle: + 126 deg
	<br>
	Positive angles: direction of the torus axis.<br>
	</td>
	  </tr>
	</table>
<h2><a name="References"></a>Case 2: The surface self-intersects</h2>
<p>With the code below:</p>
<TABLE class="code">
    <TR>
        <TD>
       <pre>
CATMathAxis  axis;
CATMathDirection D1(1.,0.,0.);
CATMathDirection D2(0.,1.,0.);
CATMathDirection D3(0.,0.,1.);
CATMathPoint  mathpoint(5.,15.,50.);
axis.Set(mathpoint,D1,D2,D3); 
double startAngleMaj = -0.2*CAT2PI; // - 72 deg
double endAngleMaj = +0.1*CAT2PI;   // 36 deg
double startAngleMin = -0.4*CAT2PI; // -144 deg
double endAngleMin = +0.35*CAT2PI;  // 126 deg
double radius(25.);

// ----------------------------------------------
// 3 -Create a torus
// ----------------------------------------------
// case 1 : ...
// ...
// case 2 : the surface self-intersects
double radiusMinSI(40.);
cout &lt;&lt; "Case 2: Torus creation - surface self-intersects" &lt;&lt; endl;
CATTorus * pTorusSI =  piGeomFactory->CreateTorus(axis,radius,
	0, CAT2PI, radiusMinSI, 0);  
if (!pTorusSI) return 1;
</pre>
        </TD>
    </TR>
</TABLE>
<p>you get this result:</p>
<table cellspacing="6" class="style2">
  <caption><a name="Fig.2">Fig.2</a> Self-intersecting tori</caption>
  <tr>
	 <td>
	&nbsp;<img alt="Apple Torus" src="images/CGM_torus_apple.png" width="250" height="220">
	 </td>
	  <td>
	&nbsp;<img alt="Apple Torus" src="images/CGM_torus_lemon.png" width="250" height="220">
	 </td>
  </tr>
   <tr>
	 <td>
	Internal part removed
	 <br>
	(CATBoolean argument =1)</td>
	  <td>
	External part removed <br>
	(CATBoolean argument =0)</td>
  </tr>

  </table>

<h2>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
	<tr>
		<td>[2]</td>
		<td>
		<a href="../CAACgmModel/CAACgmUcGMUseCases.htm">About Geometric Modeler Use Cases</a></td>
	</tr>
	<tr>
		<td>[3]</td>
		<td>
		<a href="../CAACgmModel/CAACgmTaUseTopoOperators.htm">How to Use Topological Operators</a></td>
	</tr>
	</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Sept 2012]</td>
		<td>Document created</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
