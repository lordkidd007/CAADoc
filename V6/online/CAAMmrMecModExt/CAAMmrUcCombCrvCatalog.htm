<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>Creating Combined Curve's Catalog</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Creating Combined Curve's Catalog</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This use case explains how to generate a Catalog file including the Combined 
		Curve Feature's Initial Definition: its StartUp.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAAMmrCreateCombCrvCatalog Use Case</a>
				<ul>
					<li><a href="#What">What Does CAAMmrCreateCombCrvCatalog Do</a></li>
					<li><a href="#How">How to Create the CAAMmrCombinedCurveCatalog.CATfct 
						Catalog</a></li>
					<li><a href="#Where">Where to Find the CAAMmrCombinedCurveCatalog 
						OSM</a></li>
				</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>This use case is intended to help you generate the <strong>Catalog file</strong> containing 
the <strong>Combined Curve Feature StartUp</strong>.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAAMmrCreateCombCrvCatalog Use Case</h2>
<p><code>CAAMmrCreateCombCrvCatalog</code> is a use case of the <code>CAAMechanicalModelerExtend.edu</code> 
framework that illustrates <code>the Mechanical Modeler</code> extend capabilities.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAAMmrCreateCombCrvCatalog Do</h3>
<p>The goal of this use case is to generate the Catalog file containing the Combined 
Curve Feature's StartUp. As described in the technical article entitled &quot;Creating 
a New StartUp from a Mechanical Feature&quot; [<a href="#References">1</a>], the 
first thing is to define the new StartUp:</p>
<ol>
	<li>Choosing the derived mechanical StartUp
		<p>The Combined Curve is a wireframe geometrical object, so we have chosen 
		to derive the CombinedCurve StartUp from the <strong>GeometricalElement3D</strong> 
		mechanical StartUp. Derive from the GSMGeom StartUp can be also possible, 
		but it is not possible to derive from MechanicalFormFeature and MechanicalContextualFeature 
		since the Combined Curve is not a solid feature.</p>
		<p>The hierarchy of StartUps is the following:</p>
		<p><img alt="" height="337" src="images/CAAMmrCombinedCurveStartUps.jpg" width="182"/></p>
		<p>In so doing, you will automatically benefit from all standard behaviors 
		already implemented for all geometrical features and more generally for 
		all mechanical features. Refer to the article entitled &quot;Integrating 
		a Standard Behavior to a New Mechanical Feature&quot; [<a href="#References">2</a>] 
		for details about the standard behavior of a feature deriving from the GeometricalElement3D 
		StartUp and the interfaces to implement to be fully integrated in a DS Application.</p>
	</li>
	<li>Defining the attributes of the new feature.
	<p>Now that you have met the parents of the Combined Curve Feature, you still 
	have to define its own Attributes. Those Attributes will be added to those inherited 
	from its ancestors.</p>
	<p>Since a Combined Curve is build using two curves and two directions, it is 
	straightforward to define four new input Attributes: &quot;<strong>Curve1</strong>&quot;, &quot;<strong>Direction1</strong>&quot;, &quot;<strong>Curve2</strong>&quot; 
	and &quot;<strong>Direction2</strong>&quot;.</p>
	<p>These Attributes will point to four other Features. This means they 
	are of type &quot;tk_specobject&quot;. From an update point of view, the input 
	Attributes have to be evaluated before building the Combined Curve. That's why 
	they are IN Attributes ( &quot;sp_IN&quot; type ) [<a href="#References">3</a>].
	</p>
	<p>A last attribute, "<strong>Desactive</strong>", enables to manage the active/desactive 
	status of the Combined Curve feature.</p>
</li>
</ol>
<p>Once the Combined Curve Feature's Inheritance and Attributes have been defined, 
you are ready to generate the <strong>Combined Curve Catalog file</strong> that will contain 
the Combine Feature's initial definition: The Combined Curve Feature &quot;<strong>StartUp</strong>&quot;.</p>
<p>Catalogs are particular files in which StartUp are created, enhanced with new 
Attributes and stored. These StartUps are then instantiated into run time instances.</p>
<p>The Combined Curve Feature StartUp - named &quot;CombinedCurve&quot; - and its five 
input Attributes are defined in the <em>CAAMmrCombinedCurveCatalog</em> catalog file, 
located in the CNext/resources/graphic directory of the CAAMechanicalModelerExtend.edu 
framework.</p>
<p>This CAAMmrCombinedCurveCatalog.CATfct file will be created by running 
the command-line tool <strong>CATfctEditorAssistant</strong> in conjunction with the CAAMmrCombinedCurveCatalog.osm 
file. Refer to the &quot;<a href="#How">How to Create the CAAMmrCombinedCurveCatalog.CATfct 
Catalog</a>&quot; section for details.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Create the CAAMmrCombinedCurveCatalog.CATfct Catalog</h3>
<p>This use case is part of the &quot;<a href="CAAMmrUcCombinedCurveSamplesOverview.htm">Creating 
a New Geometrical Feature: the Combined Curve</a>&quot; use case.</p>
<p>To create the CAAMmrCombinedCurveCatalog.CATfct catalog, you will need to set 
up the run time environment and then execute the <strong>CATfctEditorAssisant</strong> tool 
as indicated.</p>
<pre class="code">$ mkrun -c sh
$ cd <em>your_workspace_root</em>
$ # Make sure that no previous catalog exists in the run-time view, including in the concatenation
$ rm <em>OS_directory</em>/resources/graphic/CAAMmrCombinedCurveCatalog.CATfct

$ # Create empty catalog in the run-time view and empty osm (the absolute path for the catalog is MANDATORY)
$ <strong>CATfctEditorAssistant -create-new-catalog -catalog-name</strong> CAAMmrCombinedCurveCatalog.CATfct 
<strong>-with-client-id</strong> SAMPLES <strong>-into-directory</strong> $PWD/<em>OS_Directory</em>/resources/graphic

$ # Upgrade the empty catalog with the InputData osm. Note that the upgraded catalog will be output in the current directory
$ <strong>CATfctEditorAssistant -update-catalog -catalog-name</strong> CAAMmrCombinedCurveCatalog.CATfct 
<strong>-with-client-id</strong> SAMPLES <strong>-with-osm</strong> $PWD/CAAMmrCombinedCurveCatalog.osm
 <strong>-into-directory</strong> $PWD
 
$ # Remove the empty catalog and osm
$ rm <em>OS_directory</em>/resources/graphic/CAAMmrCombinedCurveCatalog.CATfct 
$ rm <em>OS_directory</em>/resources/graphic/CAAMmrCombinedCurveCatalog.osm

$ exit # the mkrun shell
</pre>
<p><strong>Notes</strong>:</p>
<p>CATfctEditorAssistant looks for the catalog and outputs it in two different locations:</p>
<ul>
	<li>On input, the catalog argument is stripped of its directory and looked up 
		in the run-time view. At your workspace level, it is the <code><em>workspace_root/OS_directory</em>/resources/graphic</code> 
		directory.</li>
	<li>On output, the catalog is written at the location specified by the catalog 
		argument.</li>
</ul>
<p>The place to store catalogs in your workspace is <code><em>workspace_root</em>/CNext/resources/graphic</code>. 
Any catalog found in this directory will be automatically copied to the run-time 
view <code><em>workspace_root/OS_directory</em>/resources/graphic</code> by 
the mkrtv command.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Where"></a>Where to Find the CAAMmrCombinedCurveCatalog OSM</h3>
<p>The <code>CAAMmrCombinedCurveCatalog.osm</code> file is located in the InputData 
directory of the <code>CAAMechanicalModelerExtend.edu</code> framework:</p>
<p><code>InstallRootFolder\CAADoc\CAAMechanicalModelerExtend.edu\InputData</code></p>
<p>where <code>InstallRootFolder</code> [<a href="#References">5</a>] is the folder 
where the API CD-ROM is installed.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Step"></a>Step-by-Step</h2>
<p>There are two parts in the <code>CAAMmrCombinedCurveCatalog</code> OSM:</p>
<ol>
	<li><a href="#Step1">OSM prolog</a></li>
	<li><a href="#Step2">The Combined Curve Catalog StartUp</a></li>
</ol>
<p>We will now comment each of those sections by looking at the code.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step1"></a>OSM Prolog</h3>
<p>The OSM prolog defines the catalog (<code>CAAMmrCombinedCurveCatalog.CATfct</code>) 
:</p>
<pre class="code">document &#96;CAAMmrCombinedCurveCatalog.CATfct&#96; 
{
  history("CreatorId","","2013-01-11 16:25",0., 0uf1ce8025-0000-1a48-50f03d0400000008)
  check_revision(0uf1ce8025-0000-1a48-50f03d0400000008)

  container RootCont #root #uuid(0uf1ce8025-0000-1a48-50f03d0400000003)
  {
    // insert here your startups
...</pre>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step2"></a>The CombinedCurve StartUp</h3>
<p>The CombinedCurve StartUp is derived from the GeometricalElement3D defined in 
the MechMod.feat catalog (GeometricalElement3D@`MechMod.feat`):</p>
<pre class="code">...
feature CombinedCurve GeometricalElement3D@`MechMod.feat` #startup {
	specobject Curve1 #in
	specobject Direction1 #in
	specobject Curve2 #in
	specobject Direction2 #in
	int Desactive #in 
}
...</pre>
<p>The CombinedCurve feature has five attributes: Curve1, Direction1, Curve2, Direction2 
and Desactive. They are all IN attributes. The first four are of the feature type 
and the last one is an integer.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>This use case has demonstrated how to create and define the Combined Curve Feature's 
StartUp in a Catalog. This StartUp will later be used to <strong>instantiate</strong> Combined 
Curve Instances through a factory interface [<a href="#References">4</a>].</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td><a href="CAAMmrTaCreatingNewFeat.htm">Creating a New StartUp Deriving 
		from a Mechanical StartUp</a></td>
	</tr>
	<tr>
		<td>[2]</td>
		<td><a href="CAAMmrTaFeatureIntegration.htm">Integrating a New Mechanical 
		Feature</a></td>
	</tr>
	<tr>
		<td>[3]</td>
		<td>
		<a href="../CAAFmFeatModExt/CAAFmExtTcFeatureModelerToc.htm">
		Extending the Feature Data Model</a></td>
	</tr>
	<tr>
		<td>[4]</td>
		<td><a href="CAAMmrUcCombinedCurveFactory.htm">Creating Combined Curve's 
		Factory Interface</a></td>
	</tr>
	<tr>
		<td>[5]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Mar 2000]</td>
		<td>Document created</td>
	</tr>
	<tr>
		<td>Version: <strong>2</strong> [Jan 2003]</td>
		<td>Document updated</td>
	</tr>
	<tr>
		<td>Version: <strong>3</strong> [Aug 2007]</td>
		<td>OSM version</td>
	</tr>
	<tr>
		<td>Version: <strong>4</strong> [Jan 2011]</td>
		<td>Document updated for V6 modifications</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
