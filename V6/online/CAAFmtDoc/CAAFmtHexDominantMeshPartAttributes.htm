<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>

<head>
  <meta http-equiv="Content-Language" content="en-us">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
  <script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js"></script>
  <script type="text/javascript" src="../CAADocJavaScript/submit.js"></script>
  <title>Hex-Dominant Mesh Part Attributes</title>
  <style type="text/css">
    .fmt_table
    {
      width: 95%;
    }
    .fmt_table td
    {
      background-color: #C0C0C0;
      padding: 5px;
      border: 1px solid black;
    }
    .width40
    {
      width: 40%;
    }
    .width60
    {
      width: 60%;
    }
    .center
    {
      text-align: center;
    }
  </style>
</head>

<body onload="highlightSearchTerms();">

  <!-- Header -->

  <table class="DocHeader">
    <tr>
      <td class="DocHeader1">
        <h1><a name="Top"></a>Hex-Dominant Mesh Part Attributes</h1>
      </td>
    </tr>
    <tr>
      <td class="tech">Technical Article</td>
    </tr>
  </table>

  <!-- Abstract and table of contents -->

  <table class="abstract">
    <tr>
      <td>
        <h3>Abstract</h3>
        <p>This article presents an overview of the hex-dominant mesh part attributes and its local specifications.</p>
        <p><b><a href="#Mesh_Part_Creation">Hex-Dominant Mesh Part Creation</a></b></p>
        <p><b><a href="#Mesh_Part_Support_Definition">Hex-Dominant Mesh Part Support Definition</a></b></p>
        <p>
          <b><a href="#Global_Mesh_Specifications">Global Mesh Specifications</a></b>
        </p>
        <ul>
          <li><a href="#Size">Size</a></li>
          <li><a href="#MinSize">MinSize</a></li>
          <li><a href="#Angle">Angle</a></li>
          <li><a href="#UseBoundaryLayers">UseBoundaryLayers</a></li>
          <li><a href="#Size1Value">Size1Value</a></li>
          <li><a href="#UseNbElements">UseNbElements</a></li>
          <li><a href="#NbElementsValue">NbElementsValue</a></li>
        </ul>
        <p>
          <b><a href="#Local_Mesh_Specifications">Local Mesh Specifications</a></b>
        </p>
        <ul>
          <li><a href="#CATFmtHexLocalMeshSizeFace">CATFmtHexLocalMeshSizeFace</a></li>
          <li><a href="#CATFmtHexLocalMeshSizeBox">CATFmtHexLocalMeshSizeBox</a></li>
        </ul>
      </td>
    </tr>
  </table>

  <!-- Mesh part creation -->

  <h2>
    <a name="Mesh_Part_Creation">Hex-Dominant Mesh Part Creation</a>
  </h2>
  <p>
    A &quot;late type&quot; must be given to indicate which type of mesh part is to be created.<br />
    In the case of the hex-dominant mesh part, the late type is &quot;<b>CATFmtHexMesher</b>&quot;.<br />
    The hex-dominant mesh part can be created by using <b>CATIFmtMeshManager::CreateMeshPart</b> interface method.
  </p>

  <script type="text/javascript">insertLinkToTop();</script>

  <!-- Support definition -->

  <h2>
    <a name="Mesh_Part_Support_Definition">Hex-Dominant Mesh Part Support Definition</a>
  </h2>
  <p>
    The Hex-Dominant Mesh Part support can be initialized and managed using the <b>CATIFmtMeshPart</b> interface:
  </p>
  <ul>
    <li>
      <b>SetSupport</b> ( CATFmtPath * iSupport , <span class="keyword">int</span> iMode = 0 , <span class="keyword">const CATUnicodeString</span>&amp; iType = <span class="string"> &quot;&quot;</span> ) to add a new support to the mesh part
    </li>
    <li>
      <b>RemoveSupport</b> ( CATFmtPath * iSupport = NULL ) to remove a support of the mesh part
    </li>
    <li>
      <b>GetSupport</b> ( CATFmtPath *&amp; oSupport , <span class="keyword">int</span> iNumber = 1 ) to read a support of the mesh part
    </li>
    <li>
      <b>GetNumberOfSupports</b> () to read the total number of the mesh part supports
    </li>
  </ul>

  <script type="text/javascript">insertLinkToTop();</script>

  <!-- Global Specifications introduction -->

  <h2>
    <a name="Global_Mesh_Specifications">Global Mesh Specifications</a>
  </h2>

  <p>
    Global mesh specifications can be set or retrieved using <b>CATIFmtMeshPart</b> interface:
  </p>

  <ul>
    <li>
      <b>SetGlobalSpecification</b> ( <span class="keyword">const CATString</span> &amp;iType , <span class="keyword">const CATUnicodeString</span> &amp;iName , <span class="keyword">int</span> iValue ) to set a mesh attribute with an integer value
    </li>
    <li>
      <b>SetGlobalSpecification</b> ( <span class="keyword">const CATString</span> &amp;iType , <span class="keyword">const CATUnicodeString</span> &amp;iName , <span class="keyword">double</span> iValue ) to set a mesh attribute with a double value
    </li>
    <li>
      <b>SetGlobalSpecification</b> ( <span class="keyword">const CATString</span> &amp;iType , <span class="keyword">const CATUnicodeString</span> &amp;iName , <span class="keyword">const CATUnicodeString</span> &amp;iValue ) to set a mesh attribute with a string value
    </li>
    <li>
      <b>GetGlobalSpecification</b> ( <span class="keyword">const CATString</span> &amp;iType, <span class="keyword">const CATUnicodeString</span> &amp;iName, <span class="keyword">int</span> &amp;oValue ) to get a mesh attribute with an integer value
    </li>
    <li>
      <b>GetGlobalSpecification</b> ( <span class="keyword">const CATString</span> &amp;iType, <span class="keyword">const CATUnicodeString</span> &amp;iName, <span class="keyword">double</span> &amp;oValue ) to get a mesh attribute with a double value
    </li>
    <li>
      <b>GetGlobalSpecification</b> ( <span class="keyword">const CATString</span> &amp;iType, <span class="keyword">const CATUnicodeString</span> &amp;iName, <span class="keyword">CATUnicodeString</span> &amp;oValue ) to get a mesh attribute with a string value
    </li>
  </ul>

  <p>
    iType is the type of specification and <b>iType = &quot;Mesh&quot; for all Global Mesh Specifications.</b>
  </p>

  <!-- Maximum Mesh Size -->

  <p>
    <b><a name="Size">Size</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        Type: <b>double</b><br /><br />
        Valuated to mesh elements maximum target size.
      </td>
      <td class="width60">
        This attribute specifies the maximum mesh element size that the mesher tries to respect.
      </td>
    </tr>
  </table>

  <!-- Minimum Mesh Size -->

  <p>
    <b><a name="MinSize">MinSize</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        Type: <b>double</b><br /><br />
        Valuated to mesh elements minimum target size.
      </td>
      <td class="width60">
        This attribute specifies the minimum mesh element size that the mesher tries to respect.
      </td>
    </tr>
  </table>

  <!-- Angle -->

  <p>
    <b><a name="Angle">Angle</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        Type: <b>double</b> (radians)<br /><br />
        Valuated to the angle under which edges are not captured.
      </td>
      <td class="width60">
        This attribute specifies the smallest angle &theta; between adjacent faces that will result in an edge between mesh element faces.<br /><br />
        <p class="center"><img src="images/FaceAngle.jpg" alt="Angle"/></p>
      </td>
    </tr>
  </table>

  <!-- Boundary layers - Use -->

  <p>
    <b><a name="UseBoundaryLayers">UseBoundaryLayers</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        Type: <b>int</b><br /><br />
        Valuated to
        <ul>
          <li><b>1</b> to produce a mesh without boundary layers</li>
          <li><b>2</b> to produce a mesh with boundary layers</li>
        </ul>
      </td>
      <td class="width60">
        This attribute specifies whether boundary layers should be added to the mesh (<b>2</b>) or not (<b>1</b>).
      </td>
    </tr>
  </table>

  <!-- Boundary layers - First layer thickness -->

  <p>
    <b><a name="Size1Value">Size1Value</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        Type: <b>double</b><br /><br />
        Valuated the expected thickness for the first layer.
      </td>
      <td class="width60">
        This attribute specifies the thickness of the first layer of elements that the mesher tries to respect along the boundary.<br /><br />
        <b>Warning</b>: this attribute is only taken into account if <b>UseBoundaryLayers</b> is set to <b>2</b>.
      </td>
    </tr>
  </table>

  <!-- Boundary layers - Number of layers use -->

  <p>
    <b><a name="UseNbElements">UseNbElements</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        Type: <b>int</b><br /><br />
        Valuated to
        <ul>
          <li><b>1</b> to let the mesher compute the number of boundary layers automatically</li>
          <li><b>2</b> to specify the expected number of boundary layers</li>
        </ul>
      </td>
      <td class="width60">
        This attribute specified if the number of boundary layers is an user input (<b>2</b>) or not (<b>1</b>).<br />
        If it is set to <b>1</b>, the mesher will compute the number of boundary layers automatically based on the mesh size to ensure smooth transition towards the interior of the volume.<br /><br />
        <b>Warning</b>: this attribute is only taken into account if <b>UseBoundaryLayers</b> is set to <b>2</b>.
      </td>
    </tr>
  </table>

  <!-- Boundary layers - Number of layers -->

  <p>
    <b><a name="NbElementsValue">NbElementsValue</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        Type: <b>int</b><br /><br />
        Valuated to the expected number of boundary layers.
      </td>
      <td class="width60">
        This attribute specified the number of boundary layers to be generated along the boundary.<br /><br />
        <b>Warning</b>: this attribute is only taken into account if <b>UseBoundaryLayers</b> and <b>UseNbElements</b> are both set to <b>2</b>.
      </td>
    </tr>
  </table>

  <script type="text/javascript">insertLinkToTop();</script>

  <!-- Local Mesh Specifications introduction -->

  <h2>
    <a name="Local_Mesh_Specifications">Local Mesh Specifications</a>
  </h2>

  <p>
    Local specifications are created and retrieved with the <b>CATIFmtMeshPart</b> interface with <b>iType = &quot;Mesh&quot;</b> for all local mesh specifications and <b>iLateType</b> the late type of the specification:
  </p>

  <ul>
    <li>
      <b>CreateLocalSpecification</b> ( <span class="keyword">const CATString</span> &amp; iType , <span class="keyword">const CATUnicodeString</span> &amp; iLateType, <span class="keyword">const CATUnicodeString</span> &amp; iName , CATIFmtLocalSpecification * &amp; oLocalSpec )
    </li>
    <li>
      <b>GetLocalSpecifications</b> ( <span class="keyword">const CATString</span> &amp; iType , <span class="keyword">const CATUnicodeString</span> &amp; iLateType , CATListValCATBaseUnknown_var &amp; oListOfSpecifications )
    </li>
  </ul>

  <p>
    Attributes of local specifications are set and retrieved using the <b>CATIFmtLocalSpecification</b> interface:
  </p>

  <ul>
    <li>
      <b>SetAttribute</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, <span class="keyword">int</span> iValue ) to set a local specification with an integer value
    </li>
    <li>
      <b>SetAttribute</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, <span class="keyword">double</span> iValue ) to set a local specification with a double value
    </li>
    <li>
      <b>SetAttribute</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, <span class="keyword">const CATUnicodeString</span> &amp; iValue ) to set a local specification with a string value
    </li>
    <li>
      <b>GetAttribute</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, <span class="keyword">int</span> &amp; oValue ) to retrieve a local specification with an integer value
    </li>
    <li>
      <b>GetAttribute</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, <span class="keyword">double</span> &amp; oValue ) to retrieve a local specification with a double value
    </li>
    <li>
      <b>GetAttribute</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, <span class="keyword">CATUnicodeString</span> &amp; oValue ) to retrieve a local specification with a string value
    </li>
  </ul>

  <p>
    Geometric attributes of local specifications (supports) are managed using the <b>CATIFmtLocalSpecification</b> interface as well:
  </p>

  <ul>
    <li>
      <b>AddSupports</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, CATFmtListOfPath &amp; iSupports ) to add new supports to the local 
				specification
    </li>
    <li>
      <b>RemoveSupports</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, CATFmtListOfPath &amp; iSupports ) to remove supports of the local 
				specification
    </li>
    <li>
      <b>GetSupports</b> ( <span class="keyword">const CATUnicodeString</span> &amp; iName, CATFmtListOfPath &amp; iSupports ) to retrieve supports of the local 
				specification
    </li>
  </ul>

  <script type="text/javascript">insertLinkToTop();</script>

  <p>
    <b><a name="CATFmtHexLocalMeshSizeFace">CATFmtHexLocalMeshSizeFace</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        The supports of the specification (faces) are managed using the <b>CATIFmtLocalSpecification</b> interface with iName = &quot;<b>ConnectorList</b>&quot;:
        <ul>
          <li>AddSupports</li>
          <li>RemoveSupports</li>
          <li>GetSupports</li>
        </ul>
        The size to be applied on the support faces is specified through <b>GetAttribute</b> and <b>SetAttribute</b> with iName = &quot;<b>SizeValue</b>&quot; (type <b>double</b>).
      </td>
      <td class="width60">
        This specification is used to refine the mesh along a given set of faces.<br />
        The target size should be lower than the maximum mesh size given through the global <b>Size</b> attribute.
      </td>
    </tr>
  </table>

  <p>
    <b><a name="CATFmtHexLocalMeshSizeBox">CATFmtHexLocalMeshSizeBox</a></b>
  </p>

  <table class="fmt_table">
    <tr>
      <td class="width40">
        All specification attributes are specified through <b>GetAttribute</b> and <b>SetAttribute</b>:
        <ul>
          <li><b>OriginX</b> (type <b>double</b>): the X coordinate of the lower left corner of the box</li>
          <li><b>OriginY</b> (type <b>double</b>): the Y coordinate of the lower left corner of the box</li>
          <li><b>OriginZ</b> (type <b>double</b>): the Z coordinate of the lower left corner of the box</li>
          <li><b>Vector0X</b> (type <b>double</b>): the dimension of the box along the X axis</li>
          <li><b>Vector1Y</b> (type <b>double</b>): the dimension of the box along the Y axis</li>
          <li><b>Vector2Z</b> (type <b>double</b>): the dimension of the box along the Z axis</li>
          <li><b>SizeValue</b> (type <b>double</b>): the target mesh size inside the box</li>
        </ul>
      </td>
      <td class="width60">
        This specification is used to refine the mesh inside a given Cartesian box: the box is defined by its lower left corner and a vector transforming it into the upper right corner, as shown on the picture below.<br />
        The target size should be lower than the maximum mesh size given through the global <b>Size</b> attribute.<br /><br />
        <p class="center"><img src="images/CATFmtHexLocalMeshSizeBox.png" alt="Local Mesh Size in Cartesian Box" height="300"/></p>
      </td>
    </tr>
  </table>

</body>
</html>
