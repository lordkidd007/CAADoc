<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 12.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js"></script>
<script type="text/javascript" src="../CAADocJavaScript/submit.js"></script>
<title>Create a FEM Representation</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Creating a FEM Representation</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This article explains how to create a FEMRep in a model.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAAFmtCreateFEMRep Use Case</a>
			<ul>
				<li><a href="#What">What Does CAAFmtCreateFEMRep Do?</a></li>
				<li><a href="#How">How to Launch CAAFmtCreateFEMRep?</a></li>
				<li><a href="#Where">Where to Find the CAAFmtCreateFEMRep Code?</a>
				</li>
			</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>This use case is intended to show an end user how to create a FEMRep using the 
Generic CAA APIs.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAAFmtCreateFEMRep Use Case</h2>
<p><code>CAAFmtCreateFEMRep</code> is a use case of the <code>CAAFmtInterfaces.edu</code> 
framework that illustrates the <code>CATFmtModelInterfaces</code> and <code>CATFmtToolsInterfaces</code> 
frameworks capabilities regarding FEM representations.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAAFmtCreateFEMRep Do?</h3>
<p><code>CAAFmtCreateFEMRep</code> is a &quot;batch&quot; that illustrates how to create a 
FEMRep.</p>
<p>The input model for this Use Case is shown in [<a href="#Fig1">Fig.1</a>]. It 
contains two 3DShapes and a FEMRep. The use case will create a new FEMRep on the 
root product.</p>
<table>
	<caption>Fig1: The CAAModelTST01 Model</caption>
	<tr>
		<td><a name="Fig1"></a>
		<img alt="CAAModelTST01 Model" src="images/CAAFmtCreateFEMRep01.png"></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Launch CAAFmtCreateFEMRep?</h3>
<p>First, you need to import the CAAModelTST01.3dxml into your data 
base. You can find it under: <code>InstallRootFolder\CAADoc\CAAFmtInterfaces.edu\CAAFmtInterfacesEduRsc.m\src\resources</code></p>
<p>Then to launch <code>CAAFmtCreateFEMRep</code>, you will 
need to set up the build time environment and compile the <code>CAAFmtCreateFEMRep.m</code> 
module along with its prerequisites [<a href="#References">1</a>]. Once it&#39;s built, 
set up the run time environment and execute the following command: </p>
<p><code>mkrun -c &quot;<em><a>CAAFmtCreateFEMRep</a> <a>Repository</a> <a>Server</a>
<a>User</a> <a>Password</a> <a>SecurityCtx</a> <a>PLM_Type</a> <a>PLM_External_Root</a>
<a>V_version_Root</a></em>&quot;</code></p>
<p>where:</p>
<table class="border1">
	<tr>
		<th><strong><em>Repository</em></strong></th>
		<td>
		<script type="text/javascript">insertRepository();</script>
		</td>
	</tr>
	<tr>
		<th><strong><em>Server</em></strong></th>
		<td>The server as host::<em> name</em>:<em>port_number/RootURI</em></td>
	</tr>
	<tr>
		<th><strong><em>User</em></strong></th>
		<td>The user name</td>
	</tr>
	<tr>
		<th><strong><em>Password</em></strong></th>
		<td>The user password to authenticate the user</td>
	</tr>
	<tr>
		<th><strong><em>SecurityCtx</em></strong></th>
		<td>a string representing the security context ( Role. Organization. Project); 
		Choose Role as Designer ( as the use case create the PLM Data)</td>
	</tr>
	<tr>
		<th><strong>PLM_Type</strong></th>
		<td>the PLM type of the Product to open</td>
	</tr>
	<tr>
		<th><strong>PLM_External_Root</strong></th>
		<td>the PLM Id of the Product to open</td>
	</tr>
	<tr>
		<th><strong>V_version_Root</strong></th>
		<td>the PLM version of the Product</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Where"></a>Where to Find the CAAFmtCreateFEMRep Code</h3>
<p>The CAAFmtCreateFEMRep use case is made of a single file located in the <code>
CAAFmtCreateFEMRep.m</code> module of the <code>CAAFmtInterfaces.edu</code> framework:<br>
<code>InstallRootFolder\CAADoc\CAAFmtInterfaces.edu\CAAFmtCreateFEMRep.m\</code></p>
<p>The use case relies on functions defined in the <code>CAAAdpUtilities.m</code> 
module of the <code>CAAPLMClientAdapter.edu</code> framework:<br>
<code>InstallRootFolder\CAADoc\CAAPLMClientAdapter.edu\CAAAdpUtilities.m\</code></p>
<p>Where <code>InstallRootFolder</code> [<a href="#References">1</a>] is the folder 
where the API CD-ROM is installed.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Step"></a>Step-by-Step</h2>
<p>The CAAFmtCreateFEMRep use case can be divided into 2 main steps:</p>
<ol>
	<li><a href="#OpenModel">Opening the Model</a></li>
	<li><a href="#CreateFEMRep">Creating the FEMRep</a></li>
</ol>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="OpenModel"></a>Opening the Model</h3>
<p>To open the test model, we use services from the <code>CAAPLMClientAdapter.edu</code> 
framework.<br>
The product reference is instantiated through the CATIPLMRepInstances interface.</p>
<pre class="code">...
hr = ::CAAAdpCreateSession(repository_n,server_n,user_n,password_n,security_n);

CATBoolean authoringMode = TRUE;
CATIPLMRepInstances * piRepInstances = NULL;
CATOmbLifeCycleRootsBag Bag;
hr = ::CAAAdpOpenProduct(plmtype_n, plmid_n, version_n,
	                     IID_CATIPLMRepInstances, (void **) &amp;piRepInstances, Bag, authoringMode);
...</pre>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="CreateFEMRep"></a>Creating the FEMRep</h3>
<p>To create the FEM representation, we need the product that will own the representation.</p>
<p>Therefore, we have to query the CATIPrdObject interface on the product reference 
that was instantiated through the CATIPLMRepInstances interface.</p>
<pre class="code">...
CATIPrdObject_var spProductAsPrdObj ( piRepInstances );
CATBaseUnknown * myFEMRep = NULL;
hr = CATFmtFEMRepFactory::CreateRepresentation( NULL, spProductAsPrdObj, NULL, NULL, <span class="string">&quot;&quot;</span>, FALSE, &amp;myFEMRep );
...
CATIFmtRepManager * pRepManager = NULL;
pRepManager = (CATIFmtRepManager *) CATFmtRepManagerServices::GetRepManagerFromRepresentation( myFEMRep, IID_CATIFmtRepManager );
...</pre>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>The <code>CAAFmtCreateFEMRep</code> use case explains how to create a FEMRep 
in a product, using the Generic CAA APIs exposed in the <code>CATFmtModelInterfaces</code> 
and <code>CATFmtToolsInterfaces</code> frameworks.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Oct 2011]</td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
