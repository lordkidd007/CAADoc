<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>Creating Flow with Port</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Creating Flow with Port</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2><a name="Top"></a>Abstract</h2>
		<p>The main objective of this use case is to give semantic to the functional 
		port by associating it with the newly created functional flow reference.</p>
		<p>The use case illustrates the steps involved in the CAA Customization 
		to create a Functional Flow. It basically creates the Functional Flow Reference 
		and then associate it with the Port.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAAFmiCreatingFlow Use Case</a>
				<ul>
					<li><a href="#What">What Does the CAAFmiCreatingFlow Do</a></li>
					<li><a href="#How">How to Launch CAAFmiCreatingFlow</a></li>
					<li><a href="#Where">Where to Find the CAAFmiCreatingFlow Code</a></li>
				</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#History">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>The learning from this Use Case are:</p>
<ul>
	<li>Creating the Functional Flow reference using <code>CATIFctReferenceFactory::CreateFlowReference</code> 
		API.</li>
	<li>Associating the flow reference with the Port using <code>CATIFctPort::SetFlow</code> 
		API.</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAAFmiCreatingFlow Use Case</h2>
<p>CAAFmiCreatingFlow is a use case of the CAAFunctModelerUseItf.edu framework that 
illustrates the CATFunctionalModelerUseItf frameworks capabilities.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAAFmiCreatingFlow Do</h3>
<p>The purpose of the port (whether it will provide the data flow or will be used 
for activation/deactivation of function) is being determined by the functional flow 
reference. Thus, the flow reference provides the semantic to the port.</p>
<p>The main objective of this use case is to give semantic to the port by associating 
it with the newly created functional flow reference.</p>
<p>Here in this use case we creates a functional flow reference and then associate 
it with the Port ( please refer to the article &quot;Creating Port&quot; [<a href="#References">3</a>] 
, in order to see how to create Port).</p>
<p>Here, we will create the flow reference and then associate it with the functional 
port ( port being created in the model used in the article &quot;Creating Port&quot; 
[<a href="#References">3</a>]).</p>
<table>
	<caption><a name="Fig1"></a>Fig. 1: Functional Reference with Functional Flow 
	(Associated with Port)</caption>
	<tr>
		<td>
		<img alt="Functional Reference" src="images/CAAFmiCreatingFlow_1.jpg"/></td>
	</tr>
</table>
<p><a href="#Fig1">Fig. 1</a> above shows a root Functional Reference <code>CAAFmiCreateFuncModel_RootRef---</code>.</p>
<p>This use case creates the Functional Flow reference <code>FlowRefAssociatdWithPort---
</code>(shown in yellow box in <a href="#Fig1">Fig. 1</a>) and then associate it 
with the functional port <code>FunctionalPort Emission-FlowRefAssociatdWithPort</code> 
(this port is created in the use case article [<a href="#References">3</a>]).</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Launch CAAFmiCreatingFlow</h3>
<p>To launch the use case execute the command:</p>
<p><code>mkrun -c &quot; CAAFmiCreatingFuncModel Repository Server User Password 
SecurityCtx PLMType Attribute_name1_RepRef Attribute_value1_RepRef [IDAttribute2 
Value2 ...]&quot;</code></p>
<p>where:</p>
<table class="fill">
	<tr>
		<th>Repository</th>
		<td>
		<script type="text/javascript">insertRepository();</script>
		</td>
	</tr>
	<tr>
		<th>Server</th>
		<td>The name and port of the server as name:port_number/RootURI</td>
	</tr>
	<tr>
		<th>User</th>
		<td>The user name</td>
	</tr>
	<tr>
		<th>Password</th>
		<td>The user password to authenticate the user</td>
	</tr>
	<tr>
		<th>SecurityCtx</th>
		<td>a string representing the security context (Role.Organization.Project). 
		Choose Role as Designer (as the use case does modifies the PLM Data).
		</td>
	</tr>
	<tr>
		<th>PLMType</th>
		<td>The name of the PLM Type</td>
	</tr>
	<tr>
		<th>Attribute_name1_RepRef*</th>
		<td>The attribute name for Functional Rep Ref</td>
	</tr>
	<tr>
		<th>AttrValue1*</th>
		<td>Attribute Value</td>
	</tr>
</table>
<p>* We could have several such Attribute-Value set. The count is determined by 
the IDSet attributes of the Functional Rep Ref.</p>
<p><code>CAAFmiCreatingFuncModel.3dxml</code> is the 3D XML file contains the root 
Functional Reference with the following attributes:</p>
<ul>
	<li><code>PLM_ExternalID</code>: CAAFmiCreatingFuncModel_RepRef</li>
	<li><code>Version</code>: ---</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Where"></a>Where to Find the CAAFmiCreatingFlow Code</h3>
<p>The CAAFmiCreatingFlow use case is located in the CAAFmiCreatingFuncModel.m module 
of the CAAFunctModelerUseItf.edu framework:</p>
<p><code>InstallRootFolder\CAADoc\CAAFunctModelerUseItf.edu\CAAFmiCreatingFuncModel.m</code></p>
<p>where <code>InstallRootFolder</code> [<a href="#References">1</a>] is the folder 
where the API CD-ROM is installed.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Step"></a>Step-by-Step</h2>
<ol>
	<li><a href="#Step1">Creating the Functional Flow Reference</a></li>
	<li><a href="#Step2">Associating the Functional Flow with the Port</a></li>
</ol>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step1"></a>Creating the Functional Flow Reference</h3>
<p>Before we create the functional flow reference, we are required to valuate the 
mandatory attribute for the Functional Flow reference to create.</p>
<pre class="code">...
         CATIFctReferenceFactory *opFunctRefFactory=NULL;
         ...
         CATICkeParmFactory_var spParmFactory = CATCkeGlobalFunctions::GetVolatileFactory();
	CATIParmDictionary_var spParmDico = CATCkeGlobalFunctions::GetParmDictionary();
	...
 	<strong>CATLISTV(CATICkeParm_var) iListOfFlowRefAttr;</strong>
	...
	<strong>CATICkeParm_var spFlowRefPara = spParmFactory-&gt;CreateEnumere (spParmDico-&gt;GetEnumType(),"V_Category","Data");</strong>
	iListOfFlowRefAttr.Append(spFlowRefPara);
	... 
	CATIFctFlowReference *opiFunctFlowRef=NULL;
	hr= opFunctRefFactory-&gt;<strong>CreateFlowReference</strong>( NULL_var, NULL, iListOfFlowRefAttr, opiFunctFlowRef);
...</pre>
<p>As depicted in the code abstract above , we first valuate the mandatory attribute 
of functional flow, which is <strong>V_Category</strong>. Then, we create the functional 
flow using <code>CATIFctReferenceFactory::CreateFlowReference</code>.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step2"></a>Associating the Functional Flow with the Port</h3>
<p>Here, we associate the functional flow with the functional Port (the port being 
created in the use case code [<a href="#References">3</a>] ).</p>
<pre class="code">...
        CATIFctPort * piFunctPort_1 = NULL;
        ...
        <strong>hr= piFunctPort_1-&gt;SetFlow(opiFunctFlowRef);</strong>
...</pre>
<p>A call to <code>CATIFctPort::SetFlow</code> API associate the functional port 
with the functional flow reference ,being provided as an input to the API.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>The use case basically illustrates the steps involved in the CAA Customization 
to create a Functional Flow. It basically creates the Functional Flow Reference 
and then associate it with the Port.</p>
<p>It basically does the following:</p>
<ul>
	<li>Creating the Functional Flow reference using <code>CATIFctReferenceFactory::CreateFlowReference</code> 
		API.</li>
	<li>Associating the flow reference with the Port using <code>CATIFctPort::SetFlow</code> 
		API.</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
	<tr>
		<td>[2]</td>
		<td>
		<a href="../CAAPlmServerAccess/CAAAdpUcBasicBatch.htm">
		Connecting to V6 Server</a></td>
	</tr>
	<tr>
		<td>[3]</td>
		<td><a href="CAAFmiUcCreatingPort.htm">Creating Port</a></td>
	</tr>
	<tr>
		<td>[4]</td>
		<td><a href="CAAFmiUcCreatingFuncModel.htm">Creating Functional Model</a></td>
	</tr>
	<tr>
		<td>[5]</td>
		<td><a href="CAAFmiUcCreatingFunctionalFlowModel.htm">Creating Flow with Interface</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Aug 2010]</td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
