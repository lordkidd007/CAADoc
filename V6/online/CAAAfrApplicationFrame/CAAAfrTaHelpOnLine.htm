<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>Contextual Help</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Contextual Help</h1>
		</td>
	</tr>
	<tr>
		<td class="tech">Technical Article</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This article shows how to create a technical documentation file tree 
		and how to set a link from the command to its associated technical topic.</p>
		<ul>
			<li><a href="#First">How to Activate the Contextual Help</a></li>
			<li><a href="#Second">Contextual Help Mechanism</a>
				<ul>
					<li><a href="#URLLink">The URL Link</a></li>
					<li><a href="#MappingFile">The Mapping File</a></li>
					<li><a href="#MultiDocumentation">Multi-Documentation</a></li>
				</ul>
			</li>
			<li><a href="#Third">Product Documentation</a></li>
				<ul>
					<li><a href="#UAFrame">The User Assistance Frame</a></li>
					<li><a href="#FileTree">Contents of the Documentation File Tree</a></li>
				</ul>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="First"></a>How to Activate the Contextual Help</h2>
<p>During the execution of an interactive command, the corresponding contextual 
documentation can be made available by clicking on the F1 key. A HTML page is then displayed 
in a browser explaining in detail the role of the command through a common task.
Here is an example with the &quot;Shaft&quot; command:</p>
<table>
	<caption><a name="Fig1"></a>Fig.1: Help Text for the &quot;Shaft&quot; Command</caption>
	<tr>
		<td>
		<img alt="Help Text for the Shaft Command" height="746" src="images/CAAAfrHelpPadDoc.jpg" width="886"/></td>
	</tr>
</table>
<p>In order for the F1 key to enable the display of the help text page, it is necessary 
for the command to have the &quot;focus&quot;, i.e., it must be either in exclusive 
or shared mode (see the &quot;CAA Command Model&quot; [<a href="#References">1</a>] 
article for further explanations regarding the mode of a command).
Because of this limitation on the usage of the F1 key, there exists a second 
way of accessing the contextual documentation. Most often, when the mouse pointer hovers over a command icon, a tooltip appears
and displays the command short help, replaced by the command long help after a while. Here is an example with the &quot;Copy&quot; command:</p>
<table>
	<caption><a name="Fig2"></a>Fig.2x: More Info</caption>
	<tr>
		<td>
		<img alt="More Info" height="159" src="images/CAAAfrHelpMoreInfo.jpg" width="168"/></td>
	</tr>
</table>
<p>While the tooltip is displayed, if the message &quot;Press F1 for more info.&quot; appears, push F1 to display the help text page.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Second"></a>Contextual Help Mechanism</h2>
<p>On the one hand, there is a command and on the other a HTML page. The command 
is in a normal Framework containing code, whereas the HTML page is in a specific 
documentation file tree. The runtime link is established through a URL link:</p>
<ul>
	<li>The URL link is specified in the resources file associated to the command
	</li>
	<li>The address of the HTML page is associated to the URL link through a mapping 
		file</li>
</ul>
<p>Therefore, by transition, starting from the command, it is possible to reach 
the documentation page.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="URLLink"></a>The URL Link</h3>
<p>The URL link for a command is an independent NLS resource. It can thus be found 
in the CATRsc file for the command. The keyword used to associate a URL link is
<strong>LongHelpId.</strong></p>
<p>Example:</p>
<p>Let's have a look at an example based on the &quot;Point&quot; command for the 
CAAGeometry workshop used for command use cases. Here is an extract from the CAAAfrGeometryWksHeader.CATRsc 
file which is the resource file associated to the command header for the &quot; 
Point&quot; command. This file is set in the CAAApplicationFrame.edu\CAAApplicationFrame.eduRscCNext.m\src\CNext\resources\msgcatalog 
folder:</p>
<pre class="code">CAAAfrGeometryWksHeader.CAAAfrPointHdr.<strong>LongHelpId</strong> = &quot;CAAAfrGeometryWksHeader.CAAAfrPointHdr&quot; ;</pre>
<p>where:</p>
<table class="fill">
	<colgroup span="2" valign="top">
	</colgroup>
	<tr>
		<td>CAAAfrGeometryWksHeader</td>
		<td>The command header resource file name</td>
	</tr>
	<tr>
		<td>CAAAfrPointHdr</td>
		<td>The identifier of the CAAAfrGeometryWksHeader class instance created 
		for the Point command</td>
	</tr>
	<tr>
		<td>LongHelpId</td>
		<td>The keyword dedicated to associate a URL to the command</td>
	</tr>
	<tr>
		<td>&quot;CAAAfrGeometryWksHeader.CAAAfrPointHdr&quot;</td>
		<td>The URL link.</td>
	</tr>
</table>
<p>For naming the URL link, follow the recommended rules for objects providing contextual help:
For commands, see the &quot;How to Create Standard Command Headers&quot; [<a href="#References">2</a>] technical article
and for the Preferences pages, see the &quot;How to Add an App Preferences Tab&quot; [<a href="#References">3</a>] article.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="MappingFile"></a>The Mapping File</h3>
<h4>Contents of the Mapping File</h4>
<p>The mapping file contains the equivalences between the URL links and the
<strong>relative</strong> <strong>addresses</strong> of the HTML pages in the documentation 
file tree.</p>
<p>Example:</p>
<p>For the same &quot;Point&quot; command like just above, in the mapping file you 
have the following line:</p>
<pre class="code">CAAAfrGeometryWksHeader.CAAAfrPointHdr = &quot;GeoWs/GeoWspoint.htm&quot; ;</pre>
<p>where:</p>
<table class="fill">
	<colgroup span="2" valign="top">
	</colgroup>
	<tr>
		<td>CAAAfrGeometryWksHeader.CAAAfrPointHdr</td>
		<td>URL link defined in the resources file for the &quot;Point&quot; command 
		-see the <a href="#URLLink">URL link</a> section</td>
	</tr>
	<tr>
		<td>&quot;GeoWs/GeoWspoint.htm&quot;</td>
		<td>Relative position of the HTML page for the Point command in the documentation 
		file tree. It is always the same syntax: <strong>ModuleFolder/CommandPageName.htm</strong>
		<ul>
			<li><strong>ModuleFolder</strong> is a folder in the documentation 
				file tree which contains a set of HTML pages and a table of contents 
				page. The folder's location in the documentation file tree is 
				explained in the <a href="#FileTree">Contents of the Documentation File Tree</a> section.</li>
			<li><strong>CommandPageName</strong>.<strong>htm</strong> is set in 
				the ModuleFolder folder. It is a page which contains the information 
				that can help the end user to better understand the command.</li>
		</ul>
		</td>
	</tr>
</table>
<h4>Name of the Mapping File</h4>
<p>The mapping file name is CommonId2url.CATNls.</p>
<h4>Location of the Mapping File</h4>
<p>The location of the mapping file in the documentation file tree, is explained 
by the [<a href="#Fig5">Fig.5</a>].</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="MultiDocumentation">Multi-Documentation</a></h3>
<p>For Dassault Syst&#232;mes commands, the documentation can be found either online (at the official 3ds.com user assistance location)
or in an installation folder (through a http server or by using a UNC address or directly through the file system).
Each DS partner may have its own documentation file tree. This is why it is 
possible, at runtime, to concatenate the documentation locations. Here is a screen 
shot of the <strong>Help</strong> tab page of the <strong>General</strong> option of the <strong>Me > Preferences</strong> command:</p>
<table>
	<caption><a name="Fig3"></a>Fig.3: Concatenation of Documentation Path</caption>
	<tr>
		<td>
		<img alt="Concatenation of Documentation Path" height="129" src="images/CAAAfrHelpMePreferencesGeneralHelp.jpg" width="498"/></td>
	</tr>
</table>
<p>Uncheck &quot;Online&quot; and push button at the right of the &quot;Location&quot; editor
to add a new path to the documentation set.</p>
<table class="Remark">
	<tr>
		<td class="Remark"><span class="run-in">Warning</span>: The order of concatenation 
		is important: When searching for a page, the search goes from the first 
		to the last path, ending as soon as the page has been found. </td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Third"></a>Product Documentation</h2>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="UAFrame"></a>The User Assistance Frame</h2>
<p>At runtime, the page associated to the command is displayed in your favourite 
browser inside a frame set containing three sub-parts:</p>
<table>
	<caption><a name="Fig4"></a>Fig.4: Organization of the Documentation Frame</caption>
	<tr>
		<td>
		<img alt="Organization of the Documentation Frame" height="395" src="images/CAAAfrHelpFrame.jpg" width="511"/></td>
	</tr>
</table>
<table class="fill">
	<colgroup span="3" valign="top">
	</colgroup>
	<tr>
		<td>The information page</td>
		<td>It is a HTML file which contains any information that can help the end 
		user to better understand the command.</td>
	</tr>
	<tr>
		<td>The table of contents page</td>
		<td>Expand and collapse the table of contents on the left side of the documentation 
		portal to move quickly from one guide to another or one part of a guide 
		to another. Online documentation is organized by compass quadrant and solution.</td>
	</tr>
	<tr>
		<td>Full-text search banner</td>
		<td>Use the Search box in the banner to search for specific terms or phrases.</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="FileTree"></a>Contents of the Documentation File Tree</h2>
<p>The architecture of the documentation file tree is the following:</p>
<table>
	<caption><a name="Fig5"></a>Fig.5: Architecture of the Documentation File Tree</caption>
	<tr>
		<td>
		<img alt="Architecture of the Documentation File Tree" src="images/CAAAfrHelpFileTree.jpg" width="457" height="485"/></td>
	</tr>
</table>
<p>The documentation file tree contains at the first level the resources folder
and a folder for each language (English, French, German, Japanese, Simplified_Chinese, Italien, Korean, Russian, Spanish). 
The contents of these folders is the following:</p>
<ul>
	<li>The <strong>resources</strong> folder
		<p>This folder always contains the <strong>msgcatalog</strong> folder.</p>
		<p>The <strong>msgcatalog</strong> folder contains the mapping file for the English version,
        and may also contain language folders containing the mapping file for other languages.</p>
	</li>
	<li>The <strong>English</strong> folder
		<p>This folder contains one or several <strong>modulexxx</strong> folders representing a logical 
			grouping for an app or a concept, etc.</p>
		<p> Each <strong>modulexxx</strong> folders contain task, concept or reference topics
			as well as a table of contents file (structure.xml). It may also contain an index file.</p>
	</li>
	<li>Other language folders
		<p>These folders have the same structure as the <strong>English</strong> folder.</p>
	</li>
</ul>
<p>Refer you to the &quot;Contextual Help for an Add-on&quot; use case [<a href="#References">4</a>] 
for an example.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>This article has described the mechanisms for contextual help and
demonstrated how to create a documentation structure fitting with it.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td><a href="CAAAfrTaCommandModel.htm">Understanding the Wintop Frame Command 
		Model</a></td>
	</tr>
	<tr>
		<td>[2]</td>
		<td><a href="CAAAfrTaStdCommandHeader.htm">How to Create Standard Command Headers</a></td>
	</tr>
	<tr>
		<td>[3]</td>
		<td><a href="CAACafTaToolsOptions.htm">How to Add an App Preferences Tab</a></td>
	</tr>
	<tr>
		<td>[4]</td>
		<td><a href="CAAAfrUcSampleContextualHelpCATIA.htm">Creating Contextual 
		Help for Your Add-on</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Mar 2002]</td>
		<td>Document created</td>
	</tr>
	<tr>
		<td>Version: <strong>2</strong> [Nov 2002]</td>
		<td>Document updated</td>
	</tr>
	<tr>
		<td>Version: <strong>3</strong> [Jan 2003]</td>
		<td>Document updated</td>
	</tr>
	<tr>
		<td>Version: <strong>4</strong> [Jun 2007]</td>
		<td>Document updated</td>
	</tr>
	<tr>
		<td>Version: <strong>5</strong> [Sep 2008]</td>
		<td>Document updated</td>
	</tr>
	<tr>
		<td>Version: <strong>6</strong> [Sep 2014]</td>
		<td>Document updated</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
