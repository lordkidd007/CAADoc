<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>Adding Print Standard Functions to Your Application</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Adding Print Standard Functions to Your Application</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This article shows how to print a given object on a printer.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAAPrtApplicationUse Case</a>
				<ul>
					<li><a href="#What">What Does CAAPrtApplication Do</a></li>
					<li><a href="#How">How to Launch CAAPrtApplication</a></li>
					<li><a href="#Where">Where to Find the CAAPrtApplication Code</a></li>
				</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>This use case is intended to show you how to add the Print standard functions 
to your application.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAAPrtApplication Case</h2>
<p>CAAPrtApplication is a set of use cases of the CAAPrint.edu framework that illustrates 
Print framework capabilities.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAAPrtApplication Do</h3>
<p>This use case shows the <a href="#Print">Print</a>,
<a href="#Capture">Capture</a>, <a href="#Album">Album</a>, and
<a href="#Printer">Printer Manager</a> items of the CAAPrtApplication. 
For more details about the following dialog boxes, you can refer to the product 
documentation: in the navigation, click <strong>Infrastructure</strong>, then click
<strong>Infrastructure User's Guide</strong>, and finally click <strong>Printing 
Objects</strong>. Note that the shown pictures are Window snapshots, so dialog boxes 
can differ on Unix system.</p>
<p><a name="Print"></a><strong>Print Command</strong></p>
<p>On the <kbd>PLM Access</kbd> menu, click <kbd>Print...</kbd>. The <kbd>Print</kbd> 
dialog box opens. It enables you to print the contents of the viewer. For more details 
about each widget of this dialog box, launch a session, open any model, and open 
the <kbd>Print</kbd> dialog box. Thanks to the <kbd>?</kbd> icon you can have tool 
tip information about each of them.</p>
<p>
<img alt="Print Dialog Box" height="379" src="images/CAAPrtSamplePrintItem.png" width="593"/></p>
<p><a name="Capture"></a><strong>Capture Toolbar</strong></p>
<p>On the <kbd>Tools</kbd> menu, point to <kbd>Image</kbd>, and click <kbd>Capture...</kbd>. 
The <kbd>Capture</kbd> toolbar appears. For more details about each commnd of this 
toolbar, launch a session, open any model, and open the <kbd>Capture</kbd> toolbar. 
Point to each command. The associated tooltip gives you such information.</p>
<p>
<img alt="Capture Dialog Box" height="162" src="images/CAAPrtSampleCaptureItem.png" width="192"/>;</p>
<p><a name="Album"></a><strong>Album Command</strong></p>
<p>On the <kbd>Tools</kbd> menu, point to <kbd>Image</kbd>, and click <kbd>Album</kbd>. 
The <kbd>Album</kbd> dialog box opens. For more details about each widget of this 
dialog box, launch a session, open any model, and select the Album command in the 
Image sub-menu of the Tools menu. Thanks to the ? icon you can have tool tip information.</p>
<p>
<img alt="Album Dialog Box" height="493" src="images/CAAPrtSampleAlbumItem.png" width="687"/></p>
<p><a name="Printer"></a><strong>Printer Setup</strong></p>
<p>On the <kbd>Tools</kbd> menu, click <kbd>Options</kbd>. The <kbd>Options</kbd> 
dialog box opens. Possibly click <kbd>General</kbd> in the left pane, and scroll 
the tabs to click the <kbd>Printers</kbd> tab. It enables you to add/configure your 
printers. For more details about each widget of this dialog box, launch a session, 
open any model, and open the <kbd>Printers</kbd> tab. Thanks to the <kbd>?</kbd> 
icon you can have tool tip information.</p>
<p>
<img alt="Search Documents Dialog Box" height="287" onclick="showImg('images/CAAPrtManager.png', 817, 564)" onmouseover="this.style.cursor='pointer'" src="images/CAAPrtManagerSmall.png" title="Printers Tab.
Click to enlarge." width="420"/></p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Launch CAAPrtApplication</h3>
<p>To launch CAAPrtApplication, you will need to set up the build time environment, 
then compile CAAPrtApplication along with its prerequisites, set up the run time 
environment, and then execute the use case [<a href="#References">1</a>].</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Where"></a>Where to Find the CAAPrtApplication Code</h3>
<p>The CAAPrtApplication use case is made of an application class and of a window 
class whose header and source files are located in the CAAPrtApplication.m module 
of the CAAPrint.edu framework:</p>
<p><code>InstallRootFolder\CAADoc\CAAPrint.edu\CAAPrtApplication.m</code></p>
<p>where <code>InstallRootFolder</code> [<a href="#References">1</a>] is the folder 
where the API CD-ROM is installed.</p>
<p>CAAPrtApplication includes the following files:</p>
<table>
	<tr>
		<th>LocalInterfaces Folder</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>CAAPrtApplication.h</td>
		<td>Header file for the interactive application</td>
	</tr>
	<tr>
		<td>CAAPrtDialog.h</td>
		<td>Header file for the dialog window that hosts the viewer</td>
	</tr>
	<tr>
		<th>src Folder</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>CAAPrtApplication.cpp</td>
		<td>Source file for the interactive application</td>
	</tr>
	<tr>
		<td>CAAPrtDialog.cpp</td>
		<td>Source file for the dialog window that hosts the viewer</td>
	</tr>
</table>
<p>This article explains the <code>CAAPrtDialog</code> class and its callbacks methods.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step"></a>Step-by-Step</h3>
<p>To open and display a TIFF image file in a 2D viewer, there are four main steps:</p>
<table>
	<colgroup span="3" valign="top">
	</colgroup>
	<tr>
		<th>#</th>
		<th>Step</th>
		<th>Where</th>
	</tr>
	<tr>
		<td>1</td>
		<td><a href="#Step1">Adds the Print dialog box</a></td>
		<td>PrintCB method</td>
	</tr>
	<tr>
		<td>2</td>
		<td><a href="#Step2">Adds the Capture toolbar</a></td>
		<td>CaptureCB method</td>
	</tr>
	<tr>
		<td>3</td>
		<td><a href="#Step3">Adds the Album dialog box</a></td>
		<td>AlbumCB method</td>
	</tr>
	<tr>
		<td>4</td>
		<td><a href="#Step4">Adds the Printer Manager dialog box</a></td>
		<td>PrinterManagerCB method</td>
	</tr>
</table>
<p>These capabilities are proposed to the end user as items of the File menu. A 
callback set for each of these items displays the appropriate dialog box. The control 
is then passed to the Print framework that manages the requested tasks. The four 
methods detailed below are callback methods. Their arguments are unused.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step1"></a>Adding the Print Dialog Box</h3>
<pre class="code">void CAAPrtDialog::PrintCB(CATCommand           * iSendingCommand,
                            CATNotification      * iSentNotification,
                            CATCommandClientData   iUsefulData)
{
  _appli-&gt;<strong>SetBusyCursor</strong>(); <em>// Set the cursor as an hourglass</em>

  <em>// Instantiates the Print dialog box</em>
  CATPrintDialog * print = new <strong>CATPrintDialog</strong>(this, &quot;Print&quot;, _viewer);

  print-&gt;<strong>SetVisibility</strong>(CATDlgShow); <em>// Shows the Print dialog box</em>
}</pre>
<p>The cursor is set as busy and looks like an hour glass as long as the Print dialog 
box is not displayed. This is done using the <code>SetBusyCursor</code> method. 
The Print dialog box constructor has the following parameters:</p>
<ul>
	<li><code>this</code> is the dialog box parent set as the application window
	</li>
	<li><code>&quot;Print&quot;</code> is the dialog box identifier, unused here
	</li>
	<li><code>_viewer</code> is the application viewer. This object along with is 
		contents will be printed.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Print dialog 
box manages its deallocation itself.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step2"></a>Adding the Capture Toolbar</h3>
<pre class="code">void CAAPrtDialog::CaptureCB(CATCommand           * iSendingCommand,
                              CATNotification      * iSentNotification,
                              CATCommandClientData   iUsefulData)
{
  CATPrintCaptureDialog * capture = new <strong>CATPrintCaptureDialog</strong>(this, &quot;Capture&quot;, _viewer);
  capture-&gt;<strong>SetVisibility</strong>(CATDlgShow);
}</pre>
<p>The Capture toolbar constructor has the following parameters:</p>
<ul>
	<li><code>this</code> is the toolbar parent set as the application window
	</li>
	<li><code>&quot;Capture&quot;</code> is the toolbar identifier, unused here
	</li>
	<li><code>_viewer</code> is the application viewer. This object along with is 
		contents will be captured.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Capture toolbar 
manages its de-allocation itself.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step3"></a>Adding the Album Dialog Box</h3>
<p>The file conversion to a 2D representation can now take place.</p>
<pre class="code">void CAAPrtDialog::AlbumCB(CATCommand           * iSendingCommand,
                            CATNotification      * iSentNotification,
                            CATCommandClientData   iUsefulData)
{
  <em>// Instantiates the Album dialog box</em>
  CATPrintAlbumDialog *album = new <strong>CATPrintAlbumDialog</strong>(this, &quot;Album&quot;);

  album-&gt;SetVisibility(CATDlgShow); <em>// Shows the Album dialog box</em>
}</pre>
<p>The Album dialog box constructor has the following parameters:</p>
<ul>
	<li><code>this</code> is the dialog box parent set as the application window
	</li>
	<li><code>&quot;Album&quot;</code> is the dialog box identifier, unused here.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Album dialog 
box manages its de-allocation itself.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step4"></a>Adding the Printer Manager Dialog Box</h3>
<pre class="code">void CAAPrtDialog::PrinterManagerCB(CATCommandCATCommand * iSendingCommand,
                                     CATNotification      * iSentNotification,
                                     CATCommandClientData   iUsefulData)
{
  <em>// Instantiates the Printer Manager dialog boxcommand</em> 
  CATPrinterManagerDialog *printMan = new <strong>CATPrinterManagerDialog</strong>(this, 
                                              &quot;PrintMan&quot;, CATDlgWndModal);

  printMan-&gt;<strong>SetVisibility</strong>(CATDlgShow); <em>// Shows the Printer Manager dialog box</em>
}</pre>
<p>The Printer Manager dialog box constructor has the following parameters:</p>
<ul>
	<li><code>this</code> is the dialog box parent set as the application window
	</li>
	<li><code>&quot;PrinMan&quot;</code> is the dialog box identifier, unused here</li>
	<li><code>CATDlgWndModal</code> is the dialog box style. Modal means that no 
		interaction outside the dialog box is possible as long as it is displayed.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Printer Manager 
dialog box manages its de-allocation itself.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>This use case shows how to add the Print dialog boxes and toolbars to your application. 
They include the Print dialog box to print the contents of a viewer, the Capture 
toolbar to make a snapshot of a viewer in an image file stored in the album, the 
Album dialog box to manage the album, and the Printer Manager to set up the printers.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Jan 2000]</td>
		<td>Document created</td>
	</tr>
	<tr>
		<td>Version: <strong>2</strong> [Nov 2003]</td>
		<td>Document updated</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
