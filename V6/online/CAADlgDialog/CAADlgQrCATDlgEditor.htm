<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>CATDlgEditor</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>CATDlgEditor</h1>
		</td>
	</tr>
	<tr>
		<td class="quick">Quick Reference</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<pre><a href="CAADlgQrCATDialog.htm">CATDialog</a>
  |
  +---<a href="CAADlgQrCATDlgControl.htm">CATDlgControl</a>
        |
        +---<a href="#" onclick="javascript:CAAlink('CPP', 'Dialog', 'class', 'CATDlgEditor');return false;">CATDlgEditor</a></pre>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table>
	<caption>The Editor</caption>
	<tr>
		<td>
		<img alt="CATDlgEditor" height="84" src="images/CAADlgCATDlgEditor.jpg" width="189"/></td>
		<td>The editor allows the end user to enter a text, numerics, or both, or 
		modify existing ones. The text can extend on one or several lines. Scrollbars 
		can be added if the text is longer than the editor display area.</td>
	</tr>
</table>
<p>Use editors whenever you propose to the end user to edit or modify a text or 
unpredictable numerical values.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table>
	<caption><a name="Styles"></a>Styles</caption>
	<tr>
		<th>Name</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>default</td>
		<td>The text extends on a singe line.</td>
	</tr>
	<tr>
		<td>CATDlgEdtReadOnly</td>
		<td>The text cannot be edited.</td>
	</tr>
	<tr>
		<td>CATDlgEdtMultiline</td>
		<td>The text can extend on several lines.</td>
	</tr>
	<tr>
		<td colspan="2"><strong>For single line editors only</strong></td>
	</tr>
	<tr>
		<td>CATDlgEdtPassword</td>
		<td>The text is hidden.</td>
	</tr>
	<tr>
		<td>CATDlgEdtInteger</td>
		<td>The text must be an integer.</td>
	</tr>
	<tr>
		<td>CATDlgEdtFloat</td>
		<td>The text must be a float.</td>
	</tr>
	<tr>
		<td>CATDlgEdtAlphabetical</td>
		<td>The text must contain only alphabetical characters.</td>
	</tr>
	<tr>
		<td>CATDlgEdtNumerical</td>
		<td>The text must contain only numerical characters.</td>
	</tr>
	<tr>
		<td>CATDlgEdtAlphanumerical</td>
		<td>The must contain only alphanumerical characters.</td>
	</tr>
	<tr>
		<td>CATDlgEdtDouble</td>
		<td>The text must be a double, expressed in the chosen unit.</td>
	</tr>
	<tr>
		<td colspan="2"><strong>For multiple line editors only</strong></td>
	</tr>
	<tr>
		<td>CATDlgEdtWrap</td>
		<td>The text automatically skips to the next line.</td>
	</tr>
	<tr>
		<td>CATDlgEdtNoScrollBar</td>
		<td>The editor has no scrollbars.</td>
	</tr>
	<tr>
		<td>CATDlgEdtNoCR</td>
		<td>The text doesn' include carriage return characters.</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table>
	<caption><a name="Events"></a>Events</caption>
	<tr>
		<th>Notification</th>
		<th>Method</th>
		<th>Sent when</th>
	</tr>
	<tr>
		<td>CATDlgEditModifyNotification</td>
		<td><code>GetEditModifyNotification</code></td>
		<td>Whenever the entry field is modified.</td>
	</tr>
	<tr>
		<td>CATDlgSelectionChangeNotification</td>
		<td><code>GetSelectionChangeNotification</code></td>
		<td>Whenever a new line is selected.</td>
	</tr>
	<tr>
		<td>CATDlgEditFocusInNotification</td>
		<td><code>GetEditFocusInNotification</code></td>
		<td>Whenever the combo gets the keyboard focus.</td>
	</tr>
	<tr>
		<td>CATDlgEditFocusOutNotification</td>
		<td><code>GetEditFocusOutNotification</code></td>
		<td>Whenever the combo looses the keyboard focus.</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2>Programmer's Guide</h2>
<p>The editor is dedicated to text or numerical value edition.</p>
<h3><a name="Constructor"></a>Constructing an Editor</h3>
<p>These following kinds of multiple list can be constructed.</p>
<table>
	<tr>
		<td><em>default</em></td>
		<td>
		<pre class="code">_pEditor  = new CATDlgEditor (iParent, iName);</pre>
		</td>
	</tr>
	<tr>
		<td><em>Multiline</em></td>
		<td>
		<pre class="code">_pMEditor = new CATDlgEditor (iParent, iName,
                          <strong>CATDlgEdtMultiline</strong>);</pre>
		</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prog1"></a>Managing the Line Content</h3>
<p>You can manage the line with the following methods:</p>
<ul>
	<li>get the number of lines:
		<table>
			<tr>
				<td>
				<pre class="code">int NumberOfLines = _pEditor-&gt;GetLineCount();</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>get or set the contents of a given line as a CATUnicodeString:
		<table>
			<tr>
				<td><em>get a line contents</em></td>
				<td>
				<pre class="code">set a line contents
CATUnicodeString oLineContents;
int iLineNumber = 2;
_pEditor-&gt;GetLine(oLineContents, iLineNumber);</pre>
				</td>
			</tr>
			<tr>
				<td><em>set a line contents</em></td>
				<td>
				<pre class="code">...
iLineNumber = 3;
CATUnicodeString * _iLineToSet = &quot;Line to set&quot;;
_pEditor-&gt;SetLine(*iLineContents, iLineNumber);</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>get or set the whole editor contents as a CATUnicodeString:
		<table>
			<tr>
				<td><em>get all text</em></td>
				<td>
				<pre class="code">CATUnicodeString oAllText, iAllText;
oAllText = _pEditor-&gt;GetText();</pre>
				</td>
			</tr>
			<tr>
				<td><em>set all text</em></td>
				<td>
				<pre class="code">...
iAllText = ...
_pEditor-&gt;SetText(iAllText);</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>get an integer or a float from the contents of a line:
		<table>
			<tr>
				<td><em>get integer value</em></td>
				<td>
				<pre class="code">int IntValue = _pEditor-&gt;GetIntegerValue();</pre>
				</td>
			</tr>
			<tr>
				<td><em>get float value</em></td>
				<td>
				<pre class="code">float FloatValue = _pEditor-&gt;GetFloatValue();</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>delete a given line or all the lines:
		<table>
			<tr>
				<td><em>clear line 2</em></td>
				<td>
				<pre class="code">int iLineNumber = 2;
_pEditor-&gt;ClearLine(iLineNumber)</pre>
				</td>
			</tr>
		</table>
		<p>The default value -1 deletes all the lines.</p>
	</li>
	<li>get or set the maximum number of characters that a line can contain:
		<table>
			<tr>
				<td><em>get max char</em></td>
				<td>
				<pre class="code">int MaxCharacter;
MaxCharacter = _pEditor-&gt;GetMaxCharacterWidth();
...</pre>
				</td>
			</tr>
			<tr>
				<td><em>set max char</em></td>
				<td>
				<pre class="code">MaxCharacter = 20;
_pEditor-&gt;SetMaxCharacterWidth(MaxCharacter);</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>in addition, declare your own function to execute when a key-board entry 
		happens:
		<table>
			<tr>
				<td><em>declare a function</em></td>
				<td>
				<pre class="code">CATDlgEditorCallback MyFunction;
_pEditor-&gt;SetVerifyCallback(MyFunction, _iUsefulData);</pre>
				</td>
			</tr>
		</table>
		<p>MyFunction is the function to execute and _iUsefulData is the contents 
		of the filed casted as a pointer to void.</p>
	</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prog2"></a>Managing the Line Display</h3>
<p>You can manage the line display with the following methods: </p>
<ul>
	<li>get or set the visible text width:
		<table>
			<tr>
				<td><em>get number of visible char</em></td>
				<td>
				<pre class="code">int NumberOfVisibleChar;
NumberOfVisibleChar = _pEditor-&gt;GetVisibleTextWidth();
...</pre>
				</td>
			</tr>
			<tr>
				<td><em>setnumber of visible char</em></td>
				<td>
				<pre class="code">NumberOfVisibleChar = 20:
_pEditor-&gt;SetVisibleTextWidth(NumberOfVisibleChar);</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>get or set the visible text height:
		<table>
			<tr>
				<td><em>get visible height</em></td>
				<td>
				<pre class="code">int VisibleTextHeight;
TextHeight = _pEditor-&gt;GetVisibleTextHeight();
...</pre>
				</td>
			</tr>
			<tr>
				<td><em>set visible height</em></td>
				<td>
				<pre class="code">TextHeight = 8;
_pEditor-&gt;SetVisibleTextHeight(TextHeight);</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>get or set the position of the first visible character in the line:
		<table>
			<tr>
				<td><em>get 1st visible char</em></td>
				<td>
				<pre class="code">int FirstVisibleChar;
FirstVisibleChar = _pEditor-&gt;GetFirstColumn();
...</pre>
				</td>
			</tr>
			<tr>
				<td><em>set 1st visible char</em></td>
				<td>
				<pre class="code">FirstVisibleChar = 5;
_pEditor-&gt;SetFirstColumn(FirstVisibleChar);</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>get or set the position of the first line:
		<table>
			<tr>
				<td><em>get 1st line position</em></td>
				<td>
				<pre class="code">int FirstLine;
FirstLine = _pEditor-&gt;GetFirstLine();
...</pre>
				</td>
			</tr>
			<tr>
				<td><em>set 1st line position</em></td>
				<td>
				<pre class="code">FirstLine = 3;
_pEditor-&gt;SetFirstLine(FirstLine);</pre>
				</td>
			</tr>
		</table>
	</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Callback"></a>Setting a Callback on an Editor</h3>
<p>Set a callback on an editor to be informed whenever the end user modify the text 
as follows:</p>
<pre class="code">AddAnalyseNotificationCB(
  _pEditor,                                   // multiple list 
  _pEditor-&gt;<code>GetEditModifyNotification</code>(),      // notification
  (CATCommand)&amp;Editor::MethodToExecute,       // method to execute 
  CATCommandClientData iUsefulData);          // useful data for this method </pre>
<script type="text/javascript">insertLinkToTop();</script>
<h3><a name="Resources"></a>Setting a Title to an Editor</h3>
<p>The editor title should be set by the resource file using a key built with the 
identifier you declare as the second parameter of the editor constructor. This title 
is never displayed. If you want to comment the editable field of the editor in your 
dialog, use a <a href="CAADlgQrCATDlgLabel.htm">CATDlgLabel</a>.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Jan 2000]</td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
