<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>CATDlgSpinner</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>CATDlgSpinner</h1>
		</td>
	</tr>
	<tr>
		<td class="quick">Quick Reference</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<pre class="code"><a href="CAADlgQrCATDialog.htm">CATDialog</a>
  |
  +---<a href="CAADlgQrCATDlgControl.htm">CATDlgControl</a>
        |
        +---<a href="#" onclick="javascript:CAAlink('CPP', 'Dialog', 'class', 'CATDlgSpinner'); return false;">CATDlgSpinner</a></pre>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table>
	<caption>The Spinner</caption>
	<tr>
		<td>
		<img alt="CATDlgSpinner" height="19" src="images/CAADlgCATDlgSpinner.jpg" width="68"/></td>
		<td>The spinner allows the end user to select a numerical value among a 
		discrete list of values, ranging from a start value to an end value. The 
		value can be incremented or decremented by clicking the arrows. The up arrow 
		is dedicated to incrementing while the down arrow is for decrementing. You 
		set the start and end values as floats, while you set the step number either 
		as an int or as a float. The step value is the difference between start 
		and end values, divided by the number of steps. The default values ranges 
		from 1 to 10 with 10 steps.</td>
	</tr>
</table>
<p>Use spinner whenever you propose to the end user to enter a numerical value selected 
from a discrete list.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table>
	<caption><a name="Styles"></a>Styles</caption>
	<tr>
		<th>Name</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>default</td>
		<td>The spinner field cannot be edited.</td>
	</tr>
	<tr>
		<td>CATDlgSpnEntry</td>
		<td>The spinner field can be edited. If the user keys in a value out of 
		the spinner range, this value is not accepted and the previous valid value 
		is used instead.</td>
	</tr>
	<tr>
		<td>CATDlgSpnUserIncrement</td>
		<td>Prevents from automatically incrementing or decrementing the displayed 
		value when the user selects the arrows. You need to provide you own methods 
		instead, for example to increment or decrement with a parameter different 
		from the step.</td>
	</tr>
	<tr>
		<td>CATDlgSpnDouble</td>
		<td>The entered number must be a double precision floating number.</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table>
	<caption><a name="Events"></a>Events</caption>
	<tr>
		<th>Notification</th>
		<th>Method</th>
		<th>Sent when</th>
	</tr>
	<tr>
		<td>CATDlgSpinnerModifyNotification</td>
		<td><code>GetSpinnerModifyNotification</code></td>
		<td>Whenever the current value is modified, whatever the means used to modify 
		it, such as arrows or field edition..</td>
	</tr>
	<tr>
		<td colspan="3">Available with CATDlgSpnUserIncrement only:</td>
	</tr>
	<tr>
		<td>CATDlgSpinnerBtnUpNotification</td>
		<td><code>GetSpinnerBtnDownNotification</code></td>
		<td>Whenever the down (decrement) arrow is clicked.</td>
	</tr>
	<tr>
		<td>CATDlgSpinnerBtnDownNotification</td>
		<td><code>GetSpinnerBtnUpNotification</code></td>
		<td>Whenever the up (increment) arrow is clicked.</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2>Programmer's Guide</h2>
<p>The spinner is dedicated to executing a command when it is clicked.</p>
<h3><a name="Constructor"></a>Constructing a Spinner</h3>
<p>These four kinds of spinner can be constructed, according to their different 
styles. Styles can be concatenated using the &quot;|&quot; character.</p>
<table>
	<tr>
		<td><em>Non editable spinner</em></td>
		<td>
		<pre class="code">_pNEdSpinner = new CATDlgSpinner (iParent, iName);</pre>
		</td>
	</tr>
	<tr>
		<td><em>Editable spinner</em></td>
		<td>
		<pre class="code">_pEdSpinner = new CATDlgSpinner (iParent, iName,
                                 <strong>CATDlgSpnEntry</strong>);</pre>
		</td>
	</tr>
	<tr>
		<td><em>Free increment spinner</em></td>
		<td>
		<pre class="code">_pFreeSpinner = new CATDlgSpinner (iParent, iName,
                                   <strong>CATDlgSpnUserIncrement</strong>);</pre>
		</td>
	</tr>
	<tr>
		<td><em>Floating spinner</em></td>
		<td>
		<pre class="code">_pFloatSpinner = new CATDlgSpinner (iParent, iName,
                                    <strong>CATDlgSpnDouble</strong>);</pre>
		</td>
	</tr>
	<tr>
		<td><em>Editable and floating spinner</em></td>
		<td>
		<pre class="code">_pEdFloatSpinner = new CATDlgSpinner (iParent, iName,
                                      <strong>CATDlgSpnEntry</strong>|<strong>CATDlgSpnDouble</strong>);</pre>
		</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prog1"></a>Managing the Value Range</h3>
<p>You can retrieve the value range and step with <code>GetRange</code>, and them 
with <code>SetRange</code>, except with floating and free increment spinners:</p>
<pre class="code">float Start, End;
int Step;
_pSpinner-&gt;GetRange(Start, End, Step);
...
Start = 0;
End = 100;
Step = 20;
_pSpinner-&gt;SetRange(Start, End, Step);</pre>
<p>For floating spinners, use <code>GetMinMaxStep</code> and <code>SetMinMaxStep</code> 
instead:</p>
<pre class="code">float Start, End, Step;
_pFloatSpinner -&gt;GetMinMaxStep(Start, End, Step);
...
Start = 0.0;
End = 100.0;
Step = 20.0;
_pFloatSpinner -&gt;SetMinMaxStep(Start, End, Step);</pre>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prog2"></a>Managing the Value Display</h3>
<p>To help manage the value display in the spinner, you can use the following methods, 
except with floating and free increment spinners:</p>
<ul>
	<li>managing the format of the value displayed as a character string with the 
		methods <code>GetFormat</code> and <code>SetFormat</code>:
		<table>
			<tr>
				<td><em>get format</em></td>
				<td>
				<pre class="code">char * Format;
Format = _pSpinner-&gt;GetFormat(); // returns &quot;%f&quot;</pre>
				</td>
			</tr>
			<tr>
				<td><em>set format</em></td>
				<td>
				<pre class="code">Format = &quot;%d&quot;;
_pSpinner-&gt;SetFormat(Format);</pre>
				</td>
			</tr>
		</table>
	</li>
	<li>managing the visible text width with the methods <code>GetVisibleTextWidth</code> 
		and <code>SetVisibleTextWidth</code>:
		<table>
			<tr>
				<td><em>get text width</em></td>
				<td>
				<pre class="code">int NumberOfVisibleChar;
NumberOfVisibleChar = _pSpinner-&gt;GetVisibleTextWidth();</pre>
				</td>
			</tr>
			<tr>
				<td><em>set text width</em></td>
				<td>
				<pre class="code">NumberOfVisibleChar = 20;
_pSpinner-&gt;SetVisibleTextWidth(NumberOfVisibleChar);</pre>
				</td>
			</tr>
		</table>
		<p>The visible text width is expressed in number of characters.</p>
	</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prog3"></a>Managing the Selection</h3>
<p>You can manage the the current value with the methods <code>GetCurrentValue</code> 
and <code>SetCurrentValue</code>:</p>
<table>
	<tr>
		<td><em>get value</em></td>
		<td>
		<pre class="code">float Value;
Value = _pSpinner-&gt;GetCurrentValue();
...</pre>
		</td>
	</tr>
	<tr>
		<td><em>set value</em></td>
		<td>
		<pre class="code">Value = 20.5;
_pSpinner-&gt;SetCurrentValue(Value, Notify);</pre>
		</td>
	</tr>
</table>
<p>The visible text width is expressed in number of characters. Set the parameter
<code>Notify</code> to a non null value if you want the corresponding notification 
to be sent. Otherwise set to 0, no notification is sent.</p>
<p>With floating spinners, you can use the methods <code>GetValue</code> and
<code>SetValue</code>. The value is expressed in MKS units:</p>
<table>
	<tr>
		<td><em>get value</em></td>
		<td>
		<pre class="code">double Value = _pFloatSpinner-&gt;GetValue();
...</pre>
		</td>
	</tr>
	<tr>
		<td><em>set value</em></td>
		<td>
		<pre class="code">Value = 156.12;
_pFloatSpinner-&gt;SetValue(Value, Notify);</pre>
		</td>
	</tr>
</table>
<p>Set the parameter <code>Notify</code> to a non null value if you want the corresponding 
notification to be sent. Otherwise set to 0, no notification is sent.</p>
<p>With free increment spinners, you can use the methods <code>GetCurrentText</code> 
and <code>SetCurrentText</code>. The text is a CATUnicodeString instances:</p>
<table>
	<tr>
		<td><em>get text</em></td>
		<td>
		<pre class="code">CATUnicodeString Text = _pFreeSpinner-&gt;GetCurrentText();
...</pre>
		</td>
	</tr>
	<tr>
		<td><em>set text</em></td>
		<td>
		<pre class="code">Text = &quot;NewText&quot;;
_pFreeSpinner-&gt;SetCurrentText(Text, Notify);</pre>
		</td>
	</tr>
</table>
<p>Set the parameter <code>Notify</code> to a non null value if you want the corresponding 
notification to be sent. Otherwise set to 0, no notification is sent.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prog4"></a>Managing the Arrow Sensitivity</h3>
<p>With free increment spinners, you can manage the sensitivity of each arrow with 
the methods <code>GetButtonUpSensitivity</code> and <code>SetButtonUpSensitivity</code> 
for the up arrow, and using the methods <code>GetButtonDownSensitivity</code> and
<code>SetButtonDownSensivity</code> for the down arrow. The state of an arrow that 
is sensitive to the user action is <code>CATDlgEnable</code>. Otherwise this state 
is <code>CATDlgDisable</code>. For example for the top arrow:</p>
<table>
	<tr>
		<td><em>get sensitivity</em></td>
		<td>
		<pre class="code">if (_pSpinner-&gt;GetButtonUpSensitivity() == CATDlgEnable)
  ... ;</pre>
		</td>
	</tr>
	<tr>
		<td><em>disable</em></td>
		<td>
		<pre class="code">_pSpinner-&gt;SetButtonUpSensitivity(CATDlgDisable);</pre>
		</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Callback"></a>Setting a Callback on a Spinner</h3>
<p>Set a callback on a non editable spinner to be informed whenever the end user 
modifies the spinner value as follows:</p>
<pre class="code">AddAnalyseNotificationCB(
  _pNEdSpinner,                                   // spinner 
  _pNEdSpinner-&gt;<code>GetSpinnerModifyNotification</code>(),   // notification
  (CATCommand)&amp;Spinner::MethodToExecute,          // method to execute 
  CATCommandClientData iUsefulData);              // useful data for this method </pre>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Resources"></a>Setting a Title to a Spinner</h3>
<p>The spinner title should be set by the resource file using a key built with the 
identifier you declare as the second parameter of the spinner constructor. This 
title is never displayed. If you want to comment the choice available from the spinner 
in your dialog, use a <a href="CAADlgQrCATDlgLabel.htm">CATDlgLabel</a>.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Jan 2000]</td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
