<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 12.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js"></script>
<script type="text/javascript" src="../CAADocJavaScript/submit.js"></script>
<title>Reorder by taking into account the start time calculated through sequencing.</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Reordering a System Root in tree according with sequence. </h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This article describes an example of use of Framework DELPPRSystemItf</p>
		<p>This use case shows how to reorder a System structure according to the time resolution.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAALmiSystemReorder Use Case</a>
			<ul>
				<li><a href="#What">What Does CAALmiSystemReorder Do</a> </li>
				<li><a href="#How">How to Launch CAALmiSystemReorder</a> </li>
				<li><a href="#Where">Where to Find the CAALmiSystemReorder Code</a>
				</li>
			</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a> </li>
			<li><a href="#InShort">In Short</a> </li>
			<li><a href="#References">References</a> </li>
		</ul>
		</td>
	</tr>
</table>
<h2><a name="Learn"></a>What You Will Learn With This Use Case </h2>
<p>In this use case, you will learn how to use the DELIPPRSystemAuth, the DELIPPRSystemNav 
    and DELIPPRSystemReorder interfaces in order to: </p>
<ul>
	<li>Reorder a System structure according with its start time.</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<h2><a name="UseCase"></a>The CAALmiSystemReorder Use Case </h2>
<p>CAALmiSystemReorder is a use case of the CAAPPRSystemItf.edu framework that illustrates 
DELPPRSystemItf framework capabilities. </p>
<script type="text/javascript">insertLinkToTop();</script>
<h3><a name="What"></a>What Does CAALmiSystemReorder Do </h3>
<ul>
	<li>Find the root System reference&#39;s.</li>
	<li>Inserts them into the Bag.</li>
	<li>on the root Ref, GetOccurrenceFromSystemReference</li>
    <li>Reorder the Root System Occurrence by sequence.</li>
</ul>
<p><strong>Usecase Objects: </strong><code>CAALmiSystemReorder</code> <br>
</p>
<p><strong>Expected Result:</strong><br>
The result is a return code, its value is:</p>
<ul>
	<li>0 on successful completion.</li>
	<li>1 if execution failed.</li>
</ul>
<!--<table>
	<caption>Fig. 1: Structural Session View of This Use Case</caption>
	<tr>
		<td>
		<img src="images/CAALmiSystemReorder_Structure.png" width="400px" alt="Model Structure"></td>
	</tr>
</table>-->
<script type="text/javascript">insertLinkToTop();</script>
<h3><a name="How"></a>How to Launch CAALmiSystemReorder</h3>
<p>To launch CAALmiSystemReorder, you will need to set up the build time environment, 
then compile CAALmiSystemReorder along with its prerequisites, set up the run time 
environment, and then execute the use case [<a href="#References">1</a>]. </p>
<p><em>Additional instructions:</em> mkrun -c &quot;CAALmiSystemReorder 
Repository Server User Password SecurityCtx Environment&quot;</p>
<p>Where:</p>
<!--
          <pre>
        Repository    : The name of the repository (or provider)
                    Server        : The name and port of the server
                    User          : The user identifier
                    Password      : The user password
                    SecurityCtx   : A string representing the security context (Role.Organization.Project)
                    Environment   : A PLM Environment containing a modeler customization
          </pre>
-->
<table class="fill Indented">
	<!--
          <tr>
          <th>Repository :</th>
            <th style="width:20px"> </th>
            <th>The name of the repository (or provider)</th>
          
            <th class="style2">Repository :</th>
            <th style="width:20px"> </th>
            <th class="style3">The name of the repository (or provider)</th>
           
          </tr>
          -->
	<tr>
		<th>Parameter</th>
		<th>description</th>
	</tr>
	<tr>
		<td>Repository</td>
		<td>The name of the repository (or provider)</td>
	</tr>
	<tr>
		<td>Server</td>
		<td>The name and port of the server</td>
	</tr>
	<tr>
		<td>User</td>
		<td>The user identifier</td>
	</tr>
	<tr>
		<td>Password</td>
		<td>The user password</td>
	</tr>
	<tr>
		<td>SecurityCtx</td>
		<td>A string representing the security context (Role.Organization.Project)</td>
	</tr>
	<tr>
		<td>Environment</td>
		<td>A PLM Environment containing a modeler customization</td>
	</tr>
</table>
<p><strong>Example</strong>:</p>
<pre class="code">mkrun -c &quot;CAALmiSystemReorder PLM1 ve4al10dsy:8090 uxodtipt Ovb2pcds VPMADMIN.ADMIN.DEFAULT VPM&quot;</pre>
<script type="text/javascript">insertLinkToTop();</script>
<h3><a name="Where"></a>Where to Find the CAALmiSystemReorder Code </h3>
<p>The CAALmiSystemReorder use case is made of a file located in the CAALmiSystemReorder.m 
module of the CAAPPRSystemItf.edu framework:</p>
<p><code>InstallRootFolder\CAADoc\CAAPPRSystemItf.edu\CAALmiSystemReorder.m</code></p>
<p><em>Main files:</em></p>
<pre class="code">CAAPPRSystemItf.edu/CAALmiSystemReorder.m/src/CAALmiSystemReorder.cpp</pre>
<pre class="code">CAAPPRSystemItf.edu/ProtectedInterfaces/CAALmiSessionServices.h
CAAPPRSystemItf.edu/ProtectedInterfaces/CAALmiFindServices.h
CAAPPRSystemItf.edu/ProtectedInterfaces/CAALmiReleaseServices.h
CAAPPRSystemItf.edu/ProtectedInterfaces/CAALmiOccurrenceServices.h
CAAPPRSystemItf.edu/CAALmiServices.m/src/CAALmiSessionServices.cpp
CAAPPRSystemItf.edu/CAALmiServices.m/src/CAALmiFindServices.cpp
CAAPPRSystemItf.edu/CAALmiServices.m/src/CAALmiReleaseServices.cpp
CAAPPRSystemItf.edu/CAALmiServices.m/src/CAALmiOccurrenceServices.cpp </pre>
<pre class="code">CAAPLMClientAdapter.edu/PublicInterfaces/CAAAdpCreateCloseSession.h</pre>
<p>CAA files</p>
<p><em>Documented Framework:</em></p>
<pre class="code"><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRSystemItf');return false;">DELPPRSystemItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRSystemItf', 'interface', 'DELIPPRSystemOccAuth');return false;">/PublicInterfaces/DELIPPRSystemOccAuth.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRSystemItf');return false;">DELPPRSystemItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRSystemItf', 'interface', 'DELIPPRSystemAuth');return false;">/PublicInterfaces/DELIPPRSystemAuth.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRSystemItf');return false;">DELPPRSystemItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRSystemItf', 'interface', 'DELIPPRSystemNav');return false;">/PublicInterfaces/DELIPPRSystemNav.h</a></pre>
<pre class="code"><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'interface', 'CATIPLMNavReference');return false;">/PublicInterfaces/CATIPLMNavReference.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'class', 'CATListPtrCATIPLMNavReference');return false;">/PublicInterfaces/CATListPtrCATIPLMNavReference.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'interface', 'CATIPLMNavEntity');return false;">/PublicInterfaces/CATIPLMNavEntity.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'class', 'CATListPtrCATIPLMNavEntity');return false;">/PublicInterfaces/CATListPtrCATIPLMNavEntity.h</a></pre>
<pre class="code"><a href="#" onclick="javascript:CAAlink('CPP', 'ObjectModelerBase');return false;">ObjectModelerBase</a><a href="#" onclick="javascript:CAAlink('CPP', 'ObjectModelerBase', 'class', 'CATOmbLifeCycleRootsBag');return false;">/PublicInterfaces/CATOmbLifeCycleRootsBag.h</a></pre>
<script type="text/javascript">insertLinkToTop();</script>
<h2><a name="Step"></a>Step-by-Step </h2>
<p>There are four logical steps in CAALmiSystemReorder:</p>
<ol>
	<li><a href="#1">Retrieves the DELIPPRSystemAuth and DELIPPRSystemNav interfaces</a>
	</li>
	<li><a href="#2">Querying the Root System reference in the database. </a>
	</li>
	<li><a href="#4">Retrieving the Root System Occurrence</a></li>
	<li><a href="#5">Reorder by sequence the Root System Occurrence</a></li>
</ol>
<script type="text/javascript">insertLinkToTop();</script>
<h3><a name="1"></a>Retrieves the DELIPPRSystemAuth and DELIPPRSystemNav interfaces</h3>
<pre class="code">DELIPPRSystemAuth_var hPPRSystemAuth;
rc = ::GetPPRSystemAuth(hPPRSystemAuth);
DELIPPRSystemNav_var hPPRSystemNav;
rc = ::GetPPRSystemNav(hPPRSystemNav);</pre>
<h3><a name="2"></a>Querying the Root System reference in the database. </h3>
<pre class="code">CATOmbLifeCycleRootsBag Bag;
CATAdpAttributeSet AttributeSetSystem;
AttributeSetSystem.AddAttribute(&quot;PLM_ExternalID&quot;,&quot;GeneralSystem.1&quot;); 
AttributeSetSystem.AddAttribute(&quot;V_version&quot;,&quot;---&quot;); 

CATIType_var spTypeSystem;
rc = CATCkePLMNavPublicServices::RetrieveKnowledgeType(&quot;DELLmiGeneralSystemReference&quot;,spTypeSystem);

CATIPLMNavReference * piRootSystem = NULL;
int ret = CAALmiFindServices::FindReference( piEnv, Bag, AttributeSetSystem, spTypeSystem, IID_CATIPLMNavReference, (void **)&amp;piRootSystem);       </pre>
<h3><a name="4"></a>Retrieving the Root System Occurrence</h3>
<pre class="code">
CATIPLMNavOccurrence_var hNavOccOnRootSystem;
rc = CAALmiOccurrenceServices::GetOccurrenceFromSystemReference(hNavRefOnRootSystem, hNavOccOnRootSystem);
</pre>
<p>Occurrence is retrieved from the Root System Reference.</p>
<h3><a name="5"></a>Reorder the System Root Occurrence</h3>
<pre class="code">
 rc = hPPRSortSystemRootOccurrence-&gt;SortRecursiveBySequence();</pre>
<p>In tree, the complete System\Operation structure aggregated under the Root System is sorted by increasing start Time.
This reorder is recursive and stored. When the structure will be loaded&nbsp; in 
    session, the order in tree will be the same as the order calculated by Time Solver and showing in Gantt.</p>


<script type="text/javascript">insertLinkToTop();</script>
<h2><a name="InShort"></a>In Short </h2>
<p>In Tree, Each branch of System or Operation can be sorted according to their start time. By 
    using the interface on System Root once, the complete System\Operation structure 
    is sorted by using Time Solver completion. </p>
<script type="text/javascript">insertLinkToTop();</script>
<h2><a name="References"></a>References </h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a> </td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<h2><a name="History"></a>History </h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [May 2014] </td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>

</body>

</html>
