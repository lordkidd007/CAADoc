<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css"/>
<script type="text/javascript" src="../CAADocJavaScript/DSDocTocToc.js">/* */</script>
<script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js">/* */</script>
<script type="text/javascript" src="../CAADocJavaScript/submit.js">/* */</script>
<title>User Preferences Reference</title>
</head>

<body onload="createToc();highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>User Preferences Reference</h1>
		</td>
	</tr>
	<tr>
		<td class="tech">Technical Article</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		
		<div id="toc"></div>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="preferences"></a>Declare a User Preference Section</h2>
<p>A user preference section is declared with the <code>widget:preferences</code> tag itself included in the <code>head</code> tag</p>
<pre class="code">
&lt;head&gt;
...
&lt;<b>widget:preferences</b>&gt;
&lt;<b>/widget:preferences</b>&gt;
... 
&lt;/head&gt;
</pre>
<p>Inside this section one or several preferences can be declared, each one using the <code>widget:preference</code> tag</p>
<pre class="code">
&lt;head&gt;
&lt;widget:preferences&gt;
 &lt;<b>widget:preference</b> name="preference_name" [ + others attribut list ]  &gt;
 &lt;<b>/widget:preference</b>&gt;
 ...
&lt;/widget:preferences&gt;
&lt;/head&gt;
</pre>
<p>There is at least the <code>name</code> attribute. For the others, please refer to the section associated with the type of the preference (text, boolean,...).</p>
<p>Examples:</p> 
<pre class="code">
&lt;widget:preferences&gt;
   &lt;widget:preference name="my_text"     type="text"     label="My text pref"     defaultValue="MyDefaulttext"&gt;&lt;/widget:preference&gt;
   &lt;widget:preference name="my_checkbox" type="boolean"  label="My checkbox pref" defaultValue=""&gt;&lt;/widget:preference&gt;
&lt;/widget:preferences&gt;		
</pre>
<p>To be valid, the  XML preferences declarations should follow these requirements:</p>	
<ul>
   <li>About <code> widget:preferences</code> tag </li>
   <ul>
    <li>There MUST be only one such  tag per widget</li>
   <li> The  tag and its content MUST be well-formed XML. Notably, XHTML entities SHOULD be escaped.</li>
   <li> The tag MUST be placed within the XHTML file's <code>head</code>  tag.</li>
   </ul>
    <li>About <code> widget:preference</code> tag </li>
   <ul>
   <li> The tag MUST be within a <code>widget:preferences</code>  tag.</li>
   <li> Each preference MUST be defined within a single widget:preference tag within the <code> widget:preferences</code>  tag.</li>
   <li> Each preference MUST use a unique value for its name attribute.</li>
   <li> Each preference tag MUST be closed with <code> &lt;/widget:preference&gt;</code>  element.</li>
   </ul>
</ul>
<p>About the <b>default value</b>, we strongly recommend to associate an explicite value with the user preference before the first open of  the Preferences dialog box by the end user.The valuation
can be done through the XML tag, or by API. See the <i>User Preferences</i> section in the article <a href="../CAAWebAppsJS/CAAWebAppsTaWidgetWriting.htm">Widget Development Principles </a></p> 
<p>We draw the attention to the reader that the <b>pictures illustrating</b> each kind of preference can be slightly different from the current UI.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Text"></a>Text Preference</h2>
<p>Simple text input.</p>
<h4>XML Syntax</h4>
<pre class="code">
&lt;widget:preference <b>type</b>="text" <b>name</b>="user_name" <b>label</b>="User name" <b>defaultValue</b>="John Doe" <b>onchange</b>="fctname" &gt;&lt;/widget:preference&gt;
</pre>
<p>Where the attributes for <code>widget:preference</code> are:</p>
<table class="fill">
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
<th>Mandatory</th>
</tr>
<tr>
<td>type</td>
<td>text</td>
<td>the type boolean</td>
<td>yes</td>
</tr>
<tr>
<td>name</td>
<td>a string</td>
<td>the identifier of the preference</td>
<td>yes</td>
</tr>
<tr>
<td>label</td>
<td>a string </td>
<td>the string to display above the editor. If no label, the name's value is used.</td>
<td>no</td>
</tr>
<tr>
<td>defaultValue</td>
<td>a string</td>
<td>the initial value while the end user does not have entered a value, or a value has not been set by API.</td>
<td>no</td>
<tr>
<td>onchange</td>
<td>a string</td>
<td>The name of a callback function. See <a href="../CAAWebAppsJS/CAAWebAppsUcDynamicPreference.htm">Dynamic Preference</a> use case  </td>
<td>no</td>
</tr>
</table>
<table class="fill">
</table>
<h4>Rendering</h4>
<table> 
    <tr>
		<td><img alt="list" src="images/CAAWebAppsPreferencesText.png"/></td>
	</tr>
</table> 
<p>An input editor fills in with current text.</p>
<script type="text/javascript">insertLinkToTop();</script>

<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Boolean"></a>Boolean Preference</h2>
<p>Simple checkbox input.</p>
<h4>XML Syntax</h4>
<pre class="code">
&lt;widget:preference <b>type</b>="boolean" <b>name</b>="Open" <b>label</b>="Open File" <b>defaultValue</b>="true"  <b>onchange</b>="fctname" &gt;&lt;/widget:preference&gt;
</pre>
<p>Where the attributes for <code>widget:preference</code> are:</p>
<table class="fill">
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
<th>Mandatory</th>
</tr>
<tr>
<td>type</td>
<td>boolean</td>
<td>the type boolean</td>
<td>yes</td>
</tr>
<tr>
<td>name</td>
<td>a string</td>
<td>the identifier of the preference</td>
<td>yes</td>
</tr>
<tr>
<td>label</td>
<td>a string</td>
<td>the string to display on the left of the check box. If no label, the name's value is used.</td>
<td>no</td>
</tr>
<tr>
<td>defaultValue</td>
<td>"true"|"false"</td>
<td>the initial value while the end user does not have entered a value, or a value has been set by API.</td>
<td>no</td>
</tr>
<tr>
<td>onchange</td>
<td>a string</td>
<td>The name of a callback function. See <a href="../CAAWebAppsJS/CAAWebAppsUcDynamicPreference.htm">Dynamic Preference</a> use case  </td>
<td>no</td>
</tr>

</table>
<table class="fill">
</table>
<h4>Rendering</h4>
<p>On the left, the false value rendering, and on the right the true rendering.</p>
<table> 
    <tr>
		<td><img alt="list" src="images/CAAWebAppsPreferencesBoolean.png"/></td>
		<td><img alt="list" src="images/CAAWebAppsPreferencesBooleanTrue.png"/></td>
	</tr>
</table> 
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="List"></a>List  Preference</h2>
<p>Simple select input.</p>
<h4>XML Syntax</h4>
<pre class="code">
&lt;widget:preference <b>type</b>="list" <b>name</b>="category" <b>label</b>="Possible Category"  <b>defaultValue</b>="1st" <b>onchange</b>="fctname" &gt;
    &lt;widget:option <b>value</b>="all" <b>label</b>="all"&gt;&lt;/widget:option&gt;
    &lt;widget:option value="1st" label="First category"&gt;&lt;/widget:option&gt;
    &lt;widget:option value="2nd" label="Second category"&gt;&lt;/widget:option&gt;
    &lt;widget:option value="3rd" label="Third category"&gt;&lt;/widget:option&gt;
&lt;/widget:preference&gt;
</pre>
<p>Where the attributes for <code>widget:preference</code> are:</p>
<table class="fill">
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
<th>Mandatory</th>
</tr>
<tr>
<td>type</td>
<td>list</td>
<td>the type list</td>
<td>yes</td>
</tr>
<tr>
<td>name</td>
<td>a string</td>
<td>the identifier of the preference</td>
<td>yes</td>
</tr>
<tr>
<td>label</td>
<td>a string</td>
<td>the string to display above the list. If no label, the name's value is used.</td>
<td>no</td>
</tr>
<tr>
<td>defaultValue</td>
<td>a value of one <code>value</code> atttribute among all <code>widget:option</code> tags</td>
<td>the initial value while the end user does not have entered a value, or a value has been set by API.</td>
<td>no</td>
</tr>
<tr>
<td>onchange</td>
<td>a string</td>
<td>The name of a callback function. See <a href="../CAAWebAppsJS/CAAWebAppsUcDynamicPreference.htm">Dynamic Preference</a> use case  </td>
<td>no</td>
</tr>

</table>
<p>Where the attributes for <code>widget:option</code> are:</p>
<table class="fill">
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
<th>Mandatory</th>
</tr>
<tr>
<td>value</td>
<td>the internal value of the element of the list</td>
<td>the type list</td>
<td>yes</td>
</tr>
<tr>
<td>label</td>
<td>a string</td>
<td>the displayed value of the element of the list. If no label, the value's value is used.</td>
<td>no</td>
</tr>

</table>
<h4>Rendering</h4>
<table> 
    <tr>
		<td><img alt="list" src="images/CAAWebAppsPreferencesList.png"/></td>
	</tr>
</table> 
<p>A combo, where the element in the editor is the current value.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Range"></a>Range  Preference</h2>
<p>Simple range input.</p>
<h4>XML Syntax</h4>
<pre class="code">
&lt;widget:preference <b>type</b>="range" <b>name</b>="nb_max_items" <b>label</b>="Max items to display" <b>step</b>="1" <b>min</b>="1" <b>max</b>="7"  <b>defaultValue</b>="5" <b>onchange</b>="fctname" &gt;&lt;/widget:preference&gt;
</pre>
<p>Where the attributes for <code>widget:preference</code> are:</p>
<table class="fill">
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
<th>Mandatory</th>
</tr>
<tr>
<td>type</td>
<td>list</td>
<td>the type list</td>
<td>yes</td>
</tr>
<tr>
<td>name</td>
<td>a string</td>
<td>the identifier of the preference</td>
<td>yes</td>
</tr>
<tr>
<td>label</td>
<td>a string with</td>
<td>the string to display above the list. If no label, the name's value is used.</td>
<td>no</td>
</tr>
<tr>
<td>step</td>
<td>an integer</td>
<td>the gap between two value in the combo. </td>
<td>yes</td>
</tr>
<tr>
<td>min</td>
<td>an integer</td>
<td>the minimal value. Always start with this value.</td>
<td>yes</td>
</tr>
<tr>
<td>max</td>
<td>an integer</td>
<td>the maximal value. It can not be reached according the step value.</td>
<td>yes</td>
</tr>
<tr>
<td>defaultValue</td>
<td>a value of one <code>value</code> atttribute among all <code>widget:option</code> tags</td>
<td>A value between min and max. Check if the value is valid.</td>
<td>no</td>
</tr>
<tr>
<td>onchange</td>
<td>a string</td>
<td>The name of a callback function. See <a href="../CAAWebAppsJS/CAAWebAppsUcDynamicPreference.htm">Dynamic Preference</a> use case  </td>
<td>no</td>
</tr>

</table>
<table class="fill">
</table>
<p><b>Example</b></p>
<table class="fill">
<tr><th>Step</th><th>min</th><th>max</th><th>displayed values</th></tr>
<tr><td>1</td><td>3</td><td>5</td><td>3,4,5</td></tr>
<tr><td>2</td><td>3</td><td>5</td><td>3,5</td></tr>
<tr><td>2</td><td>3</td><td>4</td><td>3</td></tr>
<tr><td>2</td><td>1</td><td>10</td><td>1,3,5,7,9</td></tr>
</table>

<h4>Rendering</h4>
<table> 
    <tr>
		<td><img alt="list" src="images/CAAWebAppsPreferencesRange.png"/></td>
	</tr>
</table> 
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Range"></a>Hidden  Preference</h2>
<p>A preference without visualization.</p>
<h4>XML Syntax</h4>
<pre class="code">
&lt;widget:preference <b>type</b>="hidden" <b>name</b>="MyPrefValue" <b>defaultValue</b>="3" &gt;&lt;/widget:preference&gt;
</pre>
<p>Where the attributes for <code>widget:preference</code> are:</p>
<table class="fill">
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
<th>Mandatory</th>
</tr>
<tr>
<td>type</td>
<td>hidden</td>
<td>the hidden list</td>
<td>yes</td>
</tr>
<tr>
<td>name</td>
<td>a string</td>
<td>the identifier of the preference</td>
<td>yes</td>
</tr>
<tr>
<td>defaultValue</td>
<td>a string</td>
<td>The initial value of the preference</td>
<td>no</td>
</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
