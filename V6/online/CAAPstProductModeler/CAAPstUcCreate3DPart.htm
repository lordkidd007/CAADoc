<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta content="en-us" http-equiv="Content-Language" />
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<link href="../CAADocStyleSheets/caav5.css" rel="stylesheet" type="text/css"/>
<script src="../CAADocJavaScript/DSDocTocToc.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/DSDocHighlight.js" type="text/javascript">/* */</script>
<script src="../CAADocJavaScript/submit.js" type="text/javascript">/* */</script>
<title>Creating 3D Part</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Creating 3D Part</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This article illustrates the methodology to create a 3DPart.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAAPstCreate3DPart Use Case</a>
				<ul>
					<li><a href="#What">What Does CAAPstCreate3DPart Do</a></li>
					<li><a href="#How">How to Launch CAAPstCreate3DPart</a></li>
					<li><a href="#Where">Where to Find the CAAPstCreate3DPart Code</a></li>
				</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>The Use Case details the steps involved in creating a 3D Part.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAAPstCreate3DPart Use Case</h2>
<p>CAAPstCreate3DPart is a use case of the CAAProductStructure.edu framework that 
mainly illustrates ProductStructureUseItf capabilities.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAAPstCreate3DPart Do</h3>
<p>This use case:</p>
<ol>
	<li>Loads in session the Environment request as input</li>
	<li>Retrieves the interface pointer on the 3DPart Factory</li>
	<li>Creates the 3D Part</li>
	<li>Manages the Lifecycle of the newly 3DPart (bag)</li>
	<li>Displays some information about the 3DPart and its associated 3DShape:
		<ul>
			<li>Output the type of the 3DPart</li>
			<li>Display the attribute values of 3DPart</li>
			<li>Retrieve the 3DShape from the 3DPart</li>
			<li>Display the attribute values of the 3DShape</li>
			<li>Confirm the Loading mode of the 3DShape is EDIT mode</li>
		</ul>
	</li>
</ol>
<p>The step 5 is not described in this article.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Launch CAAPstCreate3DPart</h3>
<p>To launch CAAPstCreate3DPart, you will need to set up the build time environment, 
then compile CAAPstCreate3DPart along with its prerequisites, set up the run time 
environment, and then execute the use case [<a href="#References">1</a>].</p>
<p><code>mkrun -c &quot;CAAPstCreate3DPart Repository Server User Password SecurityCtx&quot;</code></p>
<p>where the description of the arguments are as follows:</p>
<table class="fill">
	<tr>
		<th>Repository</th>
		<td>
		<script type="text/javascript">insertRepository();</script>
		</td>
	</tr>
	<tr>
		<th>Server</th>
		<td>The server as ServerName:ServerPort/rootURI</td>
	</tr>
	<tr>
		<th>User</th>
		<td>The user name</td>
	</tr>
	<tr>
		<th>Password</th>
		<td>The user password to authenticate the user</td>
	</tr>
	<tr>
		<th>SecurityCtx</th>
		<td>a string representing the security context (Role.Organization.Project). 
		Choose Role as Designer (as the use case creates the PLM Data)</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Where"></a>Where to Find the CAAPstCreate3DPart Code</h3>
<p>The CAAPstCreate3DPart use case is made of a single file located in the CAAPstCreate3DPart.m 
module of the CAAProductStructure.edu framework:</p>
<p><code>InstallRootFolder\CAAProductStructure.edu\CAAPstCreate3DPart.m\</code></p>
<p>where <code>InstallRootFolder</code> [<a href="#References">1</a>] is the folder 
where the API CD-ROM is installed.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Step"></a>Step-by-Step</h2>
<p>There are ten logical steps in CAAPstCreate3DPart use case. The prolog and epilog 
sections, which correspond to Creating/Closing a PLM session have already been detailed 
in another document [<a href="#References">2</a>].</p>
<ol>
	<li><a href="#Prolog">Prolog</a></li>
	<li><a href="#Step1">Retrieving the Interface Pointer on the 3DPart Factory</a></li>
	<li><a href="#Step2">Creating the 3D Part</a></li>
	<li><a href="#Step3">Managing Product Life Cycle</a></li>
	<li><a href="#Epilog">Epilog</a></li>
</ol>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Prolog"></a>Prolog</h3>
<p>The CAAPstCreate3DPart use case begins by creating a session and connecting to 
the input Repository. This, being the most fundamental prerequisite for all batch 
use cases, it is the first step in their execution. In this case, we create a session 
and connect to Repository with the Administrator Role (since we are create PLM data 
in database). There are other parameters as well, details of which can be found 
in the &quot;Connecting to V6 Server&quot; use case article [<a href="#References">2</a>]. 
This article primarily deals with Opening and Closing a PLM session.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step1"></a>Retrieving the Interface Pointer on the 3DPart Factory</h3>
<p>We retrieve a Factory which provides services for creating a 3DPart.</p>
<pre class="code">...
  CATIPrd3DPartReferenceFactory* pIPLM3DPartFactory = NULL ;
  rc = CATPrdFactory::CreatePrdFactory(IID_CATIPrd3DPartReferenceFactory,(void **) &amp; pIPLM3DPartFactory);
...</pre>
<p>A call to <code>CATPrdFactory::CreatePrdFactory</code> retrieves the pointer 
to the requested factory. The first argument defines the kind of category. The ouput 
argument, <code>pIPLM3DPartFactory</code>, is a <em>CATIPrd3DPartReferenceFactory</em> 
type.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step2"></a>Creating the 3DPart</h3>
<p>This step finally creates the 3DPart.</p>
<pre class="code">...
  CATIPLMProducts * pCreated3DPart = NULL ;
  CATLISTV(CATICkeParm_var) EmptyAttrListForRef ;
  CATLISTV(CATICkeParm_var) EmptyAttrListForRepRef ;
  rc = pIPLM3DPartFactory-&gt;Create3DPart(NULL, EmptyAttrListForRef, EmptyAttrListForRepRef,pCreated3DPart);
...</pre>
<p>The 3DPart is created with the <em>CATIPrd3DPartReferenceFactory</em> interface. 
The <code>Create3DPart</code> method creates a PLM Product Reference, a PLM Product 
Representation Reference (a 3Dshape), and an instance of this 3DShape. The functional 
type of the two references are defined by DS. The arguments of the create method 
are:</p>
<ul>
	<li>The first attribute is the environment, as it is passed as NULL so current 
		environment is used.</li>
	<li>The second/third are empty list since the functional type does not require 
		additional attributes. The method calling the Init Business logic for the 
		two references.</li>
	<li>The last one is <code>pCreated3DPart</code> is a <em>CATIPLMProducts</em> 
		interface pointer on the newly created 3DPart (the PLM Product Reference).</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step3"></a>Managing Product Life Cyle</h3>
<pre class="code">...
CATOmbLifeCycleRootsBag Bag;
rc = Bag.InsertRoot(pCreated3DPart);
...</pre>
<p>Soon a PLM object is created, and not aggregated by another one, already in a 
bag, you must insert it within a &quot;bag&quot; [<a href="#References">4</a>].</p>
<p>At the end of the batch, just before to close the session, the bag will be emptied 
like that:</p>
<pre class="code">...
rc = Bag.<strong>RemoveAll</strong>();
...</pre>
<p>When a PLM Object is no more attached by a bag, it is unloaded from the session.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Epilog"></a>Epilog</h3>
<p>The CAAPstCreate3DPart use case ends by saving and <span></span>closing the PLM 
session. Since all CAA Batch Use Cases necessarily conclude by closing the PLM session, 
we have a dedicated article on this topic namely. &quot;Connecting to V6 Server&quot; 
[<a href="#References">2</a>].</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>The <em>CATIPrd3DPartReferenceFactory</em> interface enables you to create a 
3DPart.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
	<tr>
		<td>[2]</td>
		<td>
		<a href="../CAAPlmServerAccess/CAAAdpUcBasicBatch.htm">
		Connecting to V6 Server</a></td>
	</tr>
	<tr>
		<td>[3]</td>
		<td>
		<a href="../CAAPLMAllConcepts/CAAPLMTaAllEnvironment.htm">
		Understanding PLM Environment</a></td>
	</tr>
	<tr>
		<td>[4]</td>
		<td>
		<a href="../CAAOmbPLMCompMngt/CAAAdpTaBAGMechanism.htm">
		Understanding PLM Component Life Cycle</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Dec 2008]</td>
		<td>Document created</td>
	</tr>
	<tr>
		<td>Version: <strong>2</strong> [Dec 2010]</td>
		<td>Document updated, new factory</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
