<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css"/>
<script type="text/javascript" src="../CAADocJavaScript/DSDocTocToc.js">/* */</script>
<script type="text/javascript" src="../CAADocJavaScript/DSDocHighlight.js">/* */</script>
<script type="text/javascript" src="../CAADocJavaScript/submit.js">/* */</script>
<title>Managing Process Output</title>
</head>

<body onload="highlightSearchTerms();">

<table class="DocHeader">
	<tr>
		<td class="DocHeader1">
		<h1><a name="Top"></a>Managing Process Output</h1>
		</td>
	</tr>
	<tr>
		<td class="use">Use Case</td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<table class="abstract">
	<tr>
		<td>
		<h2>Abstract</h2>
		<p>This article describes an example of use of Framework DELPPRProcessItf</p>
		<p>This usecase shows how to assign a product occurrence to a process occurrence as 
            an output of the process through the Materialization Links; how to navigate along occurrences linked by this relationship and remove the process 
            output.</p>
		<ul>
			<li><a href="#Learn">What You Will Learn With This Use Case</a></li>
			<li><a href="#UseCase">The CAAFmiProcessOutput Use Case</a>
			<ul>
				<li><a href="#What">What Does CAAFmiProcessOutput Do</a></li>
				<li><a href="#How">How to Launch CAAFmiProcessOutput</a></li>
				<li><a href="#Where">Where to Find the CAAFmiProcessOutput Code</a>
				</li>
			</ul>
			</li>
			<li><a href="#Step">Step-by-Step</a></li>
			<li><a href="#InShort">In Short</a></li>
			<li><a href="#References">References</a></li>
		</ul>
		</td>
	</tr>
</table>
<h2><a name="Learn"></a>What You Will Learn With This Use Case</h2>
<p>In this use case, you will learn how to use the DELIPPRProcessAuth and DELIPPRProcessNav 
interfaces in order to:</p>
<ul>
	<li>Set a Process Output on the process reference through the materialization.</li>
	<li>Retrieve the Process output.</li>
    <li>Remove the process output from a given process occurrence.</li>
</ul>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="UseCase"></a>The CAAFmiProcessOutput Use Case</h2>
<p>CAAFmiProcessOutput is a use case of the CAAPPRProcessItf.edu framework that 
illustrates DELPPRProcessItf framework capabilities.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="What"></a>What Does CAAFmiProcessOutput Do</h3>
<ul>
	<li>Query root product and process references.</li>
	<li>Inserts them into the Bag.</li>
	<li>Set the process output for a process occurrence as the product.</li>
	<li>Get the process output for that process</li>
    <li>Remove the process output.</li>
</ul>
<table>
	<caption>Fig. 1: Model Structure of this Use Case</caption>
	<tr>
		<td>
		<img src="images/CAAFmiProcessOutput.png" alt="Model Structure" style="height: 187px; width: 575px"/>
		</td>
	</tr>
</table>
<p><strong>Use case Objects: </strong><code>CAAFmiProcessOutput</code></p>
<p><strong>Expected Result: </strong>The result is a return code, its value is:</p>
<ul>
	<li>0 on successful completion</li>
	<li>1 if execution failed.</li>
</ul>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="How"></a>How to Launch CAAFmiProcessOutput</h3>
<p>To launch CAAFmiProcessOutput, you will need to set up the build time environment, 
then compile CAAFmiProcessOutput along with its prerequisites, set up the run time 
environment, and then execute the use case [<a href="#References">1</a>].</p>
<p><strong>Additional instructions:</strong></p>
<p>mkrun -c &quot;CAAFmiProcessOutput Repository Server User 
Password SecurityCtx Environment&quot;</p>
<p>where:</p>
<table class="fill">
	<tr>
		<th>Parameter</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>Repository</td>
		<td>The name of the repository (or provider)</td>
	</tr>
	<tr>
		<td>Server</td>
		<td>The name and port of the server</td>
	</tr>
	<tr>
		<td>User</td>
		<td>The user identifier</td>
	</tr>
	<tr>
		<td>Password</td>
		<td>The user password</td>
	</tr>
	<tr>
		<td>SecurityCtx</td>
		<td>A string representing the security context (Role.Organization.Project)</td>
	</tr>
	<tr>
		<td>Environment</td>
		<td>A PLM Environment containing a modeler customization</td>
	</tr>
</table>
<p><strong>Example:</strong> <code>mkrun -c &quot;CAAFmiProcessOutput PLM1 ve4al10dsy:8090 uxodtipt 
Ovb2pcds VPMADMIN.ADMIN.DEFAULT VPM&quot;</code></p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Where"></a>Where to Find the CAAFmiProcessOutput Code.</h3>
<p>The CAAFmiProcessOutput use case is made of a file located in the CAAFmiProcessOutput.m 
module of the CAAPPRProcessItf.edu framework:</p>
<p><code>InstallRootFolder\CAADoc\CAAPPRProcessItf.edu\CAAFmiProcessOutput.m</code></p>
<p>where <code>InstallRootFolder</code> [<a href="#References">1</a>] is the folder 
where the API CD-ROM is installed.</p>
<p><em>Main files:</em></p>
<pre class="code">
CAAPPRProcessItf.edu/CAAFmiProcessOutput.m/src/CAAFmiProcessOutput.cpp</pre>
<pre class="code">
CAAPPRProcessItf.edu/ProtectedInterfaces/CAAFmiSessionServices.h
CAAPPRProcessItf.edu/ProtectedInterfaces/CAAFmiFindServices.h
CAAPPRProcessItf.edu/ProtectedInterfaces/CAAFmiReleaseServices.h
CAAPPRProcessItf.edu/ProtectedInterfaces/CAAFmiOccurrenceServices.h
CAAPPRProcessItf.edu/CAAFmiServices.m/src/CAAFmiSessionServices.cpp
CAAPPRProcessItf.edu/CAAFmiServices.m/src/CAAFmiFindServices.cpp
CAAPPRProcessItf.edu/CAAFmiServices.m/src/CAAFmiReleaseServices.cpp
CAAPPRProcessItf.edu/CAAFmiServices.m/src/CAAFmiOccurrenceServices.cpp
</pre>
<pre class="code">
CAAPLMClientAdapter.edu/PublicInterfaces/CAAAdpCreateCloseSession.h</pre>
<p><em>CAA files :</em></p>
<pre class="code">
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIntegrationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess', 'class', 'CATAdpDictionaryServices');return false;">/PublicInterfaces/CATAdpDictionaryServices.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIntegrationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess', 'class', 'CATAdpQueryServices');return false;">/PublicInterfaces/CATAdpQueryServices.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIntegrationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess', 'class', 'CATAdpOpenSaveServices');return false;">/PublicInterfaces/CATAdpOpenSaveServices.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIntegrationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess', 'class', 'CATAdpIdentificationSet');return false;">/PublicInterfaces/CATAdpIdentificationSet.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIntegrationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess', 'class', 'CATLISTP(CATAdpQueryResult)');return false;">/PublicInterfaces/CATLISTP_CATAdpQueryResult.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIdentificationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIdentificationAccess', 'interface', 'CATIAdpType');return false;">/PublicInterfaces/CATIAdpType.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIdentificationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIdentificationAccess', 'interface', 'CATIAdpPLMIdentificator');return false;">/PublicInterfaces/CATIAdpPLMIdentificator.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess');return false;">CATPLMIntegrationAccess</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMIntegrationAccess', 'interface', 'CATIAdpEnvironment');return false;">/PublicInterfaces/CATIAdpEnvironment.h</a>
</pre>
<p><em>Documented Framework:</em></p>
<pre class="code">
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf');return false;">DELPPRProcessItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf', 'function', 'GetPPRProcessAuth');return false;">/PublicInterfaces/DELPPRProcessAuthAccess.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf');return false;">DELPPRProcessItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf', 'interface', 'DELIPPRProcessAuth');return false;">/PublicInterfaces/DELIPPRProcessAuth.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf');return false;">DELPPRProcessItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf', 'function', 'GetPPRProcessNav');return false;">/PublicInterfaces/DELPPRProcessNavAccess.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf');return false;">DELPPRProcessItf</a><a href="#" onclick="javascript:CAAlink('CPP', 'DELPPRProcessItf', 'interface', 'DELIPPRProcessNav');return false;">/PublicInterfaces/DELIPPRProcessNav.h</a>
</pre>
<pre class="code">
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'class', 'CATIPLMNavReference');return false;">/PublicInterfaces/CATIPLMNavReference.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'interface', 'CATIPLMNavOccurrence');return false;">/PublicInterfaces/CATIPLMNavOccurrence.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'interface', 'CATIPLMNavInstance');return false;">/PublicInterfaces/CATIPLMNavInstance.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'interface', 'CATIPLMNavEntity');return false;">/PublicInterfaces/CATIPLMNavEntity.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'class', 'CATListPtrCATIPLMNavInstance');return false;">/PublicInterfaces/CATListPtrCATIPLMNavInstance.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces');return false;">CATPLMComponentInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'CATPLMComponentInterfaces', 'class', 'CATListPtrCATIPLMNavEntity');return false;">/PublicInterfaces/CATListPtrCATIPLMNavEntity.h</a>
</pre>
<pre class="code">
<a href="#" onclick="javascript:CAAlink('CPP', 'ObjectModelerBase');return false;">ObjectModelerBase</a><a href="#" onclick="javascript:CAAlink('CPP', 'ObjectModelerBase', 'class', 'CATOmbLifeCycleRootsBag');return false;">/PublicInterfaces/CATOmbLifeCycleRootsBag.h</a>
</pre>
<pre class="code">
<a href="#" onclick="javascript:CAAlink('CPP', 'ProductStructureInterfaces');return false;">ProductStructureInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'ProductStructureInterfaces', 'function', 'CATPrdGetOccurrenceMngt');return false;">/PublicInterfaces/CATPrdGetOccurrenceMngt.h</a>
<a href="#" onclick="javascript:CAAlink('CPP', 'ProductStructureInterfaces');return false;">ProductStructureInterfaces</a><a href="#" onclick="javascript:CAAlink('CPP', 'ProductStructureInterfaces', 'interface', 'CATIPrdOccurrenceMngt');return false;">/PublicInterfaces/CATIPrdOccurrenceMngt.h</a>
</pre>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="Step"></a>Step-by-Step</h2>
<p>There are eight logical steps in CAAFmiProcessOutput:</p>
<ol>
	<li><a href="#Step1">Retrieving the DELIPPRProcessAuth and DELIPPRProcessNav Interfaces</a></li>
	<li><a href="#Step2">Querying Root Process and Root Product References in the Database</a></li>
	<li><a href="#Step3">Retrieving Process Occurrence</a></li>
	<li><a href="#Step4">Setting Process Output on the Process Reference</a></li>
	<li><a href="#Step5">Getting Process Materialized by the Given Product Reference</a></li>
    <li><a href="#Step6">Setting Process Output on the Process Occurrence</a></li>
	<li><a href="#Step7">Getting Process Materialized by the Given Product Occurrence</a></li>
    <li><a href="#Step8">Removing Process out from the Given Process Reference</a></li>
</ol>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step1"></a>Retrieving the DELIPPRProcessAuth and DELIPPRProcessNav Interfaces</h3>
<pre class="code">
DELIPPRProcessAuth_var hPPRProcessAuth;
rc = ::GetPPRProcessAuth(hPPRProcessAuth);
DELIPPRProcessNav_var hPPRProcessNav;
rc = ::GetPPRProcessNav(hPPRProcessNav);</pre>
<p>The DELIPPRProcessAuth interface will later be used to create relation between 
Product and Process and the DELIPPRProcessNav interface to navigate along it.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step2"></a>Querying Root Process and Root Product References in the Database</h3>
<pre class="code">
CATOmbLifeCycleRootsBag Bag;
CATAdpAttributeSet AttributeSetProcess;
AttributeSetProcess.AddAttribute(&quot;PLM_ExternalID&quot;,&quot;Assemble.1&quot;); 
AttributeSetProcess.AddAttribute(&quot;V_version&quot;,&quot;---&quot;); 
CATIType_var spTypeProcess;
rc = CATCkePLMNavPublicServices::RetrieveKnowledgeType(&quot;DELFmiFunctionReference&quot;,spTypeProcess);

CATIPLMNavReference * piRootProcess = NULL;
int ret = CAAFmiFindServices::FindReference(piEnv, Bag, AttributeSetProcess,
                                            spTypeProcess, 
                                            IID_CATIPLMNavReference, 
                                            (void **)&amp;piRootProcess);
                                            
CATAdpAttributeSet AttributeSetProduct;
AttributeSetProduct.AddAttribute(&quot;PLM_ExternalID&quot;,&quot;Product.1&quot;); 
AttributeSetProduct.AddAttribute(&quot;V_version&quot;,&quot;---&quot;); 
CATIType_var spTypeProduct;
rc = CATCkePLMNavPublicServices::RetrieveKnowledgeType(&quot;VPMReference&quot;,spTypeProduct);

CATIPLMNavReference * piRootProduct = NULL;
ret = CAAFmiFindServices::FindReference(piEnv,Bag,AttributeSetProduct, 
                                        spTypeProduct, 
                                        IID_CATIPLMNavReference,
                                        (void **)&amp;piRootProduct);</pre>
<p>The DELIPPRProcessAuth interface will be later used to create relation between 
Product and Process and to navigate along it.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step3"></a>Retrieving Process Occurrence</h3>
<pre class="code">
CATIPLMNavOccurrence_var hNavOccOnProcessInst;
rc = CAAFmiOccurrenceServices:: GetOccurrenceFromProcessReference(hNavRefOnRootProcess, hNavOccOnProcessInst);;
</pre>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step4"></a>Setting Process Output on the Process Reference</h3>
<pre class="code">
hPPRProcessOutputAuth-&gt;SetProcessOutput(pProcess, pProduct);</pre>
<p>DELIPPRProcessAuth sets the product as the process output on process reference.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step5"></a>Getting Process Materialized by the Given Product Reference</h3>
<pre class="code">
CATIPLMNavReference * pProductOut = NULL;	
rc = hPPRProcessOutputNav-&gt;GetProcessOutput(pProcess, pProductOut);</pre>
<p>Using the DELIPPRProcessNav interface, the process output is retrieved.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step6"></a>Setting Process Output on the Process Occurrence</h3>
<pre class="code">
hPPRProcessOutputAuth-&gt;SetProcessOutput(hNavOccOnProcessInst, pProduct);</pre>
<p>DELIPPRProcessAuth sets the product as the process output on process occurrence.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step7"></a>Getting Process Materialized by the Given Product Occurrence</h3>
<pre class="code">
rc = hPPRProcessOutputNav-&gt;GetProcessOutput(hNavOccOnProcessInst, pProductOut);</pre>
<p>Using the DELIPPRProcessNav interface, the process output is retrieved.</p>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h3><a name="Step8"></a>Removing Process out from the Given Process Reference</h3>
<pre class="code">
rc = hPPRProcessOutputAuth-&gt;RemoveProcessOutput(pProcess);</pre>
<p>DELIPPRProcessAuth removes the process output.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="InShort"></a>In Short</h2>
<p>Processes can be set as the process materialized by a given product; list of processes can be got and 
it can also be removed using the APIs.</p>
<script type="text/javascript">insertLinkToTop();</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="References"></a>References</h2>
<table class="reference">
	<tr>
		<td>[1]</td>
		<td>
		<a href="../CAADocUseCases/CAADocRunSample.htm">
		Building and Launching a Use Case</a></td>
	</tr>
	<tr>
		<td>[2]</td>
		<td>
		<a href="#" onclick="javascript:CAAlinkOutOfPreqs('CAAPilPhysImplLink/CAAPilPhysImplLinkUseItfToc.htm');return false;">
		Implement Links</a></td>
	</tr>
	<tr>
		<td>[3]</td>
		<td>
		<a href="CAAFmiUcCreateStructure.htm">Creating a Process Structure</a></td>
	</tr>
</table>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<h2><a name="History"></a>History</h2>
<table class="history">
	<tr>
		<td>Version: <strong>1</strong> [Jul 2012]</td>
		<td>Document created</td>
	</tr>
</table>
<script type="text/javascript">insertLinkToTop()</script>
<!-- -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-comment-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<script type="text/javascript">insertCopyright();</script>

</body>

</html>
